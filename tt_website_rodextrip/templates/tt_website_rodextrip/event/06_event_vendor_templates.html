{% extends 'tt_website_rodextrip/template_website_booking.html' %}
{% load i18n %}
{% load static from staticfiles %}
{% block content %}
<script src="{{ static_path }}js/webservice_token.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_agent.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/event_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_event.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/pricing_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_payment_acq.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/moment.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_printout.js?version={{javascript_version}}"></script>
<script>
    static_path_url_server = '{{static_path_url_server}}'
    signature = `{{signature}}`;
    time_limit = {{time_limit}};
    session_time_limit();
    sorting_value = '';
</script>
{% include 'tt_website_rodextrip/header.html' %}
{% include 'tt_website_rodextrip/logout.html' %}
{% include 'tt_website_rodextrip/plugin_passenger.html' %}
{% include 'tt_website_rodextrip/loading_screen.html' %}

<section class="destinations-area" style="padding-bottom:40px; z-index:1; background:#f7f7f7">
    <div class="container">
        <div class="row" style="padding-bottom:15px;">
            <div class="col-lg-12">
                <div style="border:1px solid #cdcdcd; background:white;">
                    <div style="background-image: url({{static_path}}images/bg_7.jpg); background-position: center; background-repeat: no-repeat; background-size: cover; height:300px; width:100%; border:1px solid #cdcdcd; border-bottom-left-radius: 14px; border-bottom-right-radius: 14px;"></div>
                    <div style="padding:15px; text-align:center; border-bottom:1px solid #cdcdcd;">
                        {% if vendor.vendor_logo != ''%}
                        <img src="{{vendor.vendor_logo}}" class="image-rounded-profile2"/>
                        {% else %}
                        <img src="{{static_path}}images/noprofile.png" class="image-rounded-profile2"/>
                        {% endif %}
                        <h5 style="padding-top:10px;">{{vendor.vendor_name}}</h5>
                        <input id="vendor_id" name="vendor_id" type="hidden" value="{{vendor.vendor_id}}"/>
                        <input id="signature" name="signature" type="hidden" value="{{signature}}"/>
                        {% if vendor.description != False %}
                        <span>{{vendor.description}}</span>
                        <br/><br/>
                        {% endif %}
                        <span class="copy_span" style="text-transform: capitalize; font-size:13px;"><i class="fas fa-map-marker-alt"></i>
                            {% if vendor.vendor_address.address != ''%}
                            {{vendor.vendor_address.address}}
                            {% endif %}

                            {% if vendor.vendor_address.city != ''%}
                            , {{vendor.vendor_address.city}}
                            {% endif %}

                            {% if vendor.vendor_address.country != ''%}
                            , {{vendor.vendor_address.country}}
                            {% endif %}
                        </span>

                        {% if vendor.join_date != False %}
                        <br/>
                        <i>Member Since {{vendor.join_date}}</i>
                        {% endif %}
                        <br/>
                    </div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="filter-search-flight" id="filter-search-flight">
                    <div style="background-color:white; border:1px solid #cdcdcd; padding:10px; margin-top:20px;" id="filter"></div>
                </div>
            </div>
            <div class="col-lg-9">
                <div class="row" style="padding:15px;">
                    <div class="col-lg-12" id="hotel_result"></div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div id="pagination-container" style="margin-bottom:10px; padding:15px;"></div>
                    </div>
                </div>
                <div class="row" id="event_ticket_objs" style="padding:15px;">
                </div>
                <div id="event_error">

                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div id="pagination-container2" style="padding:15px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% include 'tt_website_rodextrip/footer.html' %}
<script>
    event_search_vendor();
    get_event_config('search');

    function goto_detail(type, counter){
       document.getElementById('event'+counter).innerHTML += `{% csrf_token %}`;
       document.getElementById('event'+counter).innerHTML += `<input type='hidden' value='`+time_limit+`' name='time_limit_input'/>`;
       document.getElementById('event'+counter).submit();
    }
</script>
{% endblock %}