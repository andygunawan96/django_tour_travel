{% extends 'tt_website_rodextrip/template_website_booking.html' %}
{% load i18n %}
{% load static from staticfiles %}
{% block content %}
<!--<script src="{{ static_path }}js/webservice_token.js"></script>-->
<!--<script src="{{ static_path }}vendor/jquery/jquery-3.2.1.min.js?version={{javascript_version}}"></script>-->
<script src="{{ static_path }}js/webservice_token.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_agent.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/medical_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_medical.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/agent_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/moment.js?version={{javascript_version}}"></script>

<script>
    signature = '{{signature}}';
    time_limit = {{time_limit}};
    //session_time_limit();
    test_time = 1;
    counter_passenger = 0;
    titles = `{{titles}}`;
    titles = JSON.parse(titles.replace(/&#39;/g, '"'));
    countries = `{{countries}}`;
    countries = countries.replace(/&quot;CÃ´te d&#39;Ivoire&quot;/g, `"Cote D'Ivoire"`); //case khusus
    countries = countries.replace(/&#39;/g, '"');
    countries = countries.replace(/&quot;/g, '"');
    countries = countries.replace(/False/g, 'false');
    countries = countries.replace(/True/g, 'true');
    countries = JSON.parse(countries);
    google_api_key = '{{google_api_key}}';
    total_passengers_rebooking = {{total_passengers_rebooking}};
</script>

<script type="text/javascript">
    //disable back in next page
    function disableBack() { window.history.forward(); }
    setTimeout("disableBack()", 0);
    window.onunload = function () { null };
</script>
{% include 'tt_website_rodextrip/logout.html' %}
{% include 'tt_website_rodextrip/loading_screen.html' %}
{% include 'tt_website_rodextrip/check_connection.html' %}
{% include 'tt_website_rodextrip/modal_balance_vendor.html' %}
<title id="title_search">{{name}} {% trans 'Medical' %} - {% trans 'Customer' %}</title>
<style>
    label{
        color:black !important;
    }
    .pac-card {
      margin: 10px 10px 0 0;
      border-radius: 2px 0 0 2px;
      box-sizing: border-box;
      -moz-box-sizing: border-box;
      outline: none;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      background-color: #fff;
      font-family: Roboto;
    }

    #googleMap {
        margin: 0px 15px;
    }

    #pac-container {
      padding-bottom: 12px;
      margin-right: 12px;
    }

    .pac-controls {
      display: inline-block;
      padding: 5px 11px;
    }

    .pac-controls label {
      font-family: Roboto;
      font-size: 13px;
      font-weight: 300;
    }

    #pac-input {
      background-color: #fff;
      font-family: Roboto;
      font-size: 15px;
      font-weight: 300;
      margin-left: 12px;
      padding: 0 11px 0 13px;
      text-overflow: ellipsis;
      width: 400px;
    }

    #pac-input:focus {
      border-color: #4d90fe;
    }
    .nice-select .list {
        max-height: 130px !important;
        min-height: 50px !important;
        height: unset !important;
    }
</style>
{%if template == 1%}
<header id="header" class="header_breadcrumb" style="position:sticky; top:0px;">
    <div class="main-menu">
        <div class="container">
            <div class="row align-items-center justify-content-between d-flex">
                <div id="logo" class="col-lg-2 col-md-2 col-sm-2">
                    <a href="{% url 'tt_website_rodextrip:index'%}"><img src="{{logo}}" style="max-height:40px;max-width:150px;" alt="Logo {{name}}" title="{{name}}" /></a>
                </div>
                <div class="col-lg-10 col-md-10 col-sm-10" id="breadcrumbs_create">

                </div>
            </div>
            <div class="row">
                {% include 'tt_website_rodextrip/balance_credit.html' %}
            </div>
        </div>
    </div>
    {% if username.co_user_login == 'agent_b2c' %}
    {% include 'tt_website_rodextrip/header_signin_signup.html' %}
    {% endif %}
</header>
<section class="destinations-area" style="padding-top:30px; padding-bottom:40px;">
    <div class="container">
        <div class="banner-right">
            <form id="medical_review" class="form-wrap" action="/medical/{{vendor}}/review" method="POST" style="padding:0; text-align:unset;">
                {% csrf_token %}
                <div class="row">
                    <div class="col-lg-12 mb-3">
                        <h3 id="medical_product" style=""></h3>
                    </div>
                    <div class="col-lg-12" style="margin-top:10px;">
                        {% if vendor == 'periksain' %}
                        <img src="{{static_path}}images/icon/periksain.jpeg" alt="Periksain" style="margin-bottom:15px;background:white; width:auto; height:120px;">
                        {% elif vendor == 'phc' %}
                        <img src="{{static_path}}images/icon/phc.png" alt="PHC" style="margin-bottom:15px;background:white; width:auto; height:120px;">
                        {% endif %}
                    </div>
                    <div class="col-lg-12" style="margin-top:10px;">
                        {% if vendor == 'phc' %}
                        <div class="row" style="padding:15px;">
                            <div class="col-lg-12" style="padding:15px; background-color:white; border:1px solid #cdcdcd;" id="informasi_penting">
                                <h3 style="color:red;">INFORMASI PENTING!</h3>
                                <hr/>
                            </div>
                        </div>
                        {% endif %}

                    </div>
                    <div class="col-lg-12" style="margin-top:10px;">
                        <div class="col-lg-12" id="show_loading_booking_medical">
                            <div class="center-div">
                                <div>
                                    <img src="{{static_path}}img/loading-screen-white.gif" style="height:25px; width:25px;"/>
                                </div>
                            </div>
                            <div style="text-align:center">
                                <span style="font-size:18px; font-weight:bold;">{% trans 'PLEASE WAIT' %} ... </span>
                            </div>
                        </div>
                        <div class="row" style="display:none;">
                            <div class="col-lg-12">
                                <div id="booker" style="background-color:white; padding:10px; border:1px solid #cdcdcd;">
                                    <div class="row">
                                        <div class="col-lg-12">

                                            <h4>{% trans 'Booker Information' %}</h4>
                                            <hr/>
                                        </div>
                                        <div class="col-lg-6" style="text-align:left;">
                                            <!--                                            <label>Booker Type :</label><br/>-->
                                            <!--                                            <label class="radio-button-custom">-->
                                            <!--                                                Corporate-->
                                            <!--                                                <input type="radio" checked="checked" name="radio-booker-type">-->
                                            <!--                                                <span class="checkmark-radio"></span>-->
                                            <!--                                            </label>-->
                                            <!--                                            <label class="radio-button-custom">-->
                                            <!--                                                Individual-->
                                            <!--                                                <input type="radio" name="radio-booker-type">-->
                                            <!--                                                <span class="checkmark-radio"></span>-->
                                            <!--                                            </label>-->
                                        </div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            {% if 'b2c_limitation' not in username.co_agent_frontend_security and 'corp_limitation' not in username.co_agent_frontend_security %}
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal" onclick="loadingPaxHide();"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="booker_clear" onclick="clear_passenger('Booker', 0);" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                            {% endif %}
                                        </div>

                                        <div class="modal fade" id="myModal" role="dialog">
                                            <div class="modal-dialog">

                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Booker List' %} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('booker','');">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="row">
                                                            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                                <input class="form-control" type="text" id="train_booker_search" placeholder="{% trans 'Search' %}"/>
                                                            </div>
                                                            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                                <button type="button" id="booker_search" class="primary-btn" onclick="get_customer_list('booker','0','train');">{% trans 'Search' %} <i class="fas fa-search"></i></button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-booker-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('booker','');">{% trans "Close" %}</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-xs-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans "Title" %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select-2" id="default-select">
                                                    <select id="booker_title" name="booker_title" class="nice-select-default" onchange="change_booker_value('train');">
                                                        {% for title in adult_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                            <div class="row" style="margin:0">
                                                <button type="button" class="btn btn-secondary" style="width:42px;height:42px;margin-right:5px;" data-toggle="modal" data-target="#myModalHelp"><i class="fas fa-info-circle"></i></button>
                                                <button type="button" class="tooltip-inner" style="display:none" id="corporate_booker" data-tooltip=""><i class="fas fa-money-bill-wave-alt"></i> {% trans "Corporate Booker" %}</button>
                                                <div class="modal fade" id="myModalHelp" role="dialog">
                                                    <div class="modal-dialog">

                                                        <!-- Modal content-->
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div class="col-sm-12">
                                                                    <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                                </div>
                                                                <div>
                                                                    <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                                    <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                                    <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'First name and middle name (if any)' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" onchange="capitalizeInput('booker_first_name');change_booker_value('train');" class="form-control" name="booker_first_name" id="booker_first_name" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="booker_birth_date" id="booker_birth_date" />
                                                <input type="hidden" class="form-control" name="booker_id_type" id="booker_id_type" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_id_number" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_exp_date" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_country_of_issued" />
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <br/>
                                            <label>{% trans 'Last name' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" onchange="capitalizeInput('booker_last_name');change_booker_value('train');" class="form-control" name="booker_last_name" id="booker_last_name" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Nationality' %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="form-control js-example-basic-single" name="booker_nationality_id" style="width:100%;" id="booker_nationality_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('booker_nationality');change_booker_value('train');" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="booker_nationality" id="booker_nationality" />
                                            </div>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Contact Email Address' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="booker_email" id="booker_email" placeholder="{% trans 'Email Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '" onchange="change_booker_value('train');">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'Example' %}: email@example.com</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label style="margin:0;">{% trans 'WA Number (WhatsApp Number)' %}:</label>
                                            <div class="row">
                                                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                    <div class="form-select">
                                                        <select class="form-control js-example-basic-single" name="booker_phone_code_id" style="width:100%;" id="booker_phone_code_id" onchange="auto_complete('booker_phone_code');change_booker_value('train');" class="nice-select-default">
                                                            {% for phone in phone_code %}
                                                            <option value="{{phone}}" {% if phone == 62%} selected {%endif%}>{{phone}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                    <input type="hidden" name="booker_phone_code" id="booker_phone_code" />
                                                </div>
                                                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                    <input type="text" class="form-control" name="booker_phone" id="booker_phone" placeholder="{% trans 'Phone' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '" onchange="change_booker_value('train');">
                                                    <input type="hidden" class="form-control" name="booker_id" id="booker_id">
                                                </div>
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'Example' %}: 812345678</label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-12" style="padding:15px; background:white; border:1px solid #cdcdcd;" id="medical_pax_div" hidden>
                            <h4>Customer</h4><hr/>
                            <div class="row ">
                                <div class="col-lg-6 col-xs-6">
                                    <label style="color:red !important;">*</label>
                                    <label>{% trans "Number of Customers" %}</label>
                                    <div class="input-container-search-ticket">
                                        <div class="form-select-2" id="default-select">
                                            <select id="passenger" name="passenger" class="nice-select-default" onchange="add_table();">
                                                <!--ganti phc boleh minimal 1 orang -->
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5">5</option>
                                                <option value="6">6</option>
                                                <option value="7">7</option>
                                                <option value="8">8</option>
                                                <option value="9">9</option>
                                                <option value="10">10</option>
                                                <option value="11">11</option>
                                                <option value="12">12</option>
                                                <option value="13">13</option>
                                                <option value="14">14</option>
                                                <option value="15">15</option>
                                                <option value="16">16</option>
                                                <option value="17">17</option>
                                                <option value="18">18</option>
                                                <option value="19">19</option>
                                                <option value="20">20</option>
                                            </select>
                                        </div>
                                    </div>
                                    <label style="font-size:12px; padding:0;"></label>
                                </div>

                                {% if wa_number != '' %}
                                <div class="col-lg-12 col-xs-12">
                                    <label>{% trans "For 20 pax / greater you can call" %} {{wa_number}} {% trans "for special price"%}</label>
                                </div>
                                {% endif %}

                                <div class="col-lg-12" style="text-align:left; margin-top:20px; margin-bottom:15px;display:none;" id="table_passenger_list">
                                    <div class="row" id="loading-booker-train" style="display:none;">
                                        <div class="col-lg-12">
                                            <div class="sk-circle">
                                                <div class="sk-circle1 sk-child"></div>
                                                <div class="sk-circle2 sk-child"></div>
                                                <div class="sk-circle3 sk-child"></div>
                                                <div class="sk-circle4 sk-child"></div>
                                                <div class="sk-circle5 sk-child"></div>
                                                <div class="sk-circle6 sk-child"></div>
                                                <div class="sk-circle7 sk-child"></div>
                                                <div class="sk-circle8 sk-child"></div>
                                                <div class="sk-circle9 sk-child"></div>
                                                <div class="sk-circle10 sk-child"></div>
                                                <div class="sk-circle11 sk-child"></div>
                                                <div class="sk-circle12 sk-child"></div>
                                            </div>
                                            <div style="text-align:center"><h6>PLEASE WAIT</h6></div>
                                        </div>
                                    </div>

                                    <div class="row" id="div_of_passenger">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" id="copy_booker_to_pax_div" hidden>
                    <div class="col-lg-8" style="display:none;">
                        <div style="background:white; padding:10px; border:1px solid #cdcdcd;">
                            <label>{% trans 'Do you book this reservation for you?' %}</label>
                            <label class="radio-button-custom">
                                {% trans 'Yes' %}
                                <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('copy','medical');" value="yes"/>
                                <span class="checkmark-radio"></span>
                            </label>

                            <label class="radio-button-custom">
                                {% trans 'No' %}
                                <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('change','medical');" value="no" checked="checked"/>
                                <span class="checkmark-radio"></span>
                            </label>

                            <br/>
                            <label>{% trans 'Passenger Data' %}</label><br/>
                            <ul>
                                <li>{% trans '1. Caution: the name of the passenger must be right and appropriate with international passport, and domestic route can match with KTP/Passport/SIM' %}</li>
                                <li>{% trans "2. Passenger data can't be changed after the passing of this page" %}</li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-4"></div>
                </div>
                <div class="row mt-3" style="padding:15px;">
                    <div class="col-lg-12" id="div_schedule_medical" style="padding:15px; background:white; border:1px solid #cdcdcd;">
                        <h4>Schedule</h4><hr/>
                        <div class="row">
                            <!--testaddress-->
                            <div class="col-lg-6">
                                <label style="color:red !important;">*</label>
                                <label>{% trans "Area Test" %}</label>
                                <div class="input-container-search-ticket">
                                    <div class="form-select-2" id="default-select">
                                        <select id="booker_area" name="booker_area" class="nice-select-default" onchange="reset_other_time();change_area('change_area_display');">

                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-12 mt-4" style="padding:15px; border-top:1px solid #cdcdcd; border-bottom:1px solid #cdcdcd; display:none;" id="medical_timeslot">
                                <div class="row">
                                    <div class="col-lg-12" id="timeslot_type" style="padding:0px; text-align:left;margin-bottom:10px;">
                                        <label class="radio-button-custom" style="margin-left:15px;">
                                            <span style="font-size:14px;">Fix Time</span>
                                            <input type="radio" checked="checked" id="fix" name="timeslot_type" value="Fix" onclick="radio_timeslot_type_func('fix');">
                                            <span class="checkmark-radio"></span>
                                        </label>
                                        <!--<label class="radio-button-custom">-->
                                            <!--<span style="font-size:14px;">Flexible Time</span>-->
                                            <!--<input type="radio" id="flexible" name="timeslot_type" value="Flexible" onclick="radio_timeslot_type_func('flexible');">-->
                                            <!--<span class="checkmark-radio"></span>-->
                                        <!--</label>-->
                                    </div>

                                    <div id="test" class="col-lg-12">

                                    </div>

                                    <div class="col-lg-12 mt-2" style="text-align:center;" id="add_test_time_button" hidden>
                                        <button class="primary-btn-ticket" type="button" value="" onclick="add_other_time();">
                                            Add more timeslot
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-12 mt-2">
                                <label style="color:red !important;">*</label>
                                <label>{% trans 'Test Address' %}</label>
                                <div class="input-container-search-ticket">
                                    <textarea type="text" class="form-control" style="height:120px;" name="booker_address" id="booker_address" placeholder="{% trans 'Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Address '" onchange="change_booker_value('train');"></textarea>
                                </div>
                                <label style="font-size:12px; padding:0;">{% trans 'Example' %}: Jl. Raya Darmo 177b</label>
                            </div>
                            <div id="map"></div>
                            <div id="googleMap" style=""></div>
                        </div>

                        <div class="col-lg-12 mt-3" style="text-align:center;">
                            <button id="check_price_medical" class="primary-btn-ticket" type="button" value="" onclick="medical_check_price();" hidden>
                                Check Price
                            </button>
                        </div>
                        {% if vendor != 'phc' %}
                        <div class="col-lg-12" style="margin-top:15px; text-align:center;">
                            <a style="width:100%; color:{{color}}; text-decoration:underline; cursor:pointer;" onclick="window.location.href='/phc/passenger/swab_antigen'">
                                Can't find right time for test? Search other time here
                            </a>
                        </div>
                        {% endif %}
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-7"></div>
                    <div class="col-lg-5" style="margin-top:10px;">
                        <div class="modal fade" id="myModalErrorPassenger" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h4 class="modal-title" style="color:{{text_color}};"><i class="fas fa-search-minus"></i> {% trans 'Oops! Please check your details' %} </i></h4>
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div style="max-height:300px; overflow-y:auto;">
                                                    <h5><i class="fas fa-times-circle" style="color:red; font-size:24px;"></i> {% trans 'We found a mistake in your data.' %}</h5>
                                                    <br/>
                                                    <span id="show_error_log" style="font-size:15px;">

                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="primary-btn" data-dismiss="modal">OK</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="background-color:white; padding:10px; border:1px solid #cdcdcd;display:none;" id="medical_detail">

                        </div>
                        <br/>
                        <input type="hidden" id="time_limit_input" name="time_limit_input" />
                        <input type="hidden" id="data" name="data" />
                        <input type="hidden" id="vendor" name="vendor" />
                        <input type="hidden" id="test_type" name="test_type" />
                        <input type="hidden" id="signature" name="signature" />
                    </div>

                    <div class="col-lg-7"></div>
                    <div class="col-lg-5">
                        <button class="primary-btn-ticket next-passenger-train ld-ext-right" style="width:100%;display:none;" id="next_medical" type="button" value="Next" onclick="check_passenger();">
                            {% trans 'Next' %}
                            <i class="fas fa-angle-right"></i>
                            <div class="ld ld-ring ld-cycle"></div>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>
{% elif template == 2 %}
<header class="header_breadcrumb" style="padding:unset; background:white;">
    <div class="main-menu" style="border-bottom:1px solid #cdcdcd; padding:15px 0px 15px 0px;">
        <div class="container">
            <div class="row align-items-center justify-content-between d-flex">
                <div id="logo" class="col-lg-2 col-md-2 col-sm-2">
                    <a href="{% url 'tt_website_rodextrip:index'%}"><img src="{{logo}}" style="max-height:40px;max-width:150px;" alt="Logo {{name}}" title="{{name}}" /></a>
                </div>
                <div class="col-lg-10 col-md-10 col-sm-10" id="breadcrumbs_create">

                </div>
            </div>
            <div class="row">
                {% include 'tt_website_rodextrip/balance_credit.html' %}
            </div>
        </div>
    </div>
    {% if username.co_user_login == 'agent_b2c' %}
    {% include 'tt_website_rodextrip/header_signin_signup.html' %}
    {% endif %}
</header>
<section class="destinations-area" style="padding-top:30px; padding-bottom:40px; background:#f7f7f7; position:relative;">
    <div class="container">
        <div class="hotel-search-form-area" style="padding:unset; position:unset;">
            <div class="hotel-search-form" style="background-color:unset; box-shadow:unset; padding:unset;">
                <form id="train_review" class="form-wrap" action="{% url 'tt_website_rodextrip:train_review'%}" method="POST" style="padding:0; text-align:unset;">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-lg-8" style="margin-top:10px;">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div id="booker" style="background-color:white; padding:10px; border:1px solid #cdcdcd;">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <h4>{% trans 'Booker Information' %}</h4>
                                                <hr/>
                                            </div>
                                            <div class="col-lg-6" style="text-align:left;">
                                                <!--                                            <label>Booker Type :</label><br/>-->
                                                <!--                                            <label class="radio-button-custom">-->
                                                <!--                                                Corporate-->
                                                <!--                                                <input type="radio" checked="checked" name="radio-booker-type">-->
                                                <!--                                                <span class="checkmark-radio"></span>-->
                                                <!--                                            </label>-->
                                                <!--                                            <label class="radio-button-custom">-->
                                                <!--                                                Individual-->
                                                <!--                                                <input type="radio" name="radio-booker-type">-->
                                                <!--                                                <span class="checkmark-radio"></span>-->
                                                <!--                                            </label>-->
                                            </div>
                                            <div class="col-lg-6" style="text-align:right;">
                                                {% if 'b2c_limitation' not in username.co_agent_frontend_security and 'corp_limitation' not in username.co_agent_frontend_security %}
                                                <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal" onclick="loadingPaxHide();"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                                <button type="button" class="primary-btn" id="booker_clear" onclick="clear_passenger('Booker', 0);" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                                {% endif %}
                                            </div>

                                            <div class="modal fade" id="myModal" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Booker List' %} <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('booker','');">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="row">
                                                                <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                                    <input class="form-control" type="text" id="train_booker_search" placeholder="{% trans 'Search' %}"/>
                                                                </div>
                                                                <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                                    <button type="button" id="booker_search" class="primary-btn" onclick="get_customer_list('booker','0','train');">{% trans 'Search' %} <i class="fas fa-search"></i></button>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-lg-12">
                                                                    <br/>
                                                                    <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                    <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                                </div>
                                                            </div>
                                                            <div class="row loading-booker-train" style="display:none;">
                                                                <div class="col-lg-12">
                                                                    <br/>
                                                                    <div style="text-align:center">
                                                                        <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div id="search_result">

                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('booker','');">{% trans "Close" %}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-6 col-xs-6">
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans "Title" %}</label>
                                                <div class="input-container-search-ticket">
                                                    <div class="form-select-2" id="default-select">
                                                        <select id="booker_title" name="booker_title" class="nice-select-default" onchange="change_booker_value('train');">
                                                            {% for title in adult_title%}
                                                            <option>{{title}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                                <div class="row" style="margin:0">
                                                    <button type="button" class="btn btn-secondary" style="width:42px;height:42px;margin-right:5px;" data-toggle="modal" data-target="#myModalHelp"><i class="fas fa-info-circle"></i></button>
                                                    <button type="button" class="tooltip-inner" style="display:none" id="corporate_booker" data-tooltip=""><i class="fas fa-money-bill-wave-alt"></i> {% trans "Corporate Booker" %}</button>
                                                    <div class="modal fade" id="myModalHelp" role="dialog">
                                                        <div class="modal-dialog">

                                                            <!-- Modal content-->
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <div class="col-sm-12">
                                                                        <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                                    </div>
                                                                    <div>
                                                                        <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                                        <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                                        <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <br/>
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans 'First name and middle name (if any)' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" onchange="capitalizeInput('booker_first_name');change_booker_value('train');" class="form-control" name="booker_first_name" id="booker_first_name" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                    <input type="hidden" class="form-control" name="booker_birth_date" id="booker_birth_date" />
                                                    <input type="hidden" class="form-control" name="booker_id_type" id="booker_id_type" />
                                                    <input type="hidden" class="form-control" name="booker_id_number" id="booker_id_number" />
                                                    <input type="hidden" class="form-control" name="booker_id_number" id="booker_exp_date" />
                                                    <input type="hidden" class="form-control" name="booker_id_number" id="booker_country_of_issued" />
                                                </div>
                                                <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                            </div>

                                            <div class="col-lg-6">
                                                <br/>
                                                <label>{% trans 'Last name' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" onchange="capitalizeInput('booker_last_name');change_booker_value('train');" class="form-control" name="booker_last_name" id="booker_last_name" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                                </div>
                                                <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                            </div>

                                            <div class="col-lg-6">
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans 'Nationality' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <select class="form-control js-example-basic-single" name="booker_nationality_id" style="width:100%;" id="booker_nationality_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('booker_nationality');change_booker_value('train');" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                    <input type="hidden" name="booker_nationality" id="booker_nationality" />
                                                </div>
                                            </div>


                                            <div class="col-lg-6">
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans 'Contact Email Address' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" class="form-control" name="booker_email" id="booker_email" placeholder="{% trans 'Email Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '" onchange="change_booker_value('train');">
                                                </div>
                                                <label style="font-size:12px; padding:0;">{% trans 'Example' %}: email@example.com</label>
                                            </div>

                                            <div class="col-lg-6">
                                                <label style="color:red !important;">*</label>
                                                <label style="margin:0;">{% trans 'Contact Person for Urgent Situation' %}:</label>
                                                <label style="font-size:10px; color:red !important;">({% trans "Must be filled with booker's mobile on first registration" %}:)</label>
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                        <div class="form-select">
                                                            <select class="form-control js-example-basic-single" name="booker_phone_code_id" style="width:100%;" id="booker_phone_code_id" onchange="auto_complete('booker_phone_code');change_booker_value('train');" class="nice-select-default">
                                                                {% for phone in phone_code %}
                                                                <option value="{{phone}}" {% if phone == 62%} selected {%endif%}>{{phone}}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </div>
                                                        <input type="hidden" name="booker_phone_code" id="booker_phone_code" />
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                        <input type="text" class="form-control" name="booker_phone" id="booker_phone" placeholder="{% trans 'Phone' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '" onchange="change_booker_value('train');">
                                                        <input type="hidden" class="form-control" name="booker_id" id="booker_id">
                                                    </div>
                                                </div>
                                                <label style="font-size:12px; padding:0;">{% trans 'Example' %}: 812345678</label>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br/>
                            <div class="row" style="margin-bottom:20px;">
                                <div class="col-lg-12">
                                    <div style="background:white; padding:10px; border:1px solid #cdcdcd;">
                                        <label>{% trans 'Do you book this trip for you?' %}</label>
                                        <label class="radio-button-custom">
                                            {% trans 'Yes' %}
                                            <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('copy','train');" value="yes"/>
                                            <span class="checkmark-radio"></span>
                                        </label>

                                        <label class="radio-button-custom">
                                            {% trans 'No' %}
                                            <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('change','train');" value="no" checked="checked"/>
                                            <span class="checkmark-radio"></span>
                                        </label>

                                        <br/>
                                        <label>{% trans 'Passenger Data' %}</label><br/>
                                        <ul>
                                            <li>{% trans '1. Caution: the name of the passenger must be right and appropriate with international passsport, and domestic route can match with KTP/Passport/SIM' %}</li>
                                            <li>{% trans "2. Passenger data can't be changed after the passing of this page" %}</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            {% for adult in adults%}
                            <div class="row" id="adult{{forloop.counter}}">
                                <div class="col-lg-12">
                                    <div class="passenger_div" onclick="show_paxs_airline('adult', '{{forloop.counter}}');">
                                        <div class="row">
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left;">
                                                <span style="color:{{text_color}}; text-align:center; font-size:15px;">{% trans 'Passenger' %} {% trans 'Adult' %} - {{forloop.counter}}</span>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right;">
                                                <span style="color:{{text_color}}; text-align:right; margin-right:5px; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                                <span style="color:{{text_color}}; text-align:right; margin-right:5px; {% if forloop.counter == 1 %} display:none; {% endif %}" id="adult_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid {{color}}; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_paxs{{forloop.counter}}">
                                        <div class="row">
                                            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:left;">
                                                <div class="input-container-search-ticket">
                                                    <label class="check_box_custom">
                                                        <span class="span-search-ticket" style="color:black;">{% trans 'Make this to Contact Person' %}</span>
                                                        <input type="checkbox" id="adult_cp{{forloop.counter}}" name="adult_cp{{forloop.counter}}" onclick="update_contact_cp({{forloop.counter}})" />
                                                        <span class="check_box_span_custom"></span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:right;">
                                                {% if 'b2c_limitation' not in username.co_agent_frontend_security %}
                                                <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_adult{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                                <button type="button" class="primary-btn" id="adult_clear{{forloop.counter}}" onclick="clear_passenger('Adult', {{forloop.counter}});" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                                {% endif %}

                                                <div class="modal fade" id="myModal_adult{{forloop.counter}}" role="dialog">
                                                    <div class="modal-dialog">
                                                        <!-- Modal content-->
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Adult' %} - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                                <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('adult','{{forloop.counter}}');">&times;</button>
                                                            </div>
                                                            <div class="modal-body" style="text-align:left;">
                                                                <div class="row">
                                                                    <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                                        <input class="form-control" type="text" id="train_adult{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>
                                                                    </div>
                                                                    <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                                        <button type="button" id="search_adult_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('adult',{{forloop.counter}}, 'train')">{% trans 'Search' %}</button>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-lg-12">
                                                                        <br/>
                                                                        <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                        <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                                    </div>
                                                                </div>
                                                                <div class="row loading-pax-train" style="display:none;">
                                                                    <div class="col-lg-12">
                                                                        <br/>
                                                                        <div style="text-align:center">
                                                                            <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div id="search_result_adult{{forloop.counter}}">

                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('adult','{{forloop.counter}}');">{% trans "Close" %}</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans "Title" %}</label>
                                                <div class="input-container-search-ticket">
                                                    <div class="form-select-2">
                                                        <select id="adult_title{{forloop.counter}}" name="adult_title{{forloop.counter}}" class="nice-select-default">
                                                            {% for title in adult_title%}
                                                            <option>{{title}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                                <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_adult{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                                <div class="modal fade" id="myModalHelp_adult{{forloop.counter}}" role="dialog">
                                                    <div class="modal-dialog">

                                                        <!-- Modal content-->
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div class="col-sm-12">
                                                                    <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                                </div>
                                                                <div>
                                                                    <p>{% trans "1. Please fill passenger name like in your ID card. If there's chinese word in your name please use chinese word." %}</p>
                                                                    <p>{% trans '2. Maximum 30 characters for title, first name, and last name. If more than 30 characters you can put 30 first characters like in your ID card.' %} </p>
                                                                    <p>{% trans '3. Please use character such as "," or "." same like in your id card.' %}</p>
                                                                    <p>{% trans '4. KTP only contain 16 digits.' %}</p>
                                                                    <p>{% trans '5. SIM only contain 12 - 13 digits.' %}</p>
                                                                    <p>{% trans '6. Passport only contain more than 6 digits.' %}</p>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                <br/>
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans 'First name and middle name (if any)' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" onchange="capitalizeInput('adult_first_name{{forloop.counter}}');" class="form-control" name="adult_first_name{{forloop.counter}}" id="adult_first_name{{forloop.counter}}" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                    <input type="hidden" class="form-control" name="adult_id{{forloop.counter}}" id="adult_id{{forloop.counter}}">
                                                </div>
                                                <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                <br/>
                                                <label>{% trans 'Last name' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" onchange="capitalizeInput('adult_last_name{{forloop.counter}}');" class="form-control" name="adult_last_name{{forloop.counter}}" id="adult_last_name{{forloop.counter}}" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                                </div>
                                                <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans 'Nationality' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <select class="form-control js-example-basic-single" name="adult_nationality{{forloop.counter}}_id" style="width:100%;" id="adult_nationality{{forloop.counter}}_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('adult_nationality{{forloop.counter}}')" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                    <input type="hidden" name="adult_nationality{{forloop.counter}}" id="adult_nationality{{forloop.counter}}" />
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                <script>
                                                    if(birth_date_required == true)
                                                        document.write(`<label style="color:red !important;">*</label>`);
                                                </script>
                                                <label>{% trans 'Birth Date' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" class="form-control date-picker-birth" style="background:white;" name="adult_birth_date{{forloop.counter}}" id="adult_birth_date{{forloop.counter}}" placeholder="{% trans 'Birth Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                                    <input type="hidden" class="form-control" name="adult_years_old{{forloop.counter}}" id="adult_years_old{{forloop.counter}}">
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans 'ID Type' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <select id='adult_id_type{{forloop.counter}}' name='adult_id_type{{forloop.counter}}' onchange="id_type_change('adult',{{forloop.counter}})">
                                                        {% for id_type in id_types%}
                                                        <option value="{{id_type.0}}">{{id_type.1}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans 'ID Number' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" class="form-control" name="adult_passport_number{{forloop.counter}}" id="adult_passport_number{{forloop.counter}}" placeholder="{% trans 'ID Number' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'ID Number '">
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                <label id="adult_passport_number_required{{forloop.counter}}" style="color:{{text_color}}">*</label>
                                                <label>{% trans 'ID Expired Date' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" class="form-control date-picker-passport" style="background:white;" name="adult_passport_expired_date{{forloop.counter}}" id="adult_passport_expired_date{{forloop.counter}}" placeholder="{% trans 'ID Expired Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'ID Expired Date '" autocomplete="off" readonly>
                                                    <button type="button" class="primary-delete-date" onclick="delete_expired_date('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>

                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                <label id="adult_country_of_issued_required{{forloop.counter}}_id" style="color:{{text_color}}">*</label>
                                                <label>{% trans 'Country of Issued' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <select class="form-control js-example-basic-single" name="adult_country_of_issued{{forloop.counter}}_id" style="width:100%;" id="adult_country_of_issued{{forloop.counter}}_id" placeholder="{% trans 'Country of Issued' %}" onchange="auto_complete('adult_country_of_issued{{forloop.counter}}')" class="nice-select-default">
                                                        <option value="">{% trans 'Country of Issued' %}</option>
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}">{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                    <button type="button" class="primary-delete-date" onclick="delete_country_of_issued('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                                    <input type="hidden" name="adult_country_of_issued{{forloop.counter}}" id="adult_country_of_issued{{forloop.counter}}" />
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6" id="adult_cp_hidden1_{{forloop.counter}}" hidden>
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans 'Contact Email Address' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" class="form-control" name="adult_email{{forloop.counter}}" id="adult_email{{forloop.counter}}" placeholder="{% trans 'Email Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '">
                                                </div>
                                                <label style="font-size:12px; padding:0;">{% trans 'Example' %}: email@example.com</label>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6" id="adult_cp_hidden2_{{forloop.counter}}" hidden>
                                                <label style="color:red !important;">*</label>
                                                <label style="margin:0;">{% trans 'Contact Person for Urgent Situation' %}:</label>
                                                <label style="font-size:10px; color:red !important;">({% trans "Must be filled with contact person's mobile on first registration" %}:)</label>
                                                <div class="row">
                                                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">

                                                        <div class="input-container-search-ticket">
                                                            <div class="form-select">
                                                                <select class="form-control js-example-basic-single" name="adult_phone_code{{forloop.counter}}_id" style="width:100%;" id="adult_phone_code{{forloop.counter}}_id" onchange="auto_complete('adult_phone_code{{forloop.counter}}')" class="nice-select-default">
                                                                    {% for phone in phone_code %}
                                                                    <option value="{{phone}}" {% if phone == 62%} selected {%endif%}>{{phone}}</option>
                                                                    {% endfor %}
                                                                </select>
                                                            </div>
                                                            <input type="hidden" name="adult_phone_code{{forloop.counter}}" id="adult_phone_code{{forloop.counter}}" />
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                        <div class="input-container-search-ticket">
                                                            <input type="text" class="form-control" name="adult_phone{{forloop.counter}}" id="adult_phone{{forloop.counter}}" placeholder="{% trans 'Phone' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '">
                                                        </div>
                                                    </div>
                                                </div>
                                                <label style="font-size:12px; padding:0;">{% trans 'Example' %}: 812345678</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <br/>
                            {% endfor %}

                            {% for infant in infants%}
                            <div class="row" id="infant{{forloop.counter}}">
                                <div class="col-lg-12">
                                    <div class="passenger_div" onclick="show_paxs_airline('infant', '{{forloop.counter}}');">
                                        <div class="row">
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left;">
                                                <span style="color:{{text_color}}; text-align:center; font-size:15px;">{% trans 'Passenger' %} {% trans 'Infant' %} - {{forloop.counter}}</span>
                                            </div>
                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right;">
                                                <span style="color:{{text_color}}; text-align:right; margin-right:5px; display:none;" id="infant_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                                <span style="color:{{text_color}}; text-align:right; margin-right:5px;" id="infant_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid {{color}}; display:none;" id="infant_paxs{{forloop.counter}}">
                                        <div class="row">
                                            <div class="col-lg-6" style="text-align:left;"></div>
                                            <div class="col-lg-6" style="text-align:right;">
                                                {% if 'b2c_limitation' not in username.co_agent_frontend_security %}
                                                <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_infant{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                                <button type="button" class="primary-btn" id="infant_clear{{forloop.counter}}" onclick="clear_passenger('Infant', {{forloop.counter}});" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                                {% endif %}
                                            </div>
                                            <div class="modal fade" id="myModal_infant{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Infant' %} - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('infant','{{forloop.counter}}');">&times;</button>
                                                        </div>
                                                        <div class="modal-body" style="text-align:left;">
                                                            <div class="row" >
                                                                <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                                    <input class="form-control" type="text" id="train_infant{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>
                                                                </div>
                                                                <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                                    <button type="button" id="search_infant_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('infant',{{forloop.counter}}, 'train')">{% trans 'Search' %}</button>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-lg-12">
                                                                    <br/>
                                                                    <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                    <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                                </div>
                                                            </div>
                                                            <div class="row loading-pax-train" style="display:none;">
                                                                <div class="col-lg-12">
                                                                    <br/>
                                                                    <div style="text-align:center">
                                                                        <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div id="search_result_infant{{forloop.counter}}">

                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('infant','{{forloop.counter}}');">{% trans "Close" %}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-xs-6">
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans "Title" %}</label>
                                                <div class="input-container-search-ticket">
                                                    <div class="form-select-2">
                                                        <select id="infant_title{{forloop.counter}}" name="infant_title{{forloop.counter}}" class="nice-select-default">
                                                            {% for title in infant_title%}
                                                            <option>{{title}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                                <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_infant{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                                <div class="modal fade" id="myModalHelp_infant{{forloop.counter}}" role="dialog">
                                                    <div class="modal-dialog">

                                                        <!-- Modal content-->
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div class="col-sm-12">
                                                                    <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                                </div>
                                                                <div>
                                                                    <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                                    <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                                    <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <br/>
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans 'First name and middle name (if any)' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" onchange="capitalizeInput('infant_first_name{{forloop.counter}}');" class="form-control" name="infant_first_name{{forloop.counter}}" id="infant_first_name{{forloop.counter}}" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                    <input type="hidden" class="form-control" name="infant_id{{forloop.counter}}" id="infant_id{{forloop.counter}}">
                                                </div>
                                                <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                            </div>
                                            <div class="col-lg-6">
                                                <br/>
                                                <label>{% trans 'Last name' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" onchange="capitalizeInput('infant_last_name{{forloop.counter}}');" class="form-control" name="infant_last_name{{forloop.counter}}" id="infant_last_name{{forloop.counter}}" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                                </div>
                                                <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                            </div>
                                            <div class="col-lg-6">
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans 'Nationality' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <select class="form-control js-example-basic-single" name="infant_nationality{{forloop.counter}}_id" style="width:100%;" id="infant_nationality{{forloop.counter}}_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('infant_nationality{{forloop.counter}}')" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                    <input type="hidden" name="infant_nationality{{forloop.counter}}" id="infant_nationality{{forloop.counter}}" />
                                                </div>

                                            </div>
                                            <div class="col-lg-6">
                                                <label style="color:red !important;">*</label>
                                                <label>{% trans 'Birth Date' %}</label>
                                                <div class="input-container-search-ticket">
                                                    <input type="text" class="form-control date-picker-birth" style="background:white;" name="infant_birth_date{{forloop.counter}}" id="infant_birth_date{{forloop.counter}}" placeholder="{% trans 'Birth Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div style="padding-top:15px;"></div>
                            </div>
                            <br/>
                            {% endfor %}

                            <div class="row">
                                <div class="col-lg-4"></div>
                                <div class="col-lg-4"></div>
                                <div class="col-lg-4">
                                    <button class="primary-btn-ticket next-passenger-train ld-ext-right" style="width:100%;" type="button" value="Next" onclick="check_passenger({{train_request.adult}},{{train_request.infant}});">
                                        {% trans 'Next' %}
                                        <i class="fas fa-angle-right"></i>
                                        <div class="ld ld-ring ld-cycle"></div>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4" style="margin-top:10px;">
                            <div class="modal fade" id="myModalErrorPassenger" role="dialog">
                                <div class="modal-dialog">
                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title" style="color:{{text_color}};"><i class="fas fa-search-minus"></i> {% trans 'Oops! Please check your details' %} </i></h4>
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div style="max-height:300px; overflow-y:auto;">
                                                        <h5><i class="fas fa-times-circle" style="color:red; font-size:24px;"></i> {% trans 'We found a mistake in your data.' %}</h5>
                                                        <br/>
                                                        <span id="show_error_log" style="font-size:15px;">

                                                    </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="primary-btn" data-dismiss="modal">OK</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div style="background-color:white; padding:10px; border:1px solid #cdcdcd;" id="train_detail">

                            </div>
                            <br/>
                            <input type="hidden" id="time_limit_input" name="time_limit_input" />
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
{% elif template == 3 %}
<header class="header_breadcrumb" style="position:sticky; top:0px; padding:unset; z-index:100; background:white;">
    <div class="main-menu" style="border-bottom:1px solid #cdcdcd; padding:15px 0px 15px 0px;">
        <div class="container">
            <div class="row align-items-center justify-content-between d-flex">
                <div id="logo" class="col-lg-2 col-md-2 col-sm-2">
                    <a href="{% url 'tt_website_rodextrip:index'%}"><img src="{{logo}}" style="max-height:40px;max-width:150px;" alt="Logo {{name}}" title="{{name}}" /></a>
                </div>
                <div class="col-lg-10 col-md-10 col-sm-10" id="breadcrumbs_create">

                </div>
            </div>
            <div class="row">
                {% include 'tt_website_rodextrip/balance_credit.html' %}
            </div>
        </div>
    </div>
    {% if username.co_user_login == 'agent_b2c' %}
    {% include 'tt_website_rodextrip/header_signin_signup.html' %}
    {% endif %}
</header>
<section class="relative" style="padding-top:30px; padding-bottom:40px; background:#f7f7f7;">
    <div class="container">
        <div class="header-right" style="background:unset; border:unset">
            <form id="train_review" class="form-wrap" action="{% url 'tt_website_rodextrip:train_review'%}" method="POST" style="padding:0; text-align:unset;">
                {% csrf_token %}
                <div class="row">
                    <div class="col-lg-8" style="margin-top:10px;">
                        <div class="row">
                            <div class="col-lg-12">
                                <div id="booker" style="background-color:white; padding:10px; border:1px solid #cdcdcd;">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <h4>{% trans 'Booker Information' %}</h4>
                                            <hr/>
                                        </div>
                                        <div class="col-lg-6" style="text-align:left;">
                                            <!--                                            <label>Booker Type :</label><br/>-->
                                            <!--                                            <label class="radio-button-custom">-->
                                            <!--                                                Corporate-->
                                            <!--                                                <input type="radio" checked="checked" name="radio-booker-type">-->
                                            <!--                                                <span class="checkmark-radio"></span>-->
                                            <!--                                            </label>-->
                                            <!--                                            <label class="radio-button-custom">-->
                                            <!--                                                Individual-->
                                            <!--                                                <input type="radio" name="radio-booker-type">-->
                                            <!--                                                <span class="checkmark-radio"></span>-->
                                            <!--                                            </label>-->
                                        </div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            {% if 'b2c_limitation' not in username.co_agent_frontend_security and 'corp_limitation' not in username.co_agent_frontend_security %}
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal" onclick="loadingPaxHide();"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="booker_clear" onclick="clear_passenger('Booker', 0);" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                            {% endif %}
                                        </div>

                                        <div class="modal fade" id="myModal" role="dialog">
                                            <div class="modal-dialog">

                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Booker List' %} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('booker','');">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="row">
                                                            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                                <input class="form-control" type="text" id="train_booker_search" placeholder="{% trans 'Search' %}"/>
                                                            </div>
                                                            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                                <button type="button" id="booker_search" class="primary-btn" onclick="get_customer_list('booker','0','train');">{% trans 'Search' %} <i class="fas fa-search"></i></button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-booker-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('booker','');">{% trans "Close" %}</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-xs-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans "Title" %}</label>
                                            <div class="default-select" id="default-select">
                                                <select id="booker_title" name="booker_title" class="nice-select-default" onchange="change_booker_value('train');">
                                                    {% for title in adult_title%}
                                                    <option>{{title}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                            <div class="row" style="margin:0">
                                                <button type="button" class="btn btn-secondary" style="width:42px;height:42px;margin-right:5px;" data-toggle="modal" data-target="#myModalHelp"><i class="fas fa-info-circle"></i></button>
                                                <button type="button" class="tooltip-inner" style="display:none" id="corporate_booker" data-tooltip=""><i class="fas fa-money-bill-wave-alt"></i> {% trans "Corporate Booker" %}</button>
                                                <div class="modal fade" id="myModalHelp" role="dialog">
                                                    <div class="modal-dialog">

                                                        <!-- Modal content-->
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div class="col-sm-12">
                                                                    <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                                </div>
                                                                <div>
                                                                    <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                                    <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                                    <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'First name and middle name (if any)' %}</label>
                                            <div class="form-group">
                                                <input type="text" onchange="capitalizeInput('booker_first_name');change_booker_value('train');" class="form-control" name="booker_first_name" id="booker_first_name" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="booker_birth_date" id="booker_birth_date" />
                                                <input type="hidden" class="form-control" name="booker_id_type" id="booker_id_type" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_id_number" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_exp_date" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_country_of_issued" />
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <br/>
                                            <label>{% trans 'Last name' %}</label>
                                            <div class="form-group">
                                                <input type="text" onchange="capitalizeInput('booker_last_name');change_booker_value('train');" class="form-control" name="booker_last_name" id="booker_last_name" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Nationality' %}</label>
                                            <div class="form-select">
                                                <select class="form-control js-example-basic-single" name="booker_nationality_id" style="width:100%;" id="booker_nationality_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('booker_nationality');change_booker_value('train');" class="nice-select-default">
                                                    {% for country in countries %}
                                                    <option value="{{country.code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <input type="hidden" name="booker_nationality" id="booker_nationality" />
                                        </div>


                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Contact Email Address' %}</label>
                                            <div class="form-group">
                                                <input type="text" class="form-control" name="booker_email" id="booker_email" placeholder="{% trans 'Email Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '" onchange="change_booker_value('train');">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'Example' %}: email@example.com</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label style="margin:0;">{% trans 'Contact Person for Urgent Situation' %}:</label>
                                            <label style="font-size:10px; color:red !important;">({% trans "Must be filled with booker's mobile on first registration" %}:)</label>
                                            <div class="row">
                                                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                    <div class="form-select">
                                                        <select class="form-control js-example-basic-single" name="booker_phone_code_id" style="width:100%;" id="booker_phone_code_id" onchange="auto_complete('booker_phone_code');change_booker_value('train');" class="nice-select-default">
                                                            {% for phone in phone_code %}
                                                            <option value="{{phone}}" {% if phone == 62%} selected {%endif%}>{{phone}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                    <input type="hidden" name="booker_phone_code" id="booker_phone_code" />
                                                </div>
                                                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                    <input type="text" class="form-control" name="booker_phone" id="booker_phone" placeholder="{% trans 'Phone' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '" onchange="change_booker_value('train');">
                                                    <input type="hidden" class="form-control" name="booker_id" id="booker_id">
                                                </div>
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'Example' %}: 812345678</label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="margin-bottom:20px;">
                            <div class="col-lg-12">
                                <div style="background:white; padding:10px; border:1px solid #cdcdcd;">
                                    <label>{% trans 'Do you book this trip for you?' %}</label>
                                    <label class="radio-button-custom">
                                        {% trans 'Yes' %}
                                        <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('copy','train');" value="yes"/>
                                        <span class="checkmark-radio"></span>
                                    </label>

                                    <label class="radio-button-custom">
                                        {% trans 'No' %}
                                        <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('change','train');" value="no" checked="checked"/>
                                        <span class="checkmark-radio"></span>
                                    </label>

                                    <br/>
                                    <label>{% trans 'Passenger Data' %}</label><br/>
                                    <ul>
                                        <li>{% trans '1. Caution: the name of the passenger must be right and appropriate with international passsport, and domestic route can match with KTP/Passport/SIM' %}</li>
                                        <li>{% trans "2. Passenger data can't be changed after the passing of this page" %}</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        {% for adult in adults%}
                        <div class="row" id="adult{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div class="passenger_div" onclick="show_paxs_airline('adult', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left;">
                                            <span style="color:{{text_color}}; text-align:center; font-size:15px;">{% trans 'Passenger' %} {% trans 'Adult' %} - {{forloop.counter}}</span>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right;">
                                            <span style="color:{{text_color}}; text-align:right; margin-right:5px; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:{{text_color}}; text-align:right; margin-right:5px; {% if forloop.counter == 1 %} display:none; {% endif %}" id="adult_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid {{color}}; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_paxs{{forloop.counter}}">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:left;">
                                            <div class="form-group">
                                                <label class="check_box_custom">
                                                    <span class="span-search-ticket" style="color:black;">{% trans 'Make this to Contact Person' %}</span>
                                                    <input type="checkbox" id="adult_cp{{forloop.counter}}" name="adult_cp{{forloop.counter}}" onclick="update_contact_cp({{forloop.counter}})" />
                                                    <span class="check_box_span_custom"></span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:right;">
                                            {% if 'b2c_limitation' not in username.co_agent_frontend_security %}
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_adult{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="adult_clear{{forloop.counter}}" onclick="clear_passenger('Adult', {{forloop.counter}});" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                            {% endif %}

                                            <div class="modal fade" id="myModal_adult{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">
                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Adult' %} - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('adult','{{forloop.counter}}');">&times;</button>
                                                        </div>
                                                        <div class="modal-body" style="text-align:left;">
                                                            <div class="row">
                                                                <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                                    <input class="form-control" type="text" id="train_adult{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>
                                                                </div>
                                                                <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                                    <button type="button" id="search_adult_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('adult',{{forloop.counter}}, 'train')">{% trans 'Search' %}</button>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-lg-12">
                                                                    <br/>
                                                                    <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                    <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                                </div>
                                                            </div>
                                                            <div class="row loading-pax-train" style="display:none;">
                                                                <div class="col-lg-12">
                                                                    <br/>
                                                                    <div style="text-align:center">
                                                                        <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div id="search_result_adult{{forloop.counter}}">

                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('adult','{{forloop.counter}}');">{% trans "Close" %}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans "Title" %}</label>
                                            <div class="default-select">
                                                <select id="adult_title{{forloop.counter}}" name="adult_title{{forloop.counter}}" class="nice-select-default">
                                                    {% for title in adult_title%}
                                                    <option>{{title}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_adult{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                            <div class="modal fade" id="myModalHelp_adult{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>{% trans "1. Please fill passenger name like in your ID card. If there's chinese word in your name please use chinese word." %}</p>
                                                                <p>{% trans '2. Maximum 30 characters for title, first name, and last name. If more than 30 characters you can put 30 first characters like in your ID card.' %} </p>
                                                                <p>{% trans '3. Please use character such as "," or "." same like in your id card.' %}</p>
                                                                <p>{% trans '4. KTP only contain 16 digits.' %}</p>
                                                                <p>{% trans '5. SIM only contain 12 - 13 digits.' %}</p>
                                                                <p>{% trans '6. Passport only contain more than 6 digits.' %}</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <br/>
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'First name and middle name (if any)' %}</label>
                                            <div class="form-group">
                                                <input type="text" onchange="capitalizeInput('adult_first_name{{forloop.counter}}');" class="form-control" name="adult_first_name{{forloop.counter}}" id="adult_first_name{{forloop.counter}}" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="adult_id{{forloop.counter}}" id="adult_id{{forloop.counter}}">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <br/>
                                            <label>{% trans 'Last name' %}</label>
                                            <div class="form-group">
                                                <input type="text" onchange="capitalizeInput('adult_last_name{{forloop.counter}}');" class="form-control" name="adult_last_name{{forloop.counter}}" id="adult_last_name{{forloop.counter}}" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Nationality' %}</label>
                                            <div class="form-select">
                                                <select class="form-control js-example-basic-single" name="adult_nationality{{forloop.counter}}_id" style="width:100%;" id="adult_nationality{{forloop.counter}}_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('adult_nationality{{forloop.counter}}')" class="nice-select-default">
                                                    {% for country in countries %}
                                                    <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <input type="hidden" name="adult_nationality{{forloop.counter}}" id="adult_nationality{{forloop.counter}}" />
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <script>
                                                if(birth_date_required == true)
                                                    document.write(`<label style="color:red !important;">*</label>`);
                                            </script>
                                            <label>{% trans 'Birth Date' %}</label>
                                            <div class="form-group">
                                                <input type="text" style="background-color:white;" class="form-control date-picker-birth" name="adult_birth_date{{forloop.counter}}" id="adult_birth_date{{forloop.counter}}" placeholder="{% trans 'Birth Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                                <input type="hidden" class="form-control" name="adult_years_old{{forloop.counter}}" id="adult_years_old{{forloop.counter}}">
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'ID Type' %}</label>
                                            <div class="default-select" id="default-select">
                                                <select id='adult_id_type{{forloop.counter}}' name='adult_id_type{{forloop.counter}}' onchange="id_type_change('adult',{{forloop.counter}})">
                                                    {% for id_type in id_types%}
                                                    <option value="{{id_type.0}}">{{id_type.1}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'ID Number' %}</label>
                                            <div class="form-group">
                                                <input type="text" class="form-control" name="adult_passport_number{{forloop.counter}}" id="adult_passport_number{{forloop.counter}}" placeholder="{% trans 'ID Number' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'ID Number '">
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label id="adult_passport_number_required{{forloop.counter}}" style="color:{{text_color}}">*</label>
                                            <label>{% trans 'ID Expired Date' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="background-color:white;" class="form-control date-picker-passport" name="adult_passport_expired_date{{forloop.counter}}" id="adult_passport_expired_date{{forloop.counter}}" placeholder="{% trans 'ID Expired Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'ID Expired Date '" autocomplete="off" readonly>
                                                <button type="button" class="primary-delete-date" onclick="delete_expired_date('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label id="adult_country_of_issued_required{{forloop.counter}}_id" style="color:{{text_color}}">*</label>
                                            <label>{% trans 'Country of Issued' %}</label>
                                            <div class="input-container-search-ticket">
                                                <select class="form-control js-example-basic-single" name="adult_country_of_issued{{forloop.counter}}_id" style="width:100%;" id="adult_country_of_issued{{forloop.counter}}_id" placeholder="{% trans 'Country of Issued' %}" onchange="auto_complete('adult_country_of_issued{{forloop.counter}}')">
                                                    <option value="">{% trans 'Country of Issued' %}</option>
                                                    {% for country in countries %}
                                                    <option value="{{country.name}}">{{country.name}}</option>
                                                    {% endfor %}
                                                </select>
                                                <button type="button" class="primary-delete-date" onclick="delete_country_of_issued('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                            </div>
                                            <input type="hidden" name="adult_country_of_issued{{forloop.counter}}" id="adult_country_of_issued{{forloop.counter}}" />
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6" id="adult_cp_hidden1_{{forloop.counter}}" hidden>
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Contact Email Address' %}</label>
                                            <div class="form-group">
                                                <input type="text" class="form-control" name="adult_email{{forloop.counter}}" id="adult_email{{forloop.counter}}" placeholder="{% trans 'Email Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'Example' %}: email@example.com</label>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6" id="adult_cp_hidden2_{{forloop.counter}}" hidden>
                                            <label style="color:red !important;">*</label>
                                            <label style="margin:0;">{% trans 'Contact Person for Urgent Situation' %}:</label>
                                            <label style="font-size:10px; color:red !important;">({% trans "Must be filled with contact person's mobile on first registration" %}:)</label>
                                            <div class="row">
                                                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                    <div class="form-select">
                                                        <select class="form-control js-example-basic-single" name="adult_phone_code{{forloop.counter}}_id" style="width:100%;" id="adult_phone_code{{forloop.counter}}_id" onchange="auto_complete('adult_phone_code{{forloop.counter}}')" class="nice-select-default">
                                                            {% for phone in phone_code %}
                                                            <option value="{{phone}}" {% if phone == 62%} selected {%endif%}>{{phone}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                    <input type="hidden" name="adult_phone_code{{forloop.counter}}" id="adult_phone_code{{forloop.counter}}" />
                                                </div>
                                                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" class="form-control" name="adult_phone{{forloop.counter}}" id="adult_phone{{forloop.counter}}" placeholder="{% trans 'Phone' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '">
                                                    </div>
                                                </div>
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'Example' %}: 812345678</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        {% endfor %}

                        {% for infant in infants%}
                        <div class="row" id="infant{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div class="passenger_div" onclick="show_paxs_airline('infant', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left;">
                                            <span style="color:{{text_color}}; text-align:center; font-size:15px;">{% trans 'Passenger' %} {% trans 'Infant' %} - {{forloop.counter}}</span>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right;">
                                            <span style="color:{{text_color}}; text-align:right; margin-right:5px; display:none;" id="infant_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:{{text_color}}; text-align:right; margin-right:5px;" id="infant_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid {{color}}; display:none;" id="infant_paxs{{forloop.counter}}">
                                    <div class="row">
                                        <div class="col-lg-6" style="text-align:left;"></div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            {% if 'b2c_limitation' not in username.co_agent_frontend_security %}
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_infant{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="infant_clear{{forloop.counter}}" onclick="clear_passenger('Infant', {{forloop.counter}});" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                            {% endif %}
                                        </div>
                                        <div class="modal fade" id="myModal_infant{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">

                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Infant' %} - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('infant','{{forloop.counter}}');">&times;</button>
                                                    </div>
                                                    <div class="modal-body" style="text-align:left;">
                                                        <div class="row" >
                                                            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                                <input class="form-control" type="text" id="train_infant{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>
                                                            </div>
                                                            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                                <button type="button" id="search_infant_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('infant',{{forloop.counter}}, 'train')">{% trans 'Search' %}</button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-pax-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result_infant{{forloop.counter}}">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('infant','{{forloop.counter}}');">{% trans "Close" %}</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans "Title" %}</label>
                                            <div class="default-select">
                                                <select id="infant_title{{forloop.counter}}" name="infant_title{{forloop.counter}}" class="nice-select-default">
                                                    {% for title in infant_title%}
                                                    <option>{{title}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_infant{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                            <div class="modal fade" id="myModalHelp_infant{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                                <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                                <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'First name and middle name (if any)' %}</label>
                                            <div class="form-group">
                                                <input type="text" onchange="capitalizeInput('infant_first_name{{forloop.counter}}');" class="form-control" name="infant_first_name{{forloop.counter}}" id="infant_first_name{{forloop.counter}}" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="infant_id{{forloop.counter}}" id="infant_id{{forloop.counter}}">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>{% trans 'Last name' %}</label>
                                            <div class="form-group">
                                                <input type="text" onchange="capitalizeInput('infant_last_name{{forloop.counter}}');" class="form-control" name="infant_last_name{{forloop.counter}}" id="infant_last_name{{forloop.counter}}" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label>{% trans 'Nationality' %}</label>
                                            <div class="form-select">
                                                <select class="form-control js-example-basic-single" name="infant_nationality{{forloop.counter}}_id" style="width:100%;" id="infant_nationality{{forloop.counter}}_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('infant_nationality{{forloop.counter}}')" class="nice-select-default">
                                                    {% for country in countries %}
                                                    <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <input type="hidden" name="infant_nationality{{forloop.counter}}" id="infant_nationality{{forloop.counter}}" />
                                        </div>
                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Birth Date' %}</label>
                                            <div class="form-group">
                                                <input type="text" style="background-color:white;" class="form-control date-picker-birth" name="infant_birth_date{{forloop.counter}}" id="infant_birth_date{{forloop.counter}}" placeholder="{% trans 'Birth Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="padding-top:15px;"></div>
                        </div>
                        <br/>
                        {% endfor %}

                        <div class="row">
                            <div class="col-lg-4"></div>
                            <div class="col-lg-4"></div>
                            <div class="col-lg-4">
                                <button class="primary-btn-ticket next-passenger-train ld-ext-right" style="width:100%;" type="button" value="Next" onclick="check_passenger({{train_request.adult}},{{train_request.infant}});">
                                    {% trans 'Next' %}
                                    <i class="fas fa-angle-right"></i>
                                    <div class="ld ld-ring ld-cycle"></div>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4" style="margin-top:10px;">
                        <div class="modal fade" id="myModalErrorPassenger" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h4 class="modal-title" style="color:{{text_color}};"><i class="fas fa-search-minus"></i> {% trans 'Oops! Please check your details' %} </i></h4>
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div style="max-height:300px; overflow-y:auto;">
                                                    <h5><i class="fas fa-times-circle" style="color:red; font-size:24px;"></i> {% trans 'We found a mistake in your data.' %}</h5>
                                                    <br/>
                                                    <span id="show_error_log" style="font-size:15px;">

                                                </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="primary-btn" data-dismiss="modal">OK</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="background-color:white; padding:10px; border:1px solid #cdcdcd;" id="train_detail">

                        </div>
                        <br/>
                        <input type="hidden" id="time_limit_input" name="time_limit_input" />
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>
{% elif template == 4 %}
<header class="header_breadcrumb" style="position:sticky; top:0px; z-index:100; padding:unset; background:white;">
    <div class="main-menu" style="border-bottom:1px solid #cdcdcd; padding:15px 0px 15px 0px;">
        <div class="container">
            <div class="row align-items-center justify-content-between d-flex">
                <div id="logo" class="col-lg-2 col-md-2 col-sm-2">
                    <a href="{% url 'tt_website_rodextrip:index'%}"><img src="{{logo}}" style="max-height:40px;max-width:150px;" alt="Logo {{name}}" title="{{name}}" /></a>
                </div>
                <div class="col-lg-10 col-md-10 col-sm-10" id="breadcrumbs_create">

                </div>
            </div>
            <div class="row">
                {% include 'tt_website_rodextrip/balance_credit.html' %}
            </div>
        </div>
    </div>
    {% if username.co_user_login == 'agent_b2c' %}
    {% include 'tt_website_rodextrip/header_signin_signup.html' %}
    {% endif %}
</header>
<section class="destinations-area" style="padding-top:30px; padding-bottom:40px; background: #f7f7f7;">
    <div class="container">
        <form id="train_review" class="form-wrap" action="{% url 'tt_website_rodextrip:train_review'%}" method="POST" style="padding:0; text-align:unset;">
            {% csrf_token %}
            <div class="row">
                <div class="col-lg-8" style="margin-top:10px;">
                    <div class="row">
                        <div class="col-lg-12">
                            <div id="booker" style="background-color:white; padding:10px; border:1px solid #cdcdcd;">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <h4>{% trans 'Booker Information' %}</h4>
                                        <hr/>
                                    </div>
                                    <div class="col-lg-6" style="text-align:left;">
                                        <!--                                            <label>Booker Type :</label><br/>-->
                                        <!--                                            <label class="radio-button-custom">-->
                                        <!--                                                Corporate-->
                                        <!--                                                <input type="radio" checked="checked" name="radio-booker-type">-->
                                        <!--                                                <span class="checkmark-radio"></span>-->
                                        <!--                                            </label>-->
                                        <!--                                            <label class="radio-button-custom">-->
                                        <!--                                                Individual-->
                                        <!--                                                <input type="radio" name="radio-booker-type">-->
                                        <!--                                                <span class="checkmark-radio"></span>-->
                                        <!--                                            </label>-->
                                    </div>
                                    <div class="col-lg-6" style="text-align:right;">
                                        {% if 'b2c_limitation' not in username.co_agent_frontend_security and 'corp_limitation' not in username.co_agent_frontend_security %}
                                        <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal" onclick="loadingPaxHide();"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                        <button type="button" class="primary-btn" id="booker_clear" onclick="clear_passenger('Booker', 0);" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                        {% endif %}
                                    </div>

                                    <div class="modal fade" id="myModal" role="dialog">
                                        <div class="modal-dialog">
                                            <!-- Modal content-->
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Booker List' %} <i class="fas fa-address-card"></i></h4>
                                                    <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('booker','');">&times;</button>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                            <input class="form-control" type="text" id="train_booker_search" placeholder="{% trans 'Search' %}"/>
                                                        </div>
                                                        <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                            <button type="button" id="booker_search" class="primary-btn" onclick="get_customer_list('booker','0','train');">{% trans 'Search' %} <i class="fas fa-search"></i></button>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <br/>
                                                            <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                            <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                        </div>
                                                    </div>
                                                    <div class="row loading-booker-train" style="display:none;">
                                                        <div class="col-lg-12">
                                                            <br/>
                                                            <div style="text-align:center">
                                                                <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div id="search_result">

                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('booker','');">{% trans "Close" %}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-6 col-xs-6">
                                        <label style="color:red !important;">*</label>
                                        <label>{% trans "Title" %}</label>
                                        <div class="input-container-search-ticket">
                                            <div class="form-select-2" id="default-select">
                                                <select class="nice-select-default rounded" id="booker_title" name="booker_title" onchange="change_booker_value('train');">
                                                    {% for title in adult_title%}
                                                    <option>{{title}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                        <div class="row" style="margin:0">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;margin-right:5px;" data-toggle="modal" data-target="#myModalHelp"><i class="fas fa-info-circle"></i></button>
                                            <button type="button" class="tooltip-inner" style="display:none" id="corporate_booker" data-tooltip=""><i class="fas fa-money-bill-wave-alt"></i> {% trans "Corporate Booker" %}</button>
                                            <div class="modal fade" id="myModalHelp" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                                <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                                <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <br/>
                                        <label style="color:red !important;">*</label>
                                        <label>{% trans 'First name and middle name (if any)' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" onchange="capitalizeInput('booker_first_name');change_booker_value('train');" class="form-control" name="booker_first_name" id="booker_first_name" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                            <input type="hidden" class="form-control" name="booker_birth_date" id="booker_birth_date" />
                                            <input type="hidden" class="form-control" name="booker_id_type" id="booker_id_type" />
                                            <input type="hidden" class="form-control" name="booker_id_number" id="booker_id_number" />
                                            <input type="hidden" class="form-control" name="booker_id_number" id="booker_exp_date" />
                                            <input type="hidden" class="form-control" name="booker_id_number" id="booker_country_of_issued" />
                                        </div>
                                        <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                    </div>

                                    <div class="col-lg-6">
                                        <br/>
                                        <label>{% trans 'Last name' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" onchange="capitalizeInput('booker_last_name');change_booker_value('train');" class="form-control" name="booker_last_name" id="booker_last_name" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                        </div>
                                        <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                    </div>

                                    <div class="col-lg-6">
                                        <label style="color:red !important;">*</label>
                                        <label>{% trans 'Nationality' %}</label>
                                        <div class="input-container-search-ticket">
                                            <div class="form-select">
                                                <select class="form-control js-example-basic-single" name="booker_nationality_id" style="width:100%;" id="booker_nationality_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('booker_nationality');change_booker_value('train');" class="nice-select-default">
                                                    {% for country in countries %}
                                                    <option value="{{country.code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <input type="hidden" name="booker_nationality" id="booker_nationality" />
                                        </div>
                                    </div>


                                    <div class="col-lg-6">
                                        <label style="color:red !important;">*</label>
                                        <label>{% trans 'Contact Email Address' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" class="form-control" name="booker_email" id="booker_email" placeholder="{% trans 'Email Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '" onchange="change_booker_value('train');">
                                        </div>
                                        <label style="font-size:12px; padding:0;">{% trans 'Example' %}: email@example.com</label>
                                    </div>

                                    <div class="col-lg-6">
                                        <label style="color:red !important;">*</label>
                                        <label style="margin:0;">{% trans 'Contact Person for Urgent Situation' %}:</label>
                                        <label style="font-size:10px; color:red !important;">({% trans "Must be filled with booker's mobile on first registration" %}:)</label>
                                        <div class="row">
                                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                <div class="form-select">
                                                    <select class="form-control js-example-basic-single" name="booker_phone_code_id" style="width:100%;" id="booker_phone_code_id" onchange="auto_complete('booker_phone_code');change_booker_value('train');" class="nice-select-default">
                                                        {% for phone in phone_code %}
                                                        <option value="{{phone}}" {% if phone == 62%} selected {%endif%}>{{phone}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="booker_phone_code" id="booker_phone_code" />
                                            </div>
                                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                <input type="text" class="form-control" name="booker_phone" id="booker_phone" placeholder="{% trans 'Phone' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '" onchange="change_booker_value('train');">
                                                <input type="hidden" class="form-control" name="booker_id" id="booker_id">
                                            </div>
                                        </div>
                                        <label style="font-size:12px; padding:0;">{% trans 'Example' %}: 812345678</label>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>
                    <div class="row" style="margin-bottom:20px;">
                        <div class="col-lg-12">
                            <div style="background:white; padding:10px; border:1px solid #cdcdcd;">
                                <label>{% trans 'Do you book this trip for you?' %}</label>
                                <label class="radio-button-custom">
                                    {% trans 'Yes' %}
                                    <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('copy','train');" value="yes"/>
                                    <span class="checkmark-radio"></span>
                                </label>

                                <label class="radio-button-custom">
                                    {% trans 'No' %}
                                    <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('change','train');" value="no" checked="checked"/>
                                    <span class="checkmark-radio"></span>
                                </label>

                                <br/>
                                <label>{% trans 'Passenger Data' %}</label><br/>
                                <ul>
                                    <li>{% trans '1. Caution: the name of the passenger must be right and appropriate with international passsport, and domestic route can match with KTP/Passport/SIM' %}</li>
                                    <li>{% trans "2. Passenger data can't be changed after the passing of this page" %}</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    {% for adult in adults%}
                    <div class="row" id="adult{{forloop.counter}}">
                        <div class="col-lg-12">
                            <div class="passenger_div" onclick="show_paxs_airline('adult', '{{forloop.counter}}');">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left;">
                                        <span style="color:{{text_color}}; text-align:center; font-size:15px;">{% trans 'Passenger' %} {% trans 'Adult' %} - {{forloop.counter}}</span>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right;">
                                        <span style="color:{{text_color}}; text-align:right; margin-right:5px; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                        <span style="color:{{text_color}}; text-align:right; margin-right:5px; {% if forloop.counter == 1 %} display:none; {% endif %}" id="adult_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid {{color}}; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_paxs{{forloop.counter}}">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:left;">
                                        <div class="input-container-search-ticket">
                                            <label class="check_box_custom">
                                                <span class="span-search-ticket" style="color:black;">{% trans 'Make this to Contact Person' %}</span>
                                                <input type="checkbox" id="adult_cp{{forloop.counter}}" name="adult_cp{{forloop.counter}}" onclick="update_contact_cp({{forloop.counter}})" />
                                                <span class="check_box_span_custom"></span>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:right;">
                                        {% if 'b2c_limitation' not in username.co_agent_frontend_security %}
                                        <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_adult{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                        <button type="button" class="primary-btn" id="adult_clear{{forloop.counter}}" onclick="clear_passenger('Adult', {{forloop.counter}});" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                        {% endif %}

                                        <div class="modal fade" id="myModal_adult{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">
                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Adult' %} - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('adult','{{forloop.counter}}');">&times;</button>
                                                    </div>
                                                    <div class="modal-body" style="text-align:left;">
                                                        <div class="row">
                                                            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                                <input class="form-control" type="text" id="train_adult{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>
                                                            </div>
                                                            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                                <button type="button" id="search_adult_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('adult',{{forloop.counter}}, 'train')">{% trans 'Search' %}</button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-pax-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result_adult{{forloop.counter}}">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('adult','{{forloop.counter}}');">{% trans "Close" %}</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <label style="color:red !important;">*</label>
                                        <label>{% trans "Title" %}</label>
                                        <div class="input-container-search-ticket">
                                            <div class="form-select-2">
                                                <select class="nice-select-default rounded" id="adult_title{{forloop.counter}}" name="adult_title{{forloop.counter}}">
                                                    {% for title in adult_title%}
                                                    <option>{{title}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                        <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_adult{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                        <div class="modal fade" id="myModalHelp_adult{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">

                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="col-sm-12">
                                                            <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                        </div>
                                                        <div>
                                                            <p>{% trans "1. Please fill passenger name like in your ID card. If there's chinese word in your name please use chinese word." %}</p>
                                                            <p>{% trans '2. Maximum 30 characters for title, first name, and last name. If more than 30 characters you can put 30 first characters like in your ID card.' %} </p>
                                                            <p>{% trans '3. Please use character such as "," or "." same like in your id card.' %}</p>
                                                            <p>{% trans '4. KTP only contain 16 digits.' %}</p>
                                                            <p>{% trans '5. SIM only contain 12 - 13 digits.' %}</p>
                                                            <p>{% trans '6. Passport only contain more than 6 digits.' %}</p>
                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <br/>
                                        <label style="color:red !important;">*</label>
                                        <label>{% trans 'First name and middle name (if any)' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" onchange="capitalizeInput('adult_first_name{{forloop.counter}}');" class="form-control" name="adult_first_name{{forloop.counter}}" id="adult_first_name{{forloop.counter}}" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                            <input type="hidden" class="form-control" name="adult_id{{forloop.counter}}" id="adult_id{{forloop.counter}}">
                                        </div>
                                        <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <br/>
                                        <label>{% trans 'Last name' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" onchange="capitalizeInput('adult_last_name{{forloop.counter}}');" class="form-control" name="adult_last_name{{forloop.counter}}" id="adult_last_name{{forloop.counter}}" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                        </div>
                                        <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <label style="color:red !important;">*</label>
                                        <label>{% trans 'Nationality' %}</label>
                                        <div class="input-container-search-ticket">
                                            <div class="form-select">
                                                <select class="form-control js-example-basic-single" name="adult_nationality{{forloop.counter}}_id" style="width:100%;" id="adult_nationality{{forloop.counter}}_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('adult_nationality{{forloop.counter}}')" class="nice-select-default">
                                                    {% for country in countries %}
                                                    <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <input type="hidden" name="adult_nationality{{forloop.counter}}" id="adult_nationality{{forloop.counter}}" />
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <script>
                                            if(birth_date_required == true)
                                                document.write(`<label style="color:red !important;">*</label>`);
                                        </script>
                                        <label>{% trans 'Birth Date' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" style="background:white;" class="form-control date-picker-birth" name="adult_birth_date{{forloop.counter}}" id="adult_birth_date{{forloop.counter}}" placeholder="{% trans 'Birth Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                            <input type="hidden" class="form-control" name="adult_years_old{{forloop.counter}}" id="adult_years_old{{forloop.counter}}">
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <label style="color:red">*</label>
                                        <label>{% trans 'ID Type' %}</label>
                                        <div class="input-container-search-ticket">
                                            <div class="form-select">
                                                <select class="nice-select-default rounded" id='adult_id_type{{forloop.counter}}' name='adult_id_type{{forloop.counter}}' onchange="id_type_change('adult',{{forloop.counter}})">
                                                    {% for id_type in id_types%}
                                                    <option value="{{id_type.0}}">{{id_type.1}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <label style="color:red !important;">*</label>
                                        <label>{% trans 'ID Number' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" class="form-control" name="adult_passport_number{{forloop.counter}}" id="adult_passport_number{{forloop.counter}}" placeholder="{% trans 'ID Number' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'ID Number '">
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <label id="adult_passport_number_required{{forloop.counter}}" style="color:{{text_color}}">*</label>
                                        <label>{% trans 'ID Expired Date' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" style="background:white;" class="form-control date-picker-passport" name="adult_passport_expired_date{{forloop.counter}}" id="adult_passport_expired_date{{forloop.counter}}" placeholder="{% trans 'ID Expired Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'ID Expired Date '" autocomplete="off" readonly>
                                            <button type="button" class="primary-delete-date" onclick="delete_expired_date('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>

                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <label id="adult_country_of_issued_required{{forloop.counter}}_id" style="color:{{text_color}}">*</label>
                                        <label>{% trans 'Country of Issued' %}</label>
                                        <div class="input-container-search-ticket">
                                            <div class="form-select">
                                                <select class="form-control js-example-basic-single" name="adult_country_of_issued{{forloop.counter}}_id" style="width:100%;" id="adult_country_of_issued{{forloop.counter}}_id" placeholder="{% trans 'Country of Issued' %}" onchange="auto_complete('adult_country_of_issued{{forloop.counter}}')" class="nice-select-default">
                                                    <option value="">{% trans 'Country of Issued' %}</option>
                                                    {% for country in countries %}
                                                    <option value="{{country.name}}">{{country.name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <button type="button" class="primary-delete-date" onclick="delete_country_of_issued('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                            <input type="hidden" name="adult_country_of_issued{{forloop.counter}}" id="adult_country_of_issued{{forloop.counter}}" />
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6" id="adult_cp_hidden1_{{forloop.counter}}" hidden>
                                        <label style="color:red">*</label>
                                        <label>{% trans 'Contact Email Address' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" class="form-control" name="adult_email{{forloop.counter}}" id="adult_email{{forloop.counter}}" placeholder="{% trans 'Email Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '">
                                        </div>
                                        <label style="font-size:12px; padding:0;">{% trans 'Example' %}: email@example.com</label>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6" id="adult_cp_hidden2_{{forloop.counter}}" hidden>
                                        <label style="color:red !important;">*</label>
                                        <label style="margin:0;">{% trans 'Contact Person for Urgent Situation' %}:</label>
                                        <label style="font-size:10px; color:red;">({% trans "Must be filled with contact contact person's mobile on first registration" %}:)</label>
                                        <div class="row">
                                            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                <div class="input-container-search-ticket">
                                                    <div class="form-select">
                                                        <select class="form-control js-example-basic-single" name="adult_phone_code{{forloop.counter}}_id" style="width:100%;" id="adult_phone_code{{forloop.counter}}_id" onchange="auto_complete('adult_phone_code{{forloop.counter}}')" class="nice-select-default">
                                                            {% for phone in phone_code %}
                                                            <option value="{{phone}}" {% if phone == 62%} selected {%endif%}>{{phone}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                    <input type="hidden" name="adult_phone_code{{forloop.counter}}" id="adult_phone_code{{forloop.counter}}" />
                                                </div>
                                            </div>
                                            <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                <div class="input-container-search-ticket">
                                                    <input type="text" class="form-control" name="adult_phone{{forloop.counter}}" id="adult_phone{{forloop.counter}}" placeholder="{% trans 'Phone' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '">
                                                </div>
                                            </div>
                                        </div>
                                        <label style="font-size:12px; padding:0;">{% trans 'Example' %}: 812345678</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br/>
                    {% endfor %}

                    {% for infant in infants%}
                    <div class="row" id="infant{{forloop.counter}}">
                        <div class="col-lg-12">
                            <div class="passenger_div" onclick="show_paxs_airline('infant', '{{forloop.counter}}');">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left;">
                                        <span style="color:{{text_color}}; text-align:center; font-size:15px;">{% trans 'Passenger' %} {% trans 'Infant' %} - {{forloop.counter}}</span>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right;">
                                        <span style="color:{{text_color}}; text-align:right; margin-right:5px; display:none;" id="infant_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                        <span style="color:{{text_color}}; text-align:right; margin-right:5px;" id="infant_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid {{color}}; display:none;" id="infant_paxs{{forloop.counter}}">
                                <div class="row">
                                    <div class="col-lg-6" style="text-align:left;"></div>
                                    <div class="col-lg-6" style="text-align:right;">
                                        {% if 'b2c_limitation' not in username.co_agent_frontend_security %}
                                        <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_infant{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                        <button type="button" class="primary-btn" id="infant_clear{{forloop.counter}}" onclick="clear_passenger('Infant', {{forloop.counter}});" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                        {% endif %}
                                    </div>
                                    <div class="modal fade" id="myModal_infant{{forloop.counter}}" role="dialog">
                                        <div class="modal-dialog">

                                            <!-- Modal content-->
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Infant' %} - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                    <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('infant','{{forloop.counter}}');">&times;</button>
                                                </div>
                                                <div class="modal-body" style="text-align:left;">
                                                    <div class="row" >
                                                        <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                            <input class="form-control" type="text" id="train_infant{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>
                                                        </div>
                                                        <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                            <button type="button" id="search_infant_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('infant',{{forloop.counter}}, 'train')">{% trans 'Search' %}</button>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <br/>
                                                            <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                            <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                        </div>
                                                    </div>
                                                    <div class="row loading-pax-train" style="display:none;">
                                                        <div class="col-lg-12">
                                                            <br/>
                                                            <div style="text-align:center">
                                                                <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div id="search_result_infant{{forloop.counter}}">

                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('infant','{{forloop.counter}}');">{% trans "Close" %}</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-xs-6">
                                        <label style="color:red !important;">*</label>
                                        <label>{% trans "Title" %}</label>
                                        <div class="input-container-search-ticket">
                                            <div class="form-select-2">
                                                <select class="nice-select-default rounded" id="infant_title{{forloop.counter}}" name="infant_title{{forloop.counter}}">
                                                    {% for title in infant_title%}
                                                    <option>{{title}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                        <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_infant{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                        <div class="modal fade" id="myModalHelp_infant{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">

                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="col-sm-12">
                                                            <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                        </div>
                                                        <div>
                                                            <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                            <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                            <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <br/>
                                        <label style="color:red !important;">*</label>
                                        <label>{% trans 'First name and middle name (if any)' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" onchange="capitalizeInput('infant_first_name{{forloop.counter}}');" class="form-control" name="infant_first_name{{forloop.counter}}" id="infant_first_name{{forloop.counter}}" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                            <input type="hidden" class="form-control" name="infant_id{{forloop.counter}}" id="infant_id{{forloop.counter}}">
                                        </div>
                                        <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                    </div>
                                    <div class="col-lg-6">
                                        <br/>
                                        <label>{% trans 'Last name' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" onchange="capitalizeInput('infant_last_name{{forloop.counter}}');" class="form-control" name="infant_last_name{{forloop.counter}}" id="infant_last_name{{forloop.counter}}" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                        </div>
                                        <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                    </div>
                                    <div class="col-lg-6">
                                        <label style="color:red">*</label>
                                        <label>{% trans 'Nationality' %}</label>
                                        <div class="input-container-search-ticket">
                                            <div class="form-select">
                                                <select class="form-control js-example-basic-single" name="infant_nationality{{forloop.counter}}_id" style="width:100%;" id="infant_nationality{{forloop.counter}}_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('infant_nationality{{forloop.counter}}')" class="nice-select-default">
                                                    {% for country in countries %}
                                                    <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <input type="hidden" name="infant_nationality{{forloop.counter}}" id="infant_nationality{{forloop.counter}}" />
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <label style="color:red !important;">*</label>
                                        <label>{% trans 'Birth Date' %}</label>
                                        <div class="input-container-search-ticket">
                                            <input type="text" style="background:white;" class="form-control date-picker-birth" name="infant_birth_date{{forloop.counter}}" id="infant_birth_date{{forloop.counter}}" placeholder="{% trans 'Birth Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="padding-top:15px;"></div>
                    </div>
                    <br/>
                    {% endfor %}

                    <div class="row">
                        <div class="col-lg-4"></div>
                        <div class="col-lg-4"></div>
                        <div class="col-lg-4">
                            <button class="primary-btn-ticket next-passenger-train ld-ext-right" style="width:100%;" type="button" value="Next" onclick="check_passenger({{train_request.adult}},{{train_request.infant}});">
                                {% trans 'Next' %}
                                <i class="fas fa-angle-right"></i>
                                <div class="ld ld-ring ld-cycle"></div>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4" style="margin-top:10px;">
                    <div class="modal fade" id="myModalErrorPassenger" role="dialog">
                        <div class="modal-dialog">
                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title" style="color:{{text_color}};"><i class="fas fa-search-minus"></i> {% trans 'Oops! Please check your details' %} </i></h4>
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div style="max-height:300px; overflow-y:auto;">
                                                <h5><i class="fas fa-times-circle" style="color:red; font-size:24px;"></i> {% trans 'We found a mistake in your data.' %}</h5>
                                                <br/>
                                                <span id="show_error_log" style="font-size:15px;">

                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="primary-btn" data-dismiss="modal">OK</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="background-color:white; padding:10px; border:1px solid #cdcdcd;" id="train_detail">

                    </div>
                    <br/>
                    <input type="hidden" id="time_limit_input" name="time_limit_input" />
                </div>
            </div>
        </form>
    </div>
</section>
{% elif template == 5 %}
<header class="header_breadcrumb" style="position:sticky; top:0px; z-index:100; padding:unset; background:white;">
    <div class="main-menu" style="border-bottom:1px solid #cdcdcd; padding:15px 0px 15px 0px;">
        <div class="container">
            <div class="row align-items-center justify-content-between d-flex">
                <div id="logo" class="col-lg-2 col-md-2 col-sm-2">
                    <a href="{% url 'tt_website_rodextrip:index'%}"><img src="{{logo}}" style="max-height:40px;max-width:150px;" alt="Logo {{name}}" title="{{name}}" /></a>
                </div>
                <div class="col-lg-10 col-md-10 col-sm-10" id="breadcrumbs_create">

                </div>
            </div>
            <div class="row">
                {% include 'tt_website_rodextrip/balance_credit.html' %}
            </div>
        </div>
    </div>
    {% if username.co_user_login == 'agent_b2c' %}
    {% include 'tt_website_rodextrip/header_signin_signup.html' %}
    {% endif %}
</header>
<section class="destinations-area" style="padding-top:30px; padding-bottom:40px; background: #f7f7f7;">
    <div class="container">
        <div class="banner-right">
            <form id="train_review" class="form-wrap" action="{% url 'tt_website_rodextrip:train_review'%}" method="POST" style="padding:0; text-align:unset;">
                {% csrf_token %}
                <div class="row">
                    <div class="col-lg-8" style="margin-top:10px;">
                        <div class="row">
                            <div class="col-lg-12">
                                <div id="booker" style="background-color:white; padding:10px; border:1px solid #cdcdcd;">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <h4>{% trans 'Booker Information' %}</h4>
                                            <hr/>
                                        </div>
                                        <div class="col-lg-6" style="text-align:left;">
                                            <!--                                            <label>Booker Type :</label><br/>-->
                                            <!--                                            <label class="radio-button-custom">-->
                                            <!--                                                Corporate-->
                                            <!--                                                <input type="radio" checked="checked" name="radio-booker-type">-->
                                            <!--                                                <span class="checkmark-radio"></span>-->
                                            <!--                                            </label>-->
                                            <!--                                            <label class="radio-button-custom">-->
                                            <!--                                                Individual-->
                                            <!--                                                <input type="radio" name="radio-booker-type">-->
                                            <!--                                                <span class="checkmark-radio"></span>-->
                                            <!--                                            </label>-->
                                        </div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            {% if 'b2c_limitation' not in username.co_agent_frontend_security and 'corp_limitation' not in username.co_agent_frontend_security %}
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal" onclick="loadingPaxHide();"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="booker_clear" onclick="clear_passenger('Booker', 0);" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                            {% endif %}
                                        </div>

                                        <div class="modal fade" id="myModal" role="dialog">
                                            <div class="modal-dialog">

                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Booker List' %} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('booker','');">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="row">
                                                            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                                <input class="form-control" type="text" id="train_booker_search" placeholder="{% trans 'Search' %}"/>
                                                            </div>
                                                            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                                <button type="button" id="booker_search" class="primary-btn" onclick="get_customer_list('booker','0','train');">{% trans 'Search' %} <i class="fas fa-search"></i></button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-booker-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('booker','');">{% trans "Close" %}</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-xs-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans "Title" %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select" id="default-select" style="margin-bottom:0px;">
                                                    <select id="booker_title" name="booker_title" class="nice-select-default" onchange="change_booker_value('train');">
                                                        {% for title in adult_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp"><i class="fas fa-info-circle"></i></button>
                                            <button type="button" class="tooltip-inner" style="display:none" id="corporate_booker" data-tooltip=""><i class="fas fa-money-bill-wave-alt"></i> {% trans "Corporate Booker" %}</button>
                                            <div class="modal fade" id="myModalHelp" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                                <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                                <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'First name and middle name (if any)' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" onchange="capitalizeInput('booker_first_name');change_booker_value('train');" class="form-control" name="booker_first_name" id="booker_first_name" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="booker_birth_date" id="booker_birth_date" />
                                                <input type="hidden" class="form-control" name="booker_id_type" id="booker_id_type" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_id_number" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_exp_date" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_country_of_issued" />
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <br/>
                                            <label>{% trans 'Last name' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" onchange="capitalizeInput('booker_last_name');change_booker_value('train');" class="form-control" name="booker_last_name" id="booker_last_name" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Nationality' %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="form-control js-example-basic-single" name="booker_nationality_id" style="width:100%;" id="booker_nationality_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('booker_nationality');change_booker_value('train');" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="booker_nationality" id="booker_nationality" />
                                            </div>
                                        </div>


                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Contact Email Address' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="booker_email" id="booker_email" placeholder="{% trans 'Email Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '" onchange="change_booker_value('train');">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'Example' %}: email@example.com</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label style="margin:0;">{% trans 'Contact Person for Urgent Situation' %}:</label>
                                            <label style="font-size:10px; color:red !important;">({% trans "Must be filled with booker's mobile on first registration" %}:)</label>
                                            <div class="row">
                                                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                    <div class="form-select">
                                                        <select class="form-control js-example-basic-single" name="booker_phone_code_id" style="width:100%;" id="booker_phone_code_id" onchange="auto_complete('booker_phone_code');change_booker_value('train');" class="nice-select-default">
                                                            {% for phone in phone_code %}
                                                            <option value="{{phone}}" {% if phone == 62%} selected {%endif%}>{{phone}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                    <input type="hidden" name="booker_phone_code" id="booker_phone_code" />
                                                </div>
                                                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                    <input type="text" class="form-control" name="booker_phone" id="booker_phone" placeholder="{% trans 'Phone' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '" onchange="change_booker_value('train');">
                                                    <input type="hidden" class="form-control" name="booker_id" id="booker_id">
                                                </div>
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'Example' %}: 812345678</label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="margin-bottom:20px;">
                            <div class="col-lg-12">
                                <div style="background:white; padding:10px; border:1px solid #cdcdcd;">
                                    <label>{% trans 'Do you book this trip for you?' %}</label>
                                    <label class="radio-button-custom">
                                        {% trans 'Yes' %}
                                        <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('copy','train');" value="yes"/>
                                        <span class="checkmark-radio"></span>
                                    </label>

                                    <label class="radio-button-custom">
                                        {% trans 'No' %}
                                        <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('change','train');" value="no" checked="checked"/>
                                        <span class="checkmark-radio"></span>
                                    </label>

                                    <br/>
                                    <label>{% trans 'Passenger Data' %}</label><br/>
                                    <ul>
                                        <li>{% trans '1. Caution: the name of the passenger must be right and appropriate with international passsport, and domestic route can match with KTP/Passport/SIM' %}</li>
                                        <li>{% trans "2. Passenger data can't be changed after the passing of this page" %}</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        {% for adult in adults%}
                        <div class="row" id="adult{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div class="passenger_div" onclick="show_paxs_airline('adult', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left;">
                                            <span style="color:{{text_color}}; text-align:center; font-size:15px;">{% trans 'Passenger' %} {% trans 'Adult' %} - {{forloop.counter}}</span>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right;">
                                            <span style="color:{{text_color}}; text-align:right; margin-right:5px; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:{{text_color}}; text-align:right; margin-right:5px; {% if forloop.counter == 1 %} display:none; {% endif %}" id="adult_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid {{color}}; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_paxs{{forloop.counter}}">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:left;">
                                            <div class="input-container-search-ticket">
                                                <label class="check_box_custom">
                                                    <span class="span-search-ticket" style="color:black;">{% trans 'Make this to Contact Person' %}</span>
                                                    <input type="checkbox" id="adult_cp{{forloop.counter}}" name="adult_cp{{forloop.counter}}" onclick="update_contact_cp({{forloop.counter}})" />
                                                    <span class="check_box_span_custom"></span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6" style="text-align:right;">
                                            {% if 'b2c_limitation' not in username.co_agent_frontend_security %}
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_adult{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="adult_clear{{forloop.counter}}" onclick="clear_passenger('Adult', {{forloop.counter}});" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                            {% endif %}

                                            <div class="modal fade" id="myModal_adult{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">
                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Adult' %} - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('adult','{{forloop.counter}}');">&times;</button>
                                                        </div>
                                                        <div class="modal-body" style="text-align:left;">
                                                            <div class="row">
                                                                <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                                    <input class="form-control" type="text" id="train_adult{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>
                                                                </div>
                                                                <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                                    <button type="button" id="search_adult_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('adult',{{forloop.counter}}, 'train')">{% trans 'Search' %}</button>
                                                                </div>
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-lg-12">
                                                                    <br/>
                                                                    <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                    <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                                </div>
                                                            </div>
                                                            <div class="row loading-pax-train" style="display:none;">
                                                                <div class="col-lg-12">
                                                                    <br/>
                                                                    <div style="text-align:center">
                                                                        <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div id="search_result_adult{{forloop.counter}}">

                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('adult','{{forloop.counter}}');">{% trans "Close" %}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans "Title" %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select" style="margin-bottom:0px;">
                                                    <select id="adult_title{{forloop.counter}}" name="adult_title{{forloop.counter}}" class="nice-select-default">
                                                        {% for title in adult_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_adult{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                            <div class="modal fade" id="myModalHelp_adult{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>{% trans "1. Please fill passenger name like in your ID card. If there's chinese word in your name please use chinese word." %}</p>
                                                                <p>{% trans '2. Maximum 30 characters for title, first name, and last name. If more than 30 characters you can put 30 first characters like in your ID card.' %} </p>
                                                                <p>{% trans '3. Please use character such as "," or "." same like in your id card.' %}</p>
                                                                <p>{% trans '4. KTP only contain 16 digits.' %}</p>
                                                                <p>{% trans '5. SIM only contain 12 - 13 digits.' %}</p>
                                                                <p>{% trans '6. Passport only contain more than 6 digits.' %}</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <br/>
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'First name and middle name (if any)' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" onchange="capitalizeInput('adult_first_name{{forloop.counter}}');" class="form-control" name="adult_first_name{{forloop.counter}}" id="adult_first_name{{forloop.counter}}" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="adult_id{{forloop.counter}}" id="adult_id{{forloop.counter}}">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <br/>
                                            <label>{% trans 'Last name' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" onchange="capitalizeInput('adult_last_name{{forloop.counter}}');" class="form-control" name="adult_last_name{{forloop.counter}}" id="adult_last_name{{forloop.counter}}" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label style="color:red">*</label>
                                            <label>{% trans 'Nationality' %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="form-control js-example-basic-single" name="adult_nationality{{forloop.counter}}_id" style="width:100%;" id="adult_nationality{{forloop.counter}}_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('adult_nationality{{forloop.counter}}')" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="adult_nationality{{forloop.counter}}" id="adult_nationality{{forloop.counter}}" />
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <script>
                                                if(birth_date_required == true)
                                                    document.write(`<label style="color:red !important;">*</label>`);
                                            </script>
                                            <label>{% trans 'Birth Date' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="background:white;" class="form-control date-picker-birth" name="adult_birth_date{{forloop.counter}}" id="adult_birth_date{{forloop.counter}}" placeholder="{% trans 'Birth Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                                <input type="hidden" class="form-control" name="adult_years_old{{forloop.counter}}" id="adult_years_old{{forloop.counter}}">
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'ID Type' %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select" id="default-select">
                                                    <select id='adult_id_type{{forloop.counter}}' name='adult_id_type{{forloop.counter}}' onchange="id_type_change('adult',{{forloop.counter}})">
                                                        {% for id_type in id_types%}
                                                        <option value="{{id_type.0}}">{{id_type.1}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'ID Number' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="adult_passport_number{{forloop.counter}}" id="adult_passport_number{{forloop.counter}}" placeholder="{% trans 'ID Number' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'ID Number '">
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label id="adult_passport_number_required{{forloop.counter}}" style="color:{{text_color}}">*</label>
                                            <label>{% trans 'ID Expired Date' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="background:white;" class="form-control date-picker-passport" name="adult_passport_expired_date{{forloop.counter}}" id="adult_passport_expired_date{{forloop.counter}}" placeholder="{% trans 'ID Expired Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'ID Expired Date '" autocomplete="off" readonly>
                                                <button type="button" class="primary-delete-date" onclick="delete_expired_date('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>

                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label id="adult_country_of_issued_required{{forloop.counter}}_id" style="color:{{text_color}}">*</label>
                                            <label>{% trans 'Country of Issued' %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="form-control js-example-basic-single" name="adult_country_of_issued{{forloop.counter}}_id" style="width:100%;" id="adult_country_of_issued{{forloop.counter}}_id" placeholder="{% trans 'Country of Issued' %}" onchange="auto_complete('adult_country_of_issued{{forloop.counter}}')" class="nice-select-default">
                                                        <option value="">{% trans 'Country of Issued' %}</option>
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}">{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <button type="button" class="primary-delete-date" onclick="delete_country_of_issued('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                                <input type="hidden" name="adult_country_of_issued{{forloop.counter}}" id="adult_country_of_issued{{forloop.counter}}" />
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6" id="adult_cp_hidden1_{{forloop.counter}}" hidden>
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Contact Email Address' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="adult_email{{forloop.counter}}" id="adult_email{{forloop.counter}}" placeholder="{% trans 'Email Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'Example' %}: email@example.com</label>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6" id="adult_cp_hidden2_{{forloop.counter}}" hidden>
                                            <label style="color:red !important;">*</label>
                                            <label style="margin:0;">{% trans 'Contact Person for Urgent Situation' %}:</label>
                                            <label style="font-size:10px; color:red !important;">({% trans "Must be filled with contact person's mobile on first registration" %}:)</label>
                                            <div class="row">
                                                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">

                                                    <div class="input-container-search-ticket">
                                                        <div class="form-select">
                                                            <select class="form-control js-example-basic-single" name="adult_phone_code{{forloop.counter}}_id" style="width:100%;" id="adult_phone_code{{forloop.counter}}_id" onchange="auto_complete('adult_phone_code{{forloop.counter}}')" class="nice-select-default">
                                                                {% for phone in phone_code %}
                                                                <option value="{{phone}}" {% if phone == 62%} selected {%endif%}>{{phone}}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </div>
                                                        <input type="hidden" name="adult_phone_code{{forloop.counter}}" id="adult_phone_code{{forloop.counter}}" />
                                                    </div>
                                                </div>
                                                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" class="form-control" name="adult_phone{{forloop.counter}}" id="adult_phone{{forloop.counter}}" placeholder="{% trans 'Phone' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '">
                                                    </div>
                                                </div>
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'Example' %}: 812345678</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        {% endfor %}

                        {% for infant in infants%}
                        <div class="row" id="infant{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div class="passenger_div" onclick="show_paxs_airline('infant', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left;">
                                            <span style="color:{{text_color}}; text-align:center; font-size:15px;">{% trans 'Passenger' %} {% trans 'Infant' %} - {{forloop.counter}}</span>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right;">
                                            <span style="color:{{text_color}}; text-align:right; margin-right:5px; display:none;" id="infant_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:{{text_color}}; text-align:right; margin-right:5px;" id="infant_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid {{color}}; display:none;" id="infant_paxs{{forloop.counter}}">
                                    <div class="row">
                                        <div class="col-lg-6" style="text-align:left;"></div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            {% if 'b2c_limitation' not in username.co_agent_frontend_security %}
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_infant{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="infant_clear{{forloop.counter}}" onclick="clear_passenger('Infant', {{forloop.counter}});" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                            {% endif %}
                                        </div>
                                        <div class="modal fade" id="myModal_infant{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">

                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:{{text_color}};">{% trans 'Infant' %} - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal" onclick="clear_search_pax('infant','{{forloop.counter}}');">&times;</button>
                                                    </div>
                                                    <div class="modal-body" style="text-align:left;">
                                                        <div class="row" >
                                                            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                                <input class="form-control" type="text" id="train_infant{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>
                                                            </div>
                                                            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                                <button type="button" id="search_infant_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('infant',{{forloop.counter}}, 'train')">{% trans 'Search' %}</button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Max 100 customers in 1 search" %}</span>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-pax-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">{% trans "PLEASE WAIT" %} </span><img src="{{static_path}}img/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result_infant{{forloop.counter}}">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal" onclick="clear_search_pax('infant','{{forloop.counter}}');">{% trans "Close" %}</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans "Title" %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select" style="margin-bottom:0px;">
                                                    <select id="infant_title{{forloop.counter}}" name="infant_title{{forloop.counter}}" class="nice-select-default">
                                                        {% for title in infant_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6" style="margin-top:auto;">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_infant{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                            <div class="modal fade" id="myModalHelp_infant{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:{{text_color}};">{% trans "Help" %} <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website_rodextrip/img/id_card.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                                <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                                <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">{% trans "Close" %}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'First name and middle name (if any)' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" onchange="capitalizeInput('infant_first_name{{forloop.counter}}');" class="form-control" name="infant_first_name{{forloop.counter}}" id="infant_first_name{{forloop.counter}}" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="infant_id{{forloop.counter}}" id="infant_id{{forloop.counter}}">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>{% trans 'Last name' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" onchange="capitalizeInput('infant_last_name{{forloop.counter}}');" class="form-control" name="infant_last_name{{forloop.counter}}" id="infant_last_name{{forloop.counter}}" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Nationality' %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="form-control js-example-basic-single" name="infant_nationality{{forloop.counter}}_id" style="width:100%;" id="infant_nationality{{forloop.counter}}_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('infant_nationality{{forloop.counter}}')" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="infant_nationality{{forloop.counter}}" id="infant_nationality{{forloop.counter}}" />
                                            </div>

                                        </div>
                                        <div class="col-lg-6">
                                            <label style="color:red !important;">*</label>
                                            <label>{% trans 'Birth Date' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="background:white;" class="form-control date-picker-birth" name="infant_birth_date{{forloop.counter}}" id="infant_birth_date{{forloop.counter}}" placeholder="{% trans 'Birth Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="padding-top:15px;"></div>
                        </div>
                        <br/>
                        {% endfor %}

                        <div class="row">
                            <div class="col-lg-4"></div>
                            <div class="col-lg-4"></div>
                            <div class="col-lg-4">
                                <button class="primary-btn-ticket next-passenger-train ld-ext-right" style="width:100%;" type="button" value="Next" onclick="check_passenger({{train_request.adult}},{{train_request.infant}});">
                                    {% trans 'Next' %}
                                    <i class="fas fa-angle-right"></i>
                                    <div class="ld ld-ring ld-cycle"></div>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4" style="margin-top:10px;">
                        <div class="modal fade" id="myModalErrorPassenger" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h4 class="modal-title" style="color:{{text_color}};"><i class="fas fa-search-minus"></i> {% trans 'Oops! Please check your details' %} </i></h4>
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <div style="max-height:300px; overflow-y:auto;">
                                                    <h5><i class="fas fa-times-circle" style="color:red; font-size:24px;"></i> {% trans 'We found a mistake in your data.' %}</h5>
                                                    <br/>
                                                    <span id="show_error_log" style="font-size:15px;">

                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="primary-btn" data-dismiss="modal">OK</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="background-color:white; padding:10px; border:1px solid #cdcdcd;" id="train_detail">

                        </div>
                        <br/>
                        <input type="hidden" id="time_limit_input" name="time_limit_input" />
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>
{% endif %}

<div id="modal_passenger_list">

{% include 'tt_website_rodextrip/footer.html' %}


{% if username.co_user_login == 'agent_b2c' %}
{% include 'tt_website_rodextrip/modal_signin_signup.html' %}
{% endif %}
<script>
    $('.loader-rodextrip').fadeOut();
    use_google_map = false;
    last_counter = 0;
    vendor = `{{vendor}}`;
    get_medical_information();
    alamat_ss = 'Jl. Raya Bukit Darmo No.22-24, Putat Gede, Kec. Sukomanunggal, Kota SBY, Jawa Timur 60189';
    test_type = `{{test_type}}`;
      //if(vendor == 'periksain' || vendor == 'phc' && test_type == 'PHCHCKATG' || vendor == 'phc' && test_type == 'PHCHCKPCR')
        document.getElementById('medical_timeslot').style.display = 'block';
      if(vendor == 'phc' && test_type == 'PHCDTKATG' || vendor == 'phc' && test_type == 'PHCDTKPCR'){
        document.getElementById('booker_address').readOnly = true;
        document.getElementById('booker_address').value = alamat_ss;
      }
    $( document ).ready(function() {
      $('.js-example-basic-single').niceSelect('destroy');
      $('.js-example-basic-single').select2();
      auto_complete('booker_nationality');
      auto_complete('booker_phone_code');
      medical_signin('passenger');
    });
    $(function() {
      breadcrumb_create("medical", 2, 0);

  });
    function check_years_old(sequence){
        var birth_date = '';
        birth_date = moment(document.getElementById('adult_birth_date'+sequence).value, 'DD MMM YYYY');
        document.getElementById('adult_years_old'+sequence).value = parseInt(Math.abs(moment(new Date()) - birth_date)/31536000000);
    }
    {% if 'co_customer_parent_type_name' in username and username.co_customer_parent_type_name == "COR" %}
        get_automatic_booker('{{username.co_customer_seq_id}}');
    {% endif %}
</script>



<!--<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB0B4gWu6auyPm91HyHd55huvqFX9-0kr4&libraries=&v=weekly"></script>-->
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>

<script>
    var map;
    web_url = '';
    var list_map = [
        {
            "name": "surabaya",
            "lat": -7.2756141,
            "long": 112.6426418,
            "zoom" : 12
        }, {
            "name": "sidoarjo",
            "lat": -7.4472392,
            "long": 112.6718014,
            "zoom" : 12
        }, {
            "name": "malang",
            "lat": -7.9786395,
            "long": 112.5617411,
            "zoom" : 12
        }, {
            "name": "static",
            "lat": -7.2885948,
            "long": 112.6994259,
            "zoom" : 18
        }
    ];
    function initMap() {
        use_google_map = true;
        change_area();
    }
    function change_area(type){
        {% if google_api_key != ''%}
        var list_map_choose = {};
        if(type == 'auto_marker'){
            list_map_choose = list_map[4];
        }else if(vendor == 'phc' && test_type == 'PHCDTKATG' || vendor == 'phc' && test_type == 'PHCDTKPCR'){
            list_map_choose = list_map[3];
        }else if(document.getElementById('booker_area').value == 'surabaya' || document.getElementById('booker_area').value == 'Surabaya'){
            list_map_choose = list_map[0];
        }else if(document.getElementById('booker_area').value == 'sidoarjo' || document.getElementById('booker_area').value == 'Sidoarjo'){
            list_map_choose = list_map[1];
        }else if(document.getElementById('booker_area').value == 'malang' || document.getElementById('booker_area').value == 'Malang'){
            list_map_choose = list_map[2];
        }else{
            list_map_choose = list_map[0];
        }
        var mapProp= {
            center:new google.maps.LatLng(list_map_choose.lat,list_map_choose.long),
            zoom:list_map_choose.zoom,
            mapTypeId: "roadmap"
        };
        if(!map){
            document.getElementById('map').innerHTML = `<input
                                                  id="pac-input"
                                                  class="controls"
                                                  type="text"
                                                  placeholder="Search Box"
                                                />`;
            map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
            if(vendor == 'periksain' && type != 'auto_marker' || vendor == 'phc' && test_type == 'PHCHCKATG' && type != 'auto_marker' || vendor == 'phc' && test_type == 'PHCHCKPCR' && type != 'auto_marker'){
                map.addListener('click', function(event) {
                   placeMarker(event.latLng);
                });
                var input = document.getElementById("pac-input");
                var searchBox = new google.maps.places.SearchBox(input);
                map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
                map.addListener("bounds_changed", () => {
                    searchBox.setBounds(map.getBounds());
                });
                // Listen for the event fired when the user selects a prediction and retrieve
                // more details for that place.
                searchBox.addListener("places_changed", () => {
                    const places = searchBox.getPlaces();
                    if (places.length == 0) {
                      return;
                    }
                    // Clear out the old markers.
                    if(marker){
                        marker.setMap(null);
                        marker = '';
                    }
                    // For each place, get the icon, name and location.
                    const bounds = new google.maps.LatLngBounds();
                    places.forEach((place) => {
                        console.log(place);
                        if (!place.geometry || !place.geometry.location) {
                            console.log("Returned place contains no geometry");
                            return;
                        }
                        // Create a marker for each place.
                        marker = new google.maps.Marker({
                            map,
                            title: place.name,
                            position: place.geometry.location,
                        })
                        web_url = 'http://www.google.com/maps/place/';
                        web_url += place.geometry.location.lat() + ',' + place.geometry.location.lng();

                        if (place.geometry.viewport) {
                            // Only geocodes have viewport.
                            bounds.union(place.geometry.viewport);
                        } else {
                            bounds.extend(place.geometry.location);
                        }
                    });
                    map.fitBounds(bounds);
                });
            }else{
                document.getElementById("pac-input").hidden = true;
                web_url = 'http://www.google.com/maps/place/';
                web_url += list_map_choose.lat + ',' + list_map_choose.long;
                marker = new google.maps.Marker({
                    position: {"lat": list_map_choose.lat,"lng": list_map_choose.long},
                    map,
                    title: "Hello World!",
                });
            }
        }else if(type == 'auto_marker'){
            marker = new google.maps.Marker({
                position: {"lat": list_map_choose.lat,"lng": list_map_choose.long},
                map,
                title: "Hello World!",
            });
        }else{
            if(list_map.length < 4 || type == 'change_area_display'){
                if(vendor == 'periksain' || vendor == 'phc' && test_type == 'PHCHCKATG' || vendor == 'phc' && test_type == 'PHCHCKPCR' ){
                    web_url = '';
                    map.setCenter(new google.maps.LatLng(list_map_choose.lat,list_map_choose.long));
                    document.getElementById('pac-input').value = '';
                    if(marker){
                        marker.visible = false;
                        marker.setPosition();
                    }
                }
            }
        }
        {% endif %}
    }
</script>

<!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAe6gdP_fFFJn0IYMJ1inYmJyG8xpL3CMo&callback=myMap"></script>-->
<!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAe6gdP_fFFJn0IYMJ1inYmJyG8xpL3CMo&callback=initMap"></script>-->
{% if google_api_key != '' %}
<script src="https://maps.googleapis.com/maps/api/js?key={{google_api_key}}&callback=initMap&libraries=places&v=weekly"></script>
<script>
    var marker;
    document.getElementById('googleMap').style.width = '100%';
    document.getElementById('googleMap').style.height = '400px';

    $(document).keypress(
      function(event){
        if (event.which == '13') {
          event.preventDefault();
        }
    });

    function placeMarker(location) {
        web_url = 'http://www.google.com/maps/place/';
        web_url += location.lat() + ',' + location.lng();
        if(marker){
            marker.visible = true;
            marker.setPosition(location)
        }else
            marker = new google.maps.Marker({
                position: location,
                map: map,
                title: "Test location"
            });

    }

</script>
{% endif %}
<!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB0B4gWu6auyPm91HyHd55huvqFX9-0kr4&callback=initMap&libraries=drawing&v=weekly" async></script>-->
{% include 'tt_website_rodextrip/plugin_passenger.html' %}
{% endblock %}
