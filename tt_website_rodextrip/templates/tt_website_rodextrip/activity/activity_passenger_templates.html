{% extends 'tt_website_rodextrip/template_website_booking.html' %}
{% load i18n %}
{% load static from staticfiles %}
{% block content %}
<!--<script src="{{ static_path }}js/webservice_token.js"></script>-->
<!--<script src="{{ static_path }}vendor/jquery/jquery-3.2.1.min.js?version={{javascript_version}}"></script>-->
<script src="{{ static_path }}js/webservice_token.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_agent.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/activity_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_activity.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/agent_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/moment.js?version={{javascript_version}}"></script>

<script>
    static_path_url_server = '{{static_path_url_server}}'
    adult = {{adult_count}};
    senior = {{senior_count}};
    child = {{child_count}};
    infant = {{infant_count}};
    time_slot_pick = `{{timeslot_pick}}`;
    price = `{{price}}`;
    price = price.replace(/&#39;/g,'"');
    price = JSON.parse(price.replace(/True/g,'true'));

    detail = `{{detail.options}}`;
    detail = detail.replace(/&#39;/g,'"');
    detail = detail.replace(/True/g,'true');
    detail = detail.replace('\n','\\n');
    detail = JSON.parse(detail.replace(/False/g,'false'));
    additional_price = parseInt({{additional_price}});
    passenger = `{{pax_count}}`;
    passenger = passenger.replace(/&#39;/g,'"');
    passenger = JSON.parse(passenger);
    locations = [];
    images = [];
    {% for i in response.locations %}
        locations.push({
            'country_name': '{{i.country_name}}',
            'city_name': '{{i.city_name}}',
            'state_name': '{{i.state_name}}'
        })
    {% endfor %}

    {% for i in response.images %}
        images.push({
            'url': '{{i.url}}',
            'path': '{{i.path}}',
        })
    {% endfor %}

    highlights = `{{response.highlights}}`;

    response = {
        'locations':locations,
        'images': images,
        'additionalInfo': `{{response.additionalInfo}}`,
        'uuid': '{{response.uuid}}',
        'highlights': highlights.replace('&#39;', "'"),
        'safety': `{{response.safety}}`,
        'longitude': {{response.longitude}},
        'latitude': {{response.latitude}},
        'provider': '{{response.provider}}',
        'description': `{{response.description}}`,
        'warnings': `{{response.warnings}}`,
        'priceExcludes': `{{response.priceExcludes}}`,
        'minPax': {{response.minPax}},
        'maxPax': {{response.maxPax}},
        'businessHoursFrom': `{{response.businessHoursFrom}}`,
        'businessHoursTo': `{{response.businessHoursTo}}`,
        'name': '{{response.name}}',
        'itinerary': `{{response.itinerary}}`,
    };

    //check years old
    function check_years_old(sequence, type){
        var birth_date = '';
        if(type =='adult')
            birth_date = moment(document.getElementById('adult_birth_date'+sequence).value, 'DD MMM YYYY');
        if(type =='infant')
            birth_date = moment(document.getElementById('infant_birth_date'+sequence).value, 'DD MMM YYYY');
        if(type =='senior')
            birth_date = moment(document.getElementById('senior_birth_date'+sequence).value, 'DD MMM YYYY');
        if(type =='child')
            birth_date = moment(document.getElementById('child_birth_date'+sequence).value, 'DD MMM YYYY');

        document.getElementById(type+'_years_old'+sequence).value = parseInt(Math.abs(moment(new Date()) - birth_date)/31536000000);
    }
    signature = `{{signature}}`;
    time_limit = {{time_limit}};
    session_time_limit();
</script>

<header id="header">
    <div class="main-menu">
        <div class="container">
            <div class="row align-items-center justify-content-between d-flex">
                <div id="logo" class="col-lg-2 col-md-2 col-sm-2">
                    <a href="{% url 'tt_website_rodextrip:index'%}"><img src="{{logo}}" style="width:80px; height:35px;" alt="" title="" /></a>
                </div>
                <div class="col-lg-10 col-md-10 col-sm-10" id="breadcrumbs_create">

                </div>
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-6 col-sm-6 col-xs-6" style="padding-top:10px;">
                    <span style="font-size:14px; font-weight:600;">Session Time <span style="font-size:16px; font-weight:700; color:#f15a22;" id="session_time"> </span></span>
                </div>
                <div class="col-lg-3 col-md-6 col-sm-6 col-xs-6" style="padding-top:10px;">
                    <span style="font-size:14px; font-weight:600;">Elapsed Time <span style="font-size:16px; font-weight:700; color:#f15a22;" id="elapse_time"> </span></span>
                </div>
            </div>
        </div>
    </div>
</header>
{% include 'tt_website_rodextrip/logout.html' %}
{% include 'tt_website_rodextrip/loading_screen.html' %}
<div class="destinations-area" style="padding-top:30px; padding-bottom:40px;">
    <div class="container">
        <div class="banner-right">
            <form id="activity_review" class="form-wrap" action="{% url 'tt_website_rodextrip:activity_review'%}" method="POST" style="padding:0; text-align:unset;" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" id="additional_price" name="additional_price">
                <div class="row">
                    <div class="col-lg-8" style="margin-top:10px;">
                        <div class="row">
                            <div class="col-lg-12">
                                <div id="booker" style="background-color:white; padding:10px; border:1px solid #cdcdcd;">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <h4>Booker Information</h4>
                                            <hr/>
                                        </div>
                                        <div class="col-lg-6" style="text-align:left;">
                                            <!--                                            <label>Booker Type :</label><br/>-->
                                            <!--                                            <label class="radio-button-custom">-->
                                            <!--                                                Corporate-->
                                            <!--                                                <input type="radio" checked="checked" name="radio-booker-type">-->
                                            <!--                                                <span class="checkmark-radio"></span>-->
                                            <!--                                            </label>-->
                                            <!--                                            <label class="radio-button-custom">-->
                                            <!--                                                Individual-->
                                            <!--                                                <input type="radio" name="radio-booker-type">-->
                                            <!--                                                <span class="checkmark-radio"></span>-->
                                            <!--                                            </label>-->
                                        </div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal" onclick="loadingPaxHide();"> Search <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="booker_clear" onclick="clear_passenger('Booker', 0);" value="clear"> Clear <i class="fas fa-times"></i></button>
                                        </div>

                                        <div class="modal fade" id="myModal" role="dialog">
                                            <div class="modal-dialog">

                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:white;">Booker List <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <input type="text" id="train_booker_search" placeholder="Search" style="padding:5px;"/>
                                                                <button type="button" id="booker_search" class="primary-btn" style="line-height:35px;" onclick="get_customer_list('booker','0','activity');">Search <i class="fas fa-search"></i></button>
                                                                <input type="hidden" id="booker_min_age" value="{{booker_min_age}}"/>
                                                                <input type="hidden" id="booker_max_age" value="{{booker_max_age}}"/>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> Using this means you can't change title, first name, and last name</span>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-booker-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">PLEASE WAIT </span><img src="{{static_path}}img/search.gif" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-xs-6">
                                            <label style="color:red">*</label>
                                            <label>Title</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select-2" id="default-select">
                                                    <select id="booker_title" name="booker_title" class="nice-select-default" onchange="change_booker_value('title');">
                                                        {% for title in adult_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6" style="margin-top:auto;">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp"><i class="fas fa-info-circle"></i></button>
                                            <div class="modal fade" id="myModalHelp" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:white;">Help <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website_rodextrip/img/id_card.png" style="width:50%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>1. Please fill passenger name like in your ID card. If there's chinese word in your name please use chinese word.</p>
                                                                <p>2. Maximum 30 characters for title, first name, and last name. If more than 30 characters you can put 30 first characters like in your ID card. </p>
                                                                <p>3. Please use character such as "," or "." same like in your id card.</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red">*</label>
                                            <label>First name and middle name (if any)</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" onchange="capitalizeInput('booker_first_name'); change_booker_value('first_name');" class="form-control" name="booker_first_name" id="booker_first_name" placeholder="First Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="booker_birth_date" id="booker_birth_date" />
                                                <input type="hidden" class="form-control" name="booker_id_type" id="booker_id_type" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_id_number" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_exp_date" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_country_of_issued" />
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Last name</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" onchange="capitalizeInput('booker_last_name'); change_booker_value('last_name');" class="form-control" name="booker_last_name" id="booker_last_name" placeholder="Last Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label>Nationality</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="form-control js-example-basic-single" name="booker_nationality_id" style="width:100%;" id="booker_nationality_id" placeholder="Nationality" onchange="auto_complete('booker_nationality');change_booker_value('nationality');" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="booker_nationality" id="booker_nationality" />
                                            </div>
                                        </div>


                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label>Contact Email Address</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="booker_email" id="booker_email" placeholder="Email Address " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '" onchange="change_booker_value('email');">
                                            </div>
                                            <label style="font-size:12px; padding:0;">Example: email@example.com</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label style="margin:0;">Contact Person for Urgent Situation</label>
                                            <label style="font-size:10px; color:red;">(Must be filled with booker's mobile on first registration)</label>
                                            <div class="row">
                                                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                    <div class="form-select">
                                                        <select class="form-control js-example-basic-single" name="booker_phone_code_id" style="width:100%;" id="booker_phone_code_id" onchange="auto_complete('booker_phone_code')" class="nice-select-default" onchange="change_booker_value('phone_id');">
                                                            {% for country in countries %}
                                                            <option value="{{country.phone_code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.phone_code}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                    <input type="hidden" name="booker_phone_code" id="booker_phone_code" />
                                                </div>
                                                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                    <input type="text" class="form-control" name="booker_phone" id="booker_phone" placeholder="Phone Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '" onchange="change_booker_value('phone');">
                                                    <input type="hidden" class="form-control" name="booker_id" id="booker_id">
                                                </div>
                                            </div>
                                            <label style="font-size:12px; padding:0;">Example: 812345678</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="margin-bottom:20px;">
                            <div class="col-lg-12">
                                <div style="background:white; padding:10px; border:1px solid #f15a22;">
                                    <label>Do you book this ticket for you?</label>
                                    <label class="radio-button-custom">
                                        Yes
                                        <input type="radio" name="myRadios" onclick="copy_booker_to_passenger('copy','tour');" value="yes"/>
                                        <span class="checkmark-radio"></span>
                                    </label>

                                    <label class="radio-button-custom">
                                        No
                                        <input type="radio" name="myRadios" onclick="copy_booker_to_passenger('change','tour');" value="no" checked="checked"/>
                                        <span class="checkmark-radio"></span>
                                    </label>

                                    <br/>
                                    <label>Guest Data</label><br/>
                                    <ul>
                                        <li>1. Caution: the name of the guests must be right and appropriate with KTP/Passport/SIM</li>
                                        <li>2. Guest data can't be changed after the passing of this page</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        {% for adult in adults %}
                        <div class="row" id="adult{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div style="background-color:#f15a22; padding:5px; cursor: pointer; box-shadow: 0px 5px #888888;" onclick="show_paxs_airline('adult', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-8" style="text-align:left;">
                                            <h6 style="color:white;">Adult Guest - {{forloop.counter}} - (Ticket: {{adult.title}})</h6>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-4" style="text-align:right;">
                                            <span style="color:white; text-align:right; margin-right:5px; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:white; text-align:right; margin-right:5px; {% if forloop.counter == 1 %} display:none; {% endif %}" id="adult_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid #f15a22; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_paxs{{forloop.counter}}">
                                    <input type="hidden" id="adult_sku_id{{forloop.counter}}" name="adult_sku_id{{forloop.counter}}" value="{{adult.sku_id}}"/>
                                    <input type="hidden" id="adult_sku_title{{forloop.counter}}" name="adult_sku_title{{forloop.counter}}" value="{{adult.title}}"/>
                                    <input type="hidden" id="adult_sku_real_id{{forloop.counter}}" name="adult_sku_real_id{{forloop.counter}}" value="{{adult.sku_real_id}}"/>
                                    <div class="row">
                                        <div class="col-lg-6" style="text-align:left;">
                                            <div class="input-container-search-ticket">
                                                <label class="check_box_custom">
                                                    <span class="span-search-ticket" style="color:black;">Make this to Contact Person</span>
                                                    <input type="checkbox" id="adult_cp{{forloop.counter}}" name="adult_cp{{forloop.counter}}" onclick="update_contact_cp({{forloop.counter}})" />
                                                    <span class="check_box_span_custom"></span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_adult{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> Search <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="adult_clear{{forloop.counter}}" onclick="clear_passenger('Adult', {{forloop.counter}});" value="clear"> Clear <i class="fas fa-times"></i></button>
                                        </div>
                                        <div class="modal fade" id="myModal_adult{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">
                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:white;">Adult - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body" style="text-align:left;">
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <input type="text" id="train_adult{{forloop.counter}}_search" placeholder="Search" style="padding:5px;"/>
                                                                <input type="hidden" id="train_adult{{forloop.counter}}_min_age" value="{{adult.min_age}}"/>
                                                                <input type="hidden" id="train_adult{{forloop.counter}}_max_age" value="{{adult.max_age}}"/>
                                                                <button type="button" class="primary-btn" style="line-height:35px;" onclick="get_customer_list('adult',{{forloop.counter}}, 'activity')">Search</button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> Using this means you can't change title, first name, and last name</span>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-pax-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">PLEASE WAIT </span><img src="{{static_path}}img/search.gif" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result_adult{{forloop.counter}}">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6">
                                            <label style="color:red">*</label>
                                            <label>Title</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id="adult_title{{forloop.counter}}" name="adult_title{{forloop.counter}}">
                                                        {% for title in adult_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6" style="margin-top:auto;">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_adult{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                            <div class="modal fade" id="myModalHelp_adult{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:white;">Help <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website_rodextrip/img/id_card.png" style="width:50%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>1. Please fill passenger name like in your ID card. If there's chinese word in your name please use chinese word.</p>
                                                                <p>2. Maximum 30 characters for title, first name, and last name. If more than 30 characters you can put 30 first characters like in your ID card. </p>
                                                                <p>3. Please use character such as "," or "." same like in your id card.</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red">*</label>
                                            <label>First name and middle name (if any)</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="adult_first_name{{forloop.counter}}" id="adult_first_name{{forloop.counter}}" placeholder="First Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="adult_id{{forloop.counter}}" id="adult_id{{forloop.counter}}">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Last name</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="adult_last_name{{forloop.counter}}" id="adult_last_name{{forloop.counter}}" placeholder="Last Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label style="color:red">*</label>
                                            <label>Nationality</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="js-example-basic-single" name="adult_nationality{{forloop.counter}}_id" style="width:100%;" id="adult_nationality{{forloop.counter}}_id" placeholder="Nationality" onchange="auto_complete('adult_nationality{{forloop.counter}}')" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="adult_nationality{{forloop.counter}}" id="adult_nationality{{forloop.counter}}" />
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label>Birth Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control date-picker-birth" name="adult_birth_date{{forloop.counter}}" id="adult_birth_date{{forloop.counter}}" onchange="check_years_old({{forloop.counter}}, 'adult')" placeholder="Birth Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                                <input type="hidden" class="form-control" name="adult_years_old{{forloop.counter}}" id="adult_years_old{{forloop.counter}}">
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label>Passport Number</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="adult_passport_number{{forloop.counter}}" id="adult_passport_number{{forloop.counter}}" placeholder="Passport Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Number '">
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label>Passport Expired Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="background:white;" class="form-control date-picker-passport" name="adult_passport_expired_date{{forloop.counter}}" id="adult_passport_expired_date{{forloop.counter}}" placeholder="Passport Expired Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Expired Date '" autocomplete="off" readonly>
                                                <button type="button" class="primary-delete-date" onclick="delete_expired_date('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label>Country of Issued</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="js-example-basic-single" name="adult_country_of_issued{{forloop.counter}}_id" style="width:100%;" id="adult_country_of_issued{{forloop.counter}}_id" placeholder="Country Of Issued" onchange="auto_complete('adult_country_of_issued{{forloop.counter}}')" class="nice-select-default">
                                                        <option value="">Country Of Issued</option>
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}">{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="adult_country_of_issued{{forloop.counter}}" id="adult_country_of_issued{{forloop.counter}}" />
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6" id="adult_cp_hidden1_{{forloop.counter}}" hidden>
                                            <label style="color:red">*</label>
                                            <label>Contact Email Address</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="adult_email{{forloop.counter}}" id="adult_email{{forloop.counter}}" placeholder="Email Address " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">Example: email@example.com</label>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6" id="adult_cp_hidden2_{{forloop.counter}}" hidden>
                                            <label style="color:red">*</label>
                                            <label style="margin:0;">Contact Person for Urgent Situation</label>
                                            <label style="font-size:10px; color:red;">(Must be filled with booker's mobile on first registration)</label>
                                            <div class="row">
                                                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                    <div class="input-container-search-ticket">
                                                        <div class="form-select">
                                                            <select class="js-example-basic-single" name="adult_phone_code{{forloop.counter}}_id" style="width:100%;" id="adult_phone_code{{forloop.counter}}_id" onchange="auto_complete('adult_phone_code{{forloop.counter}}')" class="nice-select-default">
                                                                {% for country in countries %}
                                                                <option value="{{country.phone_code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.phone_code}}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </div>
                                                        <input type="hidden" name="adult_phone_code{{forloop.counter}}" id="adult_phone_code{{forloop.counter}}" />
                                                    </div>
                                                </div>
                                                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" class="form-control" name="adult_phone{{forloop.counter}}" id="adult_phone{{forloop.counter}}" placeholder="Phone Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '">
                                                    </div>
                                                </div>
                                            </div>
                                            <label style="font-size:12px; padding:0;">Example: +62812345678</label>
                                        </div>
                                    </div>
                                    {% with forloop.counter as counter%}
                                    {% for perpax in detail.options.perPax %}
                                    {% with forloop.counter as per_pax %}
                                    {% if perpax.name != 'Guest age' and perpax.name != 'Nationality' and perpax.name != 'Full name' and perpax.name != 'Gender' and perpax.name != 'Date of birth' and perpax.name != 'Passport number' and perpax.name != 'Passport expiry date'%}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <label>{{perpax.name}}</label>
                                            {% if perpax.inputType == 1%}
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id=adult_perpax{{counter}}_{{per_pax}} name=adult_perpax{{counter}}_{{per_pax}} onchange="input_type1_change_perpax({{counter}},'adult', {{per_pax}})">`;
                                                        {% for item in perpax.items %}
                                                        <option value="{{item.value}}">{{item.label}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                            <br/>
                                            {% elif perpax.inputType == 2%}
                                            {% for item in perpax.items %}
                                            {% with forloop.counter as item_count %}
                                            <label style="width:20%"><input type="checkbox" onchange="input_type2_change_perpax({{counter}}, {{item_count}},'adult', {{per_pax}})" id='adult_perpax{{counter}}_{{per_pax}}_{{item_count}}' name='adult_perpax{{counter}}_{{per_pax}}_{{item_count}}' value="{{item.value}}"> item.label</label>
                                            {% endwith %}
                                            {% endfor %}
                                            <br/>
                                            {% elif perpax.inputType == 3%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'adult', {{per_pax}})" id='adult_perpax{{counter}}_{{per_pax}}' name='adult_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 4%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'adult', {{per_pax}})" id='adult_perpax{{counter}}_{{per_pax}}' name='adult_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 5%}
                                            <input type="checkbox" onchange="input_type5_change_perpax({{counter}},'adult', {{per_pax}})" id='adult_perpax{{counter}}_{{per_pax}}' name='adult_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 6%}
                                            <input type="text" class="form-control perPaxDate" onchange="input_type_change_perpax({{counter}},'adult', {{per_pax}})" id='adult_perpax{{counter}}_{{per_pax}}' name='adult_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 7%}
                                            <input type="file" class="form-control" accept="application/JSON, application/pdf" required="" name='adult_perpax{{counter}}_{{per_pax}}' id='adult_perpax{{counter}}_{{per_pax}}' />
                                            {% elif perpax.inputType == 8%}
                                            <input type="file" class="form-control" accept="image/*" required="" name='adult_perpax{{counter}}_{{per_pax}}' id='adult_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 9%}
                                            <input type='text' class="form-control" id='adult_perpax{{counter}}_{{per_pax}}' onchange="input_type_change_perpax({{counter}},'adult', {{per_pax}})" name='adult_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 10%}
                                            <input type="time" class="form-control" style="width:100%;height:20px;" onchange="input_type_change_perpax({{counter}},'adult', {{per_pax}})" id='adult_perpax{{counter}}_{{per_pax}}' name='adult_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 11%}
                                            <input type="text" class="form-control perPaxDateTime" onchange="input_type11_change_perpax({{counter}},'adult', {{per_pax}})" id='adult_perpax{{counter}}_{{per_pax}}' name='adult_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 12%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'adult', {{per_pax}})" id='adult_perpax{{counter}}_{{per_pax}}' name='adult_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 14%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'adult', {{per_pax}})" id='adult_perpax{{counter}}_{{per_pax}}' name='adult_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 50%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'adult', {{per_pax}})" id='adult_perpax{{counter}}_{{per_pax}}' name='adult_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% endif %}
                                            <label>{{perpax.description}}</label>
                                        </div>
                                    </div>
                                    {% endif %}
                                    {% endwith %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        <br/>
                        {% endwith %}
                        {% endfor %}

                        {% for senior in seniors %}
                        <div class="row" id="senior{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div style="background-color:#f15a22; padding:5px; cursor: pointer; box-shadow: 0px 5px #888888;" onclick="show_paxs_airline('senior', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left;">
                                            <h6 style="color:white;">Senior Guest - {{forloop.counter}} - (Ticket: {{senior.title}})</h6>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right;">
                                            <span style="color:white; text-align:right; margin-right:5px; display:none;" id="senior_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:white; text-align:right; margin-right:5px;" id="senior_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid #f15a22; display:none;" id="senior_paxs{{forloop.counter}}">
                                    <input type="hidden" id="senior_sku_id{{forloop.counter}}" name="senior_sku_id{{forloop.counter}}" value="{{senior.sku_id}}"/>
                                    <input type="hidden" id="senior_sku_title{{forloop.counter}}" name="senior_sku_title{{forloop.counter}}" value="{{senior.title}}"/>
                                    <input type="hidden" id="senior_sku_real_id{{forloop.counter}}" name="senior_sku_real_id{{forloop.counter}}" value="{{senior.sku_real_id}}"/>
                                    <div class="row">
                                        <div class="col-lg-6" style="text-align:left;"></div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_senior{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> Search <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="senior_clear{{forloop.counter}}" onclick="clear_passenger('Senior', {{forloop.counter}});" value="clear"> Clear <i class="fas fa-times"></i></button>
                                        </div>
                                        <div class="modal fade" id="myModal_senior{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">
                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:white;">Senior - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body" style="text-align:left;">
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <input type="text" id="train_senior{{forloop.counter}}_search" placeholder="Search" style="padding:5px;"/>
                                                                <input type="hidden" id="train_senior{{forloop.counter}}_min_age" value="{{senior.min_age}}"/>
                                                                <input type="hidden" id="train_senior{{forloop.counter}}_max_age" value="{{senior.max_age}}"/>
                                                                <button type="button" class="primary-btn" style="line-height:35px;" onclick="get_customer_list('senior',{{forloop.counter}}, 'activity')">Search</button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> Using this means you can't change title, first name, and last name</span>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-pax-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">PLEASE WAIT </span><img src="{{static_path}}img/search.gif" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result_senior{{forloop.counter}}">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6">
                                            <label style="color:red">*</label>
                                            <label>Title</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id="senior_title{{forloop.counter}}" name="senior_title{{forloop.counter}}">
                                                        {% for title in adult_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6" style="margin-top:auto;">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_senior{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                            <div class="modal fade" id="myModalHelp_senior{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:white;">Help <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website_rodextrip/img/id_card.png" style="width:50%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>1. Please fill passenger name like in your ID card. If there's chinese word in your name please use chinese word.</p>
                                                                <p>2. Maximum 30 characters for title, first name, and last name. If more than 30 characters you can put 30 first characters like in your ID card. </p>
                                                                <p>3. Please use character such as "," or "." same like in your id card.</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red">*</label>
                                            <label>First name and middle name (if any)</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="senior_first_name{{forloop.counter}}" id="senior_first_name{{forloop.counter}}" placeholder="First Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="senior_id{{forloop.counter}}" id="senior_id{{forloop.counter}}">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Last name</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="senior_last_name{{forloop.counter}}" id="senior_last_name{{forloop.counter}}" placeholder="Last Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label style="color:red">*</label>
                                            <label>Nationality</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="js-example-basic-single" name="senior_nationality{{forloop.counter}}_id" style="width:100%;" id="senior_nationality{{forloop.counter}}_id" placeholder="Nationality" onchange="auto_complete('senior_nationality{{forloop.counter}}')" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="senior_nationality{{forloop.counter}}" id="senior_nationality{{forloop.counter}}" />
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label>Birth Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control date-picker-birth" name="senior_birth_date{{forloop.counter}}" id="senior_birth_date{{forloop.counter}}" onchange="check_years_old({{forloop.counter}}, 'senior')" placeholder="Birth Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                                <input type="hidden" class="form-control" name="senior_years_old{{forloop.counter}}" id="senior_years_old{{forloop.counter}}">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Number</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="senior_passport_number{{forloop.counter}}" id="senior_passport_number{{forloop.counter}}" placeholder="Passport Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Number '">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Expired Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="background:white;" class="form-control date-picker-passport" name="senior_passport_expired_date{{forloop.counter}}" id="senior_passport_expired_date{{forloop.counter}}" placeholder="Passport Expired Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Expired Date '" autocomplete="off" readonly>
                                                <button type="button" class="primary-delete-date" onclick="delete_expired_date('senior', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <label>Country of Issued</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="js-example-basic-single" name="senior_country_of_issued{{forloop.counter}}_id" style="width:100%;" id="senior_country_of_issued{{forloop.counter}}_id" placeholder="Country Of Issued" onchange="auto_complete('senior_country_of_issued{{forloop.counter}}')">
                                                        <option value="">Country Of Issued</option>
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}">{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="senior_country_of_issued{{forloop.counter}}" id="senior_country_of_issued{{forloop.counter}}" />
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6" id="senior_cp_hidden1_{{forloop.counter}}" hidden>
                                            <label>Contact Email Address</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="senior_email{{forloop.counter}}" id="senior_email{{forloop.counter}}" placeholder="Email Address " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">Example: email@example.com</label>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6" id="senior_cp_hidden2_{{forloop.counter}}" hidden>
                                            <label style="margin:0;">Contact Person for Urgent Situation</label>
                                            <label style="font-size:10px; color:red;">(Must be filled with booker's mobile on first registration)</label>
                                            <div class="row">
                                                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                                                    <div class="input-container-search-ticket">
                                                        <div class="form-select">
                                                            <select class="js-example-basic-single" name="senior_phone_code{{forloop.counter}}_id" style="width:100%;" id="senior_phone_code{{forloop.counter}}_id" onchange="auto_complete('senior_phone_code{{forloop.counter}}')" class="nice-select-default">
                                                                {% for country in countries %}
                                                                <option value="{{country.phone_code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.phone_code}}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </div>
                                                        <input type="hidden" name="senior_phone_code{{forloop.counter}}" id="senior_phone_code{{forloop.counter}}" />
                                                    </div>
                                                </div>
                                                <div class="col-lg-9 col-md-9 col-sm-9 col-xs-9">
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" class="form-control" name="senior_phone{{forloop.counter}}" id="senior_phone{{forloop.counter}}" placeholder="Phone Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '">
                                                    </div>
                                                </div>
                                            </div>
                                            <label style="font-size:12px; padding:0;">Example: +62812345678</label>
                                        </div>
                                    </div>
                                    {% with forloop.counter as counter%}
                                    {% for perpax in detail.options.perPax %}
                                    {% with forloop.counter as per_pax %}
                                    {% if perpax.name != 'Guest age' and perpax.name != 'Nationality' and perpax.name != 'Full name' and perpax.name != 'Gender' and perpax.name != 'Date of birth' and perpax.name != 'Passport number' and perpax.name != 'Passport expiry date'%}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <label>{{perpax.name}}</label>
                                            {% if perpax.inputType == 1%}
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select onchange="input_type1_change_perpax({{counter}},'senior', {{per_pax}})" id=senior_perpax{{counter}}_{{per_pax}} name=senior_perpax{{counter}}_{{per_pax}} >`;
                                                        {% for item in perpax.items %}
                                                        <option value="{{item.value}}">{{item.label}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                            <br/>
                                            {% elif perpax.inputType == 2%}
                                            {% for item in perpax.items %}
                                            {% with forloop.counter as item_count %}
                                            <label style="width:20%"><input type="checkbox" onchange="input_type2_change_perpax({{counter}}, {{item_count}},'senior', {{per_pax}})" id='senior_perpax{{counter}}_{{per_pax}}_{{item_count}}' name='senior_perpax{{counter}}_{{per_pax}}_{{item_count}}' value="{{item.value}}"> item.label</label>
                                            {% endwith %}
                                            {% endfor %}
                                            <br/>
                                            {% elif perpax.inputType == 3%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'senior', {{per_pax}})" id='senior_perpax{{counter}}_{{per_pax}}' name='senior_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 4%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'senior', {{per_pax}})" id='senior_perpax{{counter}}_{{per_pax}}' name='senior_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 5%}
                                            <input type="checkbox" onchange="input_type5_change_perpax({{counter}},'senior', {{per_pax}})" id='senior_perpax{{counter}}_{{per_pax}}'  name='senior_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 6%}
                                            <input type="text" class="form-control perPaxDate" onchange="input_type_change_perpax({{counter}},'senior', {{per_pax}})" id='senior_perpax{{counter}}_{{per_pax}}' name='senior_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 7%}
                                            <input type="file" class="form-control" accept="application/JSON, application/pdf" required="" name='senior_perpax{{counter}}_{{per_pax}}' id='senior_perpax{{counter}}_{{per_pax}}' />
                                            {% elif perpax.inputType == 8%}
                                            <input type="file" class="form-control" accept="image/*" required="" name='senior_perpax{{counter}}_{{per_pax}}' id='senior_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 9%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'senior', {{per_pax}})" id='senior_perpax{{counter}}_{{per_pax}}' name='senior_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 10%}
                                            <input type="time" class="form-control" style="width:100%;height:20px;" onchange="input_type_change_perpax({{counter}},'senior', {{per_pax}})" id='senior_perpax{{counter}}_{{per_pax}}' name='senior_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 11%}
                                            <input type="text" class="form-control perPaxDateTime" onchange="input_type11_change_perpax({{counter}},'senior', {{per_pax}})" id='senior_perpax{{counter}}_{{per_pax}}' name='senior_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 12%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'senior', {{per_pax}})" id='senior_perpax{{counter}}_{{per_pax}}' name='senior_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 13%}

                                            {% elif perpax.inputType == 14%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'senior', {{per_pax}})" id='senior_perpax{{counter}}_{{per_pax}}' name='senior_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 50%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'senior', {{per_pax}})" id='senior_perpax{{counter}}_{{per_pax}}' name='senior_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% endif %}
                                            <label>{{perpax.description}}</label>
                                        </div>
                                    </div>
                                    {% endif %}
                                    {% endwith %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                        <br/>
                        {% endwith %}
                        {% endfor %}

                        {% for child in childs %}
                        <div class="row" id="child{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div style="background-color:#f15a22; padding:5px; cursor: pointer; box-shadow: 0px 5px #888888;" onclick="show_paxs_airline('child', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-8" style="text-align:left;">
                                            <h6 style="color:white;">Child Guest - {{forloop.counter}} - (Ticket: {{child.title}})</h6>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-4" style="text-align:right;">
                                            <span style="color:white; text-align:right; margin-right:5px; display:none;" id="child_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:white; text-align:right; margin-right:5px;" id="child_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid #f15a22; display:none;" id="child_paxs{{forloop.counter}}">
                                    <input type="hidden" id="child_sku_id{{forloop.counter}}" name="child_sku_id{{forloop.counter}}" value="{{child.sku_id}}"/>
                                    <input type="hidden" id="child_sku_title{{forloop.counter}}" name="child_sku_title{{forloop.counter}}" value="{{child.title}}"/>
                                    <input type="hidden" id="child_sku_real_id{{forloop.counter}}" name="child_sku_real_id{{forloop.counter}}" value="{{child.sku_real_id}}"/>
                                    <div class="row">
                                        <div class="col-lg-6" style="text-align:left;"></div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_child{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> Search <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="child_clear{{forloop.counter}}" onclick="clear_passenger('Child', {{forloop.counter}});" value="clear"> Clear <i class="fas fa-times"></i></button>
                                        </div>
                                        <div class="modal fade" id="myModal_child{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">
                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:white;">Child - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body" style="text-align:left;">
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <input type="text" id="train_child{{forloop.counter}}_search" placeholder="Search" style="padding:5px;"/>
                                                                <input type="hidden" id="train_child{{forloop.counter}}_min_age" value="{{child.min_age}}"/>
                                                                <input type="hidden" id="train_child{{forloop.counter}}_max_age" value="{{child.max_age}}"/>
                                                                <button type="button" class="primary-btn" style="line-height:35px;" onclick="get_customer_list('child',{{forloop.counter}}, 'activity')">Search</button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> Using this means you can't change title, first name, and last name</span>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-pax-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">PLEASE WAIT </span><img src="{{static_path}}img/search.gif" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result_child{{forloop.counter}}">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6">
                                            <label style="color:red">*</label>
                                            <label>Title</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id="child_title{{forloop.counter}}" name="child_title{{forloop.counter}}">
                                                        {% for title in infant_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6" style="margin-top:auto;">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_child{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                            <div class="modal fade" id="myModalHelp_child{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:white;">Help <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website_rodextrip/img/id_card.png" style="width:50%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>1. Please fill passenger name like in your ID card. If there's chinese word in your name please use chinese word.</p>
                                                                <p>2. Maximum 30 characters for title, first name, and last name. If more than 30 characters you can put 30 first characters like in your ID card. </p>
                                                                <p>3. Please use character such as "," or "." same like in your id card.</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red">*</label>
                                            <label>First name and middle name (if any)</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="child_first_name{{forloop.counter}}" id="child_first_name{{forloop.counter}}" placeholder="First Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="child_id{{forloop.counter}}" id="child_id{{forloop.counter}}">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Last name</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="child_last_name{{forloop.counter}}" id="child_last_name{{forloop.counter}}" placeholder="Last Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label>Nationality</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="js-example-basic-single" name="child_nationality{{forloop.counter}}_id" style="width:100%;" id="child_nationality{{forloop.counter}}_id" placeholder="Nationality" onchange="auto_complete('child_nationality{{forloop.counter}}')" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="child_nationality{{forloop.counter}}" id="child_nationality{{forloop.counter}}" />
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label>Birth Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control date-picker-birth" name="child_birth_date{{forloop.counter}}" id="child_birth_date{{forloop.counter}}" onchange="check_years_old({{forloop.counter}}, 'child')" placeholder="Birth Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                                <input type="hidden" class="form-control" name="child_years_old{{forloop.counter}}" id="child_years_old{{forloop.counter}}">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Number</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="child_passport_number{{forloop.counter}}" id="child_passport_number{{forloop.counter}}" placeholder="Passport Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Number '">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Expired Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="background:white;" class="form-control date-picker-passport" name="child_passport_expired_date{{forloop.counter}}" id="child_passport_expired_date{{forloop.counter}}" placeholder="Passport Expired Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Expired Date '" autocomplete="off" readonly>
                                                <button type="button" class="primary-delete-date" onclick="delete_expired_date('child', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Country of Issued</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="js-example-basic-single" name="child_country_of_issued{{forloop.counter}}_id" style="width:100%;" id="child_country_of_issued{{forloop.counter}}_id" placeholder="Country Of Issued" onchange="auto_complete('child_country_of_issued{{forloop.counter}}')">
                                                        <option value="">Country Of Issued</option>
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}">{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="child_country_of_issued{{forloop.counter}}" id="child_country_of_issued{{forloop.counter}}" />
                                            </div>
                                        </div>
                                    </div>
                                    {% with forloop.counter as counter%}
                                    {% for perpax in detail.options.perPax %}
                                    {% with forloop.counter as per_pax %}
                                    {% if perpax.name != 'Guest age' and perpax.name != 'Nationality' and perpax.name != 'Full name' and perpax.name != 'Gender' and perpax.name != 'Date of birth' and perpax.name != 'Passport number' and perpax.name != 'Passport expiry date'%}
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <label>{{perpax.name}}</label>
                                            {% if perpax.inputType == 1%}
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select onchange="input_type1_change_perpax({{counter}},'child', {{per_pax}})" id=child_perpax{{counter}}_{{per_pax}} name=child_perpax{{counter}}_{{per_pax}} >`;
                                                        {% for item in perpax.items %}
                                                        <option value="{{item.value}}">{{item.label}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                            <br/>
                                            {% elif perpax.inputType == 2%}
                                            {% for item in perpax.items %}
                                            {% with forloop.counter as item_count %}
                                            <label style="width:20%"><input type="checkbox" onchange="input_type2_change_perpax({{counter}}, {{item_count}},'child', {{per_pax}})" id='child_perpax{{counter}}_{{per_pax}}_{{item_count}}' name='child_perpax{{counter}}_{{per_pax}}_{{item_count}}' value="{{item.value}}"> item.label</label>
                                            {% endwith %}
                                            {% endfor %}
                                            <br/>
                                            {% elif perpax.inputType == 3%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'child', {{per_pax}})" id='child_perpax{{counter}}_{{per_pax}}' name='child_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 4%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'child', {{per_pax}})" id='child_perpax{{counter}}_{{per_pax}}' name='child_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 5%}
                                            <input type="checkbox" onchange="input_type5_change_perpax({{counter}},'child', {{per_pax}})" id='child_perpax{{counter}}_{{per_pax}}' name='child_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 6%}
                                            <input type="text" class="form-control perPaxDate" onchange="input_type_change_perpax({{counter}},'child', {{per_pax}})" id='child_perpax{{counter}}_{{per_pax}}' name='child_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 7%}
                                            <input type="file" class="form-control" accept="application/JSON, application/pdf" required="" name='child_perpax{{counter}}_{{per_pax}}' id='child_perpax{{counter}}_{{per_pax}}' />
                                            {% elif perpax.inputType == 8%}
                                            <input type="file" class="form-control" accept="image/*" required="" name='child_perpax{{counter}}_{{per_pax}}' id='child_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 9%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'child', {{per_pax}})" id='child_perpax{{counter}}_{{per_pax}}' name='child_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 10%}
                                            <input type="time" class="form-control" onchange="input_type_change_perpax({{counter}},'child', {{per_pax}})" style="width:100%;height:20px;" id='child_perpax{{counter}}_{{per_pax}}' name='child_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 11%}
                                            <input type="text" class="form-control perPaxDateTime" onchange="input_type11_change_perpax({{counter}},'child', {{per_pax}})" id='child_perpax{{counter}}_{{per_pax}}' name='child_perpax{{counter}}_{{per_pax}}'/>
                                            {% elif perpax.inputType == 12%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'child', {{per_pax}})" id='child_perpax{{counter}}_{{per_pax}}' name='child_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 13%}

                                            {% elif perpax.inputType == 14%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'child', {{per_pax}})" id='child_perpax{{counter}}_{{per_pax}}' name='child_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% elif perpax.inputType == 50%}
                                            <input type='text' class="form-control" onchange="input_type_change_perpax({{counter}},'child', {{per_pax}})" id='child_perpax{{counter}}_{{per_pax}}' name='child_perpax{{counter}}_{{per_pax}}' style='display:block'/>
                                            {% endif %}
                                            <label>{{perpax.description}}</label>
                                        </div>
                                    </div>
                                    {% endif %}
                                    {% endwith %}
                                    {% endfor %}
                                </div>
                            </div>
                            <div style="padding-top:15px;"></div>
                        </div>
                        <br/>
                        {% endwith %}
                        {% endfor %}

                        {% for infant in infants%}
                        <div class="row" id="infant{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div style="background-color:#f15a22; padding:5px; cursor: pointer; box-shadow: 0px 5px #888888;" onclick="show_paxs_airline('infant', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-8" style="text-align:left;">
                                            <h6 style="color:white;">Infant Guest - {{forloop.counter}} - (Ticket: {{infant.title}})</h6>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-4" style="text-align:right;">
                                            <span style="color:white; text-align:right; margin-right:5px; display:none;" id="infant_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:white; text-align:right; margin-right:5px;" id="infant_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid #f15a22; display:none;" id="infant_paxs{{forloop.counter}}">
                                    <input type="hidden" id="infant_sku_id{{forloop.counter}}" name="infant_sku_id{{forloop.counter}}" value="{{infant.sku_id}}"/>
                                    <input type="hidden" id="infant_sku_title{{forloop.counter}}" name="infant_sku_title{{forloop.counter}}" value="{{infant.title}}"/>
                                    <input type="hidden" id="infant_sku_real_id{{forloop.counter}}" name="infant_sku_real_id{{forloop.counter}}" value="{{infant.sku_real_id}}"/>
                                    <div class="row">
                                        <div class="col-lg-6" style="text-align:left;"></div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_infant{{forloop.counter}}" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> Search <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="infant_clear{{forloop.counter}}" onclick="clear_passenger('Infant', {{forloop.counter}});" value="clear"> Clear <i class="fas fa-times"></i></button>
                                        </div>
                                        <div class="modal fade" id="myModal_infant{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">

                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:white;">Infant - {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body" style="text-align:left;">
                                                        <div class="row" >
                                                            <div class="col-lg-12">
                                                                <input type="text" id="train_infant{{forloop.counter}}_search" placeholder="Search" style="padding:5px;"/>
                                                                <input type="hidden" id="train_infant{{forloop.counter}}_min_age" value="{{infant.min_age}}"/>
                                                                <input type="hidden" id="train_infant{{forloop.counter}}_max_age" value="{{infant.max_age}}"/>
                                                                <button type="button" class="primary-btn" style="line-height:34px;" onclick="get_customer_list('infant',{{forloop.counter}}, 'activity')">Search</button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> Using this means you can't change title, first name, and last name</span>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-pax-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">PLEASE WAIT </span><img src="{{static_path}}img/search.gif" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result_infant{{forloop.counter}}">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6">
                                            <label style="color:red">*</label>
                                            <label>Title</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id="infant_title{{forloop.counter}}" name="infant_title{{forloop.counter}}">
                                                        {% for title in infant_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6" style="margin-top:auto;">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_infant{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                            <div class="modal fade" id="myModalHelp_infant{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title" style="color:white;">Help <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website_rodextrip/img/id_card.png" style="width:50%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>1. Please fill passenger name like in your ID card. If there's chinese word in your name please use chinese word.</p>
                                                                <p>2. Maximum 30 characters for title, first name, and last name. If more than 30 characters you can put 30 first characters like in your ID card. </p>
                                                                <p>3. Please use character such as "," or "." same like in your id card.</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red">*</label>
                                            <label>First name and middle name (if any)</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="infant_first_name{{forloop.counter}}" id="infant_first_name{{forloop.counter}}" placeholder="First Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="infant_id{{forloop.counter}}" id="infant_id{{forloop.counter}}">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Last name</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="infant_last_name{{forloop.counter}}" id="infant_last_name{{forloop.counter}}" placeholder="Last Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label>Nationality</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="js-example-basic-single" name="infant_nationality{{forloop.counter}}_id" style="width:100%;" id="infant_nationality{{forloop.counter}}_id" placeholder="Nationality" onchange="auto_complete('infant_nationality{{forloop.counter}}')" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}" {% if country.name == 'Indonesia'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="infant_nationality{{forloop.counter}}" id="infant_nationality{{forloop.counter}}" />
                                            </div>

                                        </div>
                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label>Birth Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control date-picker-birth" name="infant_birth_date{{forloop.counter}}" id="infant_birth_date{{forloop.counter}}" onchange="check_years_old({{forloop.counter}}, 'infant')" placeholder="Birth Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                                <input type="hidden" class="form-control" name="infant_years_old{{forloop.counter}}" id="infant_years_old{{forloop.counter}}">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Number</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="infant_passport_number{{forloop.counter}}" id="infant_passport_number{{forloop.counter}}" placeholder="Passport Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Number '">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Expired Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="background:white;" class="form-control date-picker-passport" name="infant_passport_expired_date{{forloop.counter}}" id="infant_passport_expired_date{{forloop.counter}}" placeholder="Passport Expired Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Expired Date '" autocomplete="off" readonly>
                                                <button type="button" class="primary-delete-date" onclick="delete_expired_date('infant', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Country of Issued</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="js-example-basic-single" name="infant_country_of_issued{{forloop.counter}}_id" style="width:100%;" id="infant_country_of_issued{{forloop.counter}}_id" placeholder="Country Of Issued" onchange="auto_complete('infant_country_of_issued{{forloop.counter}}')">
                                                        <option value="">Country Of Issued</option>
                                                        {% for country in countries %}
                                                        <option value="{{country.name}}">{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                                <input type="hidden" name="infant_country_of_issued{{forloop.counter}}" id="infant_country_of_issued{{forloop.counter}}" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="padding-top:15px;"></div>
                        </div>
                        <br/>
                        {% endfor %}
                    </div>
                    <div class="col-lg-4" style="margin-top:10px;">
                        <div class="row">
                            <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid #cdcdcd;" id="activity_detail">
                                <h4> Price Detail </h4>
                                <hr/>
                                <span id="product_title" style="font-weight: bold;">{{response.name}}</span>
                                <br/><span id="product_type_title">{{detail.name}}</span>
                                <br/><br/>
                                <div class="row">
                                    <div class="col-lg-12" id="activity_detail_table">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-8" style="margin-top:15px;">
                        <div class="row">
                            <div class="modal fade" id="myModalErrorPassenger" role="dialog">
                                <div class="modal-dialog">
                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title" style="color:white;"><i class="fas fa-search-minus"></i> Oops! Please check your details </i></h4>
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div style="max-height:300px; overflow-y:auto;">
                                                        <h5><i class="fas fa-times-circle" style="color:red; font-size:24px;"></i> We found a mistake in your data.</h5>
                                                        <br/>
                                                        <span id="show_error_log" style="font-size:15px;">

                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="primary-btn" data-dismiss="modal">OK</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4"></div>
                            <div class="col-lg-4"></div>
                            <div class="col-lg-4">
                                <div id="activity_detail_next_btn">

                                </div>
                                <textarea id="data_copy" name="data_copy" rows="4" hidden></textarea>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="time_limit_input" value="{{time_limit}}" name="time_limit_input" />
                </div>
            </form>
        </div>
    </div>
</div>
{% include 'tt_website_rodextrip/footer.html' %}

<script>
    activity_table_detail2('passenger')
    $( document ).ready(function() {
      breadcrumb_create("activity", 4, 0);
      $('.js-example-basic-single').niceSelect('destroy');
      $('.js-example-basic-single').select2();
      auto_complete('booker_nationality');
      auto_complete('booker_phone_code');

      {% for adult in adults%}
          auto_complete('adult_nationality{{forloop.counter}}');
          //auto_complete('adult_country_of_issued{{forloop.counter}}');
          auto_complete('adult_phone_code{{forloop.counter}}');
      {% endfor %}
      {% for child in childs%}
          auto_complete('child_nationality{{forloop.counter}}');
          //auto_complete('child_country_of_issued{{forloop.counter}}');
      {% endfor %}
      {% for senior in seniors%}
          auto_complete('senior_nationality{{forloop.counter}}');
          //auto_complete('senior_country_of_issued{{forloop.counter}}');
          auto_complete('senior_phone_code{{forloop.counter}}');
      {% endfor %}
      {% for infant in infants%}
          auto_complete('infant_nationality{{forloop.counter}}');
          //auto_complete('infant_country_of_issued{{forloop.counter}}');
      {% endfor %}
    });

    $(function() {
      $('.perPaxDate').daterangepicker({
          singleDatePicker: true,
          autoUpdateInput: true,
          startDate: moment(),
          showDropdowns: true,
          opens: 'center',
          locale: {
              format: 'YYYY-MM-DD',
          }
      });
      $('.perPaxDateTime').daterangepicker({
          timePicker: true,
          singleDatePicker: true,
          autoUpdateInput: true,
          startDate: moment(),
          showDropdowns: true,
          opens: 'center',
          locale: {
              format: 'YYYY-MM-DD hh:mm',
          }
      });
      for (var i = 1; i <= adult; i++){
          $('input[name="adult_birth_date'+i+'"]').daterangepicker({
              singleDatePicker: true,
              autoUpdateInput: true,
              startDate: moment().subtract(20, 'years'),
              minDate: moment().subtract(59, 'years').subtract(365, 'days'),
              maxDate: moment().subtract(12, 'years'),
              showDropdowns: true,
              opens: 'center',
              locale: {
                  format: 'DD MMM YYYY',
              }
          });
          $('input[name="adult_birth_date'+i+'"]').val("");

          $('input[name="adult_passport_expired_date'+i+'"]').daterangepicker({
              singleDatePicker: true,
              autoUpdateInput: true,
              startDate: moment(),
              minDate: moment(),
              showDropdowns: true,
              opens: 'center',
              locale: {
                  format: 'DD MMM YYYY',
              }
          });
          $('input[name="adult_passport_expired_date'+i+'"]').val("");
      }

      for (var i = 1; i <= senior; i++){
          $('input[name="senior_birth_date'+i+'"]').daterangepicker({
              singleDatePicker: true,
              autoUpdateInput: true,
              startDate: moment().subtract(80, 'years'),
              minDate: moment().subtract(120, 'years'),
              maxDate: moment().subtract(60, 'years'),
              showDropdowns: true,
              opens: 'center',
              locale: {
                  format: 'DD MMM YYYY',
              }
          });
          $('input[name="senior_birth_date'+i+'"]').val("");

          $('input[name="senior_passport_expired_date'+i+'"]').daterangepicker({
              singleDatePicker: true,
              autoUpdateInput: true,
              startDate: moment(),
              minDate: moment(),
              showDropdowns: true,
              opens: 'center',
              locale: {
                  format: 'DD MMM YYYY',
              }
          });
          $('input[name="senior_passport_expired_date'+i+'"]').val("");
      }

      for (var i = 1; i <= child; i++){
          $('input[name="child_birth_date'+i+'"]').daterangepicker({
              singleDatePicker: true,
              autoUpdateInput: true,
              startDate: moment().subtract(5, 'years'),
              minDate: moment().subtract(11, 'years').subtract(365, 'days'),
              maxDate: moment().subtract(2, 'years'),
              showDropdowns: true,
              opens: 'center',
              locale: {
                  format: 'DD MMM YYYY',
              }
          });
          $('input[name="child_birth_date'+i+'"]').val("");

          $('input[name="child_passport_expired_date'+i+'"]').daterangepicker({
              singleDatePicker: true,
              autoUpdateInput: true,
              startDate: moment(),
              minDate: moment(),
              showDropdowns: true,
              opens: 'center',
              locale: {
                  format: 'DD MMM YYYY',
              }
          });
          $('input[name="child_passport_expired_date'+i+'"]').val("");
      }

      for (var i = 1; i <= infant; i++){
          $('input[name="infant_birth_date'+i+'"]').daterangepicker({
              singleDatePicker: true,
              autoUpdateInput: true,
              startDate: moment().subtract(1, 'years'),
              minDate: moment().subtract(1, 'years').subtract(364, 'days'),
              maxDate: moment(),
              showDropdowns: true,
              opens: 'center',
              locale: {
                  format: 'DD MMM YYYY',
              }
          });
          $('input[name="infant_birth_date'+i+'"]').val("");

          $('input[name="infant_passport_expired_date'+i+'"]').daterangepicker({
              singleDatePicker: true,
              autoUpdateInput: true,
              startDate: moment(),
              minDate: moment(),
              showDropdowns: true,
              opens: 'center',
              locale: {
                  format: 'DD MMM YYYY',
              }
          });
          $('input[name="infant_passport_expired_date'+i+'"]').val("");
      }
    });
</script>
{% include 'tt_website_rodextrip/plugin_passenger.html' %}
{% endblock %}
