{% extends 'tt_website/template_website_booking.html' %}
{% load i18n %}
{% load static from staticfiles %}
{% block content %}
<script src="{{ static_path }}js/webservice_token.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_bus.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_content.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_agent.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/bus_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/agent_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/library/daterangepicker.js?version={{javascript_version}}"></script>
<script>
    static_path_url_server = '{{static_path_url_server}}'
    filter = {
        'departure_time': 'all',
        'arrival_time': 'all',
        'cabin_class': 'all'
    };

    bus_request_pick = 0;
    time_limit = {{time_limit}};
    session_time_limit();
    frontend_signature = `{{frontend_signature}}`;
    signature = `{{signature}}`;
    sorting_value = '';

    passengers = {
        'adult': {{bus_request.adult}},
    }
</script>
{%if bus_request.direction == 'OW'%}
<title id="title_search">{{name}} {% trans 'Bus' %} - {% trans 'One Way' %} {% trans 'From' %} {{bus_request.origin.0}} {% trans 'To' %} {{bus_request.destination.0}}</title>
{% endif %}
{%if bus_request.direction == 'RT'%}
<title id="title_search">{{name}} {% trans 'Bus' %} - {% trans 'Round Trip' %} {% trans 'From' %} {{bus_request.origin.0}} {% trans 'To' %} {{bus_request.destination.0}}</title>
{% endif %}

<div id="overlay-search-box" onclick="off_overlay()"></div>
{% include 'tt_website/header.html' %}
{% include 'tt_website/plugin_passenger.html' %}
{% include 'tt_website/logout.html' %}
{% include 'tt_website/notification_box.html' %}

{%if template == 1%}
<section class="destinations-area change_search_area">
    <div class="container" id="bus_search_params">
        <div class="row">
            <div class="col-lg-6 col-md-6" style="text-align:left;">
                <div class="row">
                    <div class="col-lg-12">
                        <div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                            <span style="text-transform: capitalize; font-size:12px;"> <span class="copy_span">{% if bus_request.direction == 'OW' %} {% trans 'One Way' %} {% elif bus_request.direction == 'RT' %} {% trans 'Round Trip' %} {% endif %}</span> - </span>
                            <span style="text-transform: capitalize; font-size:12px;" title="{{bus_request.origin}} > {{bus_request.destination}}"><span class="copy_span">{{bus_request.origin.0}}</span> {% if bus_request.direction == 'OW' %} <i class="fas fa-arrow-right"></i> {% elif bus_request.direction == 'RT' %} <i class="fas fa-arrows-alt-h"></i> {%endif%}<span class="copy_span">{{bus_request.destination.0}}</span></span>
                        </div>
                    </div>
                    <div class="col-lg-12" id="date_bus">
                        <span class="copy_span" style="text-transform: capitalize; font-size:13px;">{{bus_request.departure.0}} {% if bus_request.departure|length > 1%} - {{bus_request.departure.1}} {% endif%} </span>
                        <span style="text-transform: capitalize; font-size:12px; margin-left:5px;"><i class="fas fa-users"></i> <span class="copy_span">{% if bus_request.adult != 0 %} {{bus_request.adult}} {% trans 'Adult' %} {% endif %} {% if bus_request.infant != 0 %}, {{bus_request.infant}} {% trans 'Infant' %} {% endif %}</span></span>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 col-md-6" style="text-align:right;">
                <button class="primary-btn-custom" type="button" onclick="show_hide_change_search();">
                    <span id="change_search_text"><i class="fas fa-search" style="font-size:18px;"></i></span>
                </button>
            </div>
        </div>
    </div>
</section>
<section class="price-area" id="change_search_box" data-aos="fade-up" style="padding-top:15px; padding-bottom:5px; background-color: black; z-index:98; position:relative; display:none">
    <div class="overlay overlay-bg"></div>
    <div class="container" id="div-search-overlay">
        <div class="row">
            <div class="col-lg-12" style="padding:0;">
                <div class="banner-right">
                    <form action="{% url 'tt_website:bus_search'%}" method="POST" class="form-wrap" id="bus_searchForm" onsubmit="return search_bus_validation()">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-lg-12" id="radio_bus_search" style="text-align:left;margin-bottom:10px;">
                                <label class="radio-button-custom" style="margin-bottom:0px;">
                                    <span style="font-size:13px; color:{{text_color}};">{% trans 'One Way' %}</span>
                                    <input type="radio" {% if bus_request.direction == 'OW' %}checked="checked" {% endif %} name="radio_bus_type" value="oneway">
                                    <span class="checkmark-radio"></span>
                                </label>
                                <label class="radio-button-custom" style="margin-bottom:0px;">
                                    <span style="font-size:13px; color:{{text_color}};">{% trans 'Round Trip' %}</span>
                                    <input type="radio" {% if bus_request.direction == 'RT' %}checked="checked" {% endif %} name="radio_bus_type" value="roundtrip">
                                    <span class="checkmark-radio"></span>
                                </label>
                            </div>
                            <div class="col-lg-6">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 bus-from" style="padding-left:0px;">
                                        <span class="span-search-ticket"><i class="fas fa-bus"></i> {% trans 'From' %}</span>
                                        <div class="input-container-search-ticket">
                                            <input id="bus_origin" name="bus_origin" class="form-control" type="text" placeholder="{% trans 'Origin' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_origin').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.origin}}">
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 bus-to" style="z-index:5; padding-right:0px;">
                                        <div class="image-change-route-vertical">
                                            <h4><a href="javascript:bus_switch();" style="z-index:5;" id="bus_switch"><i class="image-rounded-icon2"><i class="fas fa-exchange-alt"></i></i></a></h4>
                                        </div>
                                        <div class="image-change-route-horizontal">
                                            <h4><a class="horizontal-arrow" href="javascript:bus_switch();" style="z-index:5; color:{{text_color}} !important;" id="bus_switch"><i class="image-rounded-icon"><i class="fas fa-exchange-alt"></i></i></a></h4>
                                        </div>
                                        <span class="span-search-ticket"><i class="fas fa-map-marked-alt"></i> {% trans 'To' %}</span>
                                        <div class="input-container-search-ticket">
                                            <input id="bus_destination" name="bus_destination" class="form-control" type="text" placeholder="{% trans 'Destination' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_destination').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.destination}}">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6" id="bus_date_search">
                                <span class="span-search-ticket"><i class="fas fa-calendar-alt"></i> {% trans 'Departure' %}</span>
                                <div class="input-container-search-ticket">
                                    <input type="text" class="form-control" id="bus_departure" name="bus_departure" placeholder="{% trans 'Departure Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Departure Date '" autocomplete="off" readonly value=""/>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6">
                                <span class="span-search-ticket"><i class="fas fa-users"></i> {% trans 'Passenger' %}</span>
                                <div class="input-container-search-ticket btn-group">
                                    <button id="show_total_pax_bus" style="text-align:left;" type="button" class="form-control dropdown-toggle" data-toggle="dropdown"></button>
                                    <ul class="dropdown-menu" role="menu">
                                        <div class="row" style="padding:10px;">
                                            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5" style="float:left !important;">
                                                <div style="float:left;">
                                                    <label>
                                                        <span style="color:black; font-size:13px;">{% trans 'Adult' %}<br/></span>
                                                        <span style="color:gray; font-size:11px;">({% trans 'Age' %} 3+)</span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7" style="float:right !important;">
                                                <div style="float:right; display:flex; padding:5px 0px 5px 5px;">
                                                    <button type="button" class="left-minus-adult-bus btn-custom-circle" id="left-minus-adult-bus" data-type="minus" data-field="" disabled>
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <input type="text" style="font-size:13px; padding:5px !important; border:none; background:none; font-size:13px; text-align:center; width:25px;" id="bus_adult" name="bus_adult" min="1" value="{{bus_request.adult}}" readonly>
                                                    <button type="button" class="right-plus-adult-bus btn-custom-circle" id="right-plus-adult-bus" data-type="plus" data-field="">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-lg-12" style="text-align:right;">
                                                <hr/>
                                                <button class="primary-btn" type="button" style="line-height:34px;" onclick="next_focus_element('bus','passenger');">Done</button>
                                            </div>
                                        </div>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <br/>

                        <input type="hidden" id="bus_response" name="response"/>

                        <button class="primary-btn ld-ext-right" id="btn-search-bus" type="button" onclick="bus_check_search_values();" value="Submit">
                            <i class="fas fa-search" style="color:{{text_color}}; font-weight:bold; font-size:18px;"></i>
                            {% trans 'Search' %}
                            <div class="ld ld-ring ld-cycle"></div>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{% elif template == 2 %}
<section class="destinations-area change_search_area">
    <div class="container" id="bus_search_params">
        <div class="row">
            <div class="col-lg-6 col-md-6" style="text-align:left;">
                <div class="row">
                    <div class="col-lg-12">
                        <div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                            <span style="text-transform: capitalize; font-size:12px;"> <span class="copy_span">{% if bus_request.direction == 'OW' %} {% trans 'One Way' %} {% elif bus_request.direction == 'RT' %} {% trans 'Round Trip' %} {% endif %}</span> - </span>
                            <span style="text-transform: capitalize; font-size:12px;" title="{{bus_request.origin}} > {{bus_request.destination}}"><span class="copy_span">{{bus_request.origin.0}}</span> {% if bus_request.direction == 'OW' %} <i class="fas fa-arrow-right"></i> {% elif bus_request.direction == 'RT' %} <i class="fas fa-arrows-alt-h"></i> {%endif%}<span class="copy_span">{{bus_request.destination.0}}</span></span>
                        </div>
                    </div>
                    <div class="col-lg-12" id="date_bus">
                        <span class="copy_span" style="text-transform: capitalize; font-size:13px;">{{bus_request.departure.0}} {% if bus_request.departure|length > 1%} - {{bus_request.departure.1}} {% endif%} </span>
                        <span style="text-transform: capitalize; font-size:12px; margin-left:5px;"><i class="fas fa-users"></i> <span class="copy_span">{% if bus_request.adult != 0 %} {{bus_request.adult}} Adult {% endif %} {% if bus_request.infant != 0 %}, {{bus_request.infant}} Infant {% endif %}</span></span>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 col-md-6" style="text-align:right;">
                <button class="primary-btn-custom" type="button" onclick="show_hide_change_search();">
                    <span id="change_search_text"><i class="fas fa-search" style="font-size:18px;"></i></span>
                </button>
            </div>
        </div>
    </div>
</section>
<section class="bg-img bg-overlay jarallax" id="change_search_box" style="background-image: url({{background}}); padding-top:40px; padding-bottom:40px; z-index:98; position:relative; display:none;">
    <div class="container" id="div-search-overlay">
        <div class="row">
            <div class="col-lg-12">
                <div class="hotel-search-form-area" style="bottom:0px; padding-left:0px; padding-right:0px;">
                    <div class="hotel-search-form" style="background-color:unset; padding:unset; box-shadow:unset; color:{{text_color}};">
                        <form action="{% url 'tt_website:bus_search'%}" method="POST" class="form-wrap" id="bus_searchForm" onsubmit="return search_bus_validation()">
                            {% csrf_token %}
                            <div class="row">
                                <div class="col-lg-12" id="radio_bus_search" style="text-align:left;margin-bottom:10px;">
                                    <label class="radio-button-custom" style="margin-bottom:0px;">
                                        <span style="font-size:13px; color:{{text_color}};">{% trans 'One Way' %}</span>
                                        <input type="radio" {% if bus_request.direction == 'OW' %}checked="checked" {% endif %} name="radio_bus_type" value="oneway">
                                        <span class="checkmark-radio"></span>
                                    </label>
                                    <label class="radio-button-custom" style="margin-bottom:0px;">
                                        <span style="font-size:13px; color:{{text_color}};">{% trans 'Round Trip' %}</span>
                                        <input type="radio" {% if bus_request.direction == 'RT' %}checked="checked" {% endif %} name="radio_bus_type" value="roundtrip">
                                        <span class="checkmark-radio"></span>
                                    </label>
                                </div>
                                <div class="col-lg-6">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 bus-from">
                                            <span class="span-search-ticket"><i class="fas fa-bus"></i> {% trans 'From' %}</span>
                                            <div class="input-container-search-ticket">
                                                <input id="bus_origin" name="bus_origin" class="form-control" type="text" placeholder="{% trans 'Origin' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_origin').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.origin}}">
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 bus-to" style="z-index:5;">
                                            <div class="image-change-route-vertical">
                                                <h4><a href="javascript:bus_switch();" style="z-index:5;" id="bus_switch"><i class="image-rounded-icon2"><i class="fas fa-exchange-alt"></i></i></a></h4>
                                            </div>
                                            <div class="image-change-route-horizontal">
                                                <h4><a class="horizontal-arrow" href="javascript:bus_switch();" style="z-index:5; color:{{text_color}} !important;" id="bus_switch"><i class="image-rounded-icon"><i class="fas fa-exchange-alt"></i></i></a></h4>
                                            </div>
                                            <span class="span-search-ticket"><i class="fas fa-map-marked-alt"></i> {% trans 'To' %}</span>
                                            <div class="input-container-search-ticket">
                                                <input id="bus_destination" name="bus_destination" class="form-control" type="text" placeholder="{% trans 'Destination' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_destination').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.destination}}">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-6" id="bus_date_search">
                                    <span class="span-search-ticket"><i class="fas fa-calendar-alt"></i> {% trans 'Departure' %}</span>
                                    <div class="input-container-search-ticket">
                                        <input type="text" style="background:white;" class="form-control" id="bus_departure" name="bus_departure" placeholder="{% trans 'Departure Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Departure Date '" autocomplete="off" readonly value=""/>
                                    </div>
                                </div>
                                <div class="col-lg-3 col-md-6">
                                    <span class="span-search-ticket"><i class="fas fa-users"></i> {% trans 'Passenger' %}</span>
                                    <div class="input-container-search-ticket btn-group">
                                        <button id="show_total_pax_bus" style="text-align:left;" type="button" class="form-control dropdown-toggle" data-toggle="dropdown"></button>
                                        <ul class="dropdown-menu" role="menu" style="overflow-y:unset;">
                                            <div class="row" style="padding:10px;">
                                                <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5" style="float:left !important;">
                                                    <div style="float:left;">
                                                        <label>
                                                            <span style="color:black; font-size:13px;">{% trans 'Adult' %}<br/></span>
                                                            <span style="color:gray; font-size:11px;">({% trans 'Age' %} 3+)</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7" style="float:right !important;">
                                                    <div style="float:right; display:flex; padding:5px 0px 5px 5px;">
                                                        <button type="button" class="left-minus-adult-bus btn-custom-circle" id="left-minus-adult-bus" data-type="minus" data-field="" disabled>
                                                            <i class="fas fa-minus"></i>
                                                        </button>
                                                        <input type="text" style="font-size:13px; padding:5px !important; border:none; background:none; font-size:13px; text-align:center; width:25px;" id="bus_adult" name="bus_adult" min="1" value="{{bus_request.adult}}" readonly>
                                                        <button type="button" class="right-plus-adult-bus btn-custom-circle" id="right-plus-adult-bus" data-type="plus" data-field="">
                                                            <i class="fas fa-plus"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12" style="text-align:right;">
                                                    <hr/>
                                                    <button class="primary-btn" type="button" style="line-height:34px;" onclick="next_focus_element('bus','passenger');">Done</button>
                                                </div>
                                            </div>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <br/>

                            <input type="hidden" id="bus_response" name="response"/>
                            <center>
                                <button class="primary-btn ld-ext-right" id="btn-search-bus" type="button" onclick="bus_check_search_values();" value="Submit">
                                    <i class="fas fa-search" style="color:{{text_color}}; font-weight:bold; font-size:18px;"></i>
                                    {% trans 'Search' %}
                                    <div class="ld ld-ring ld-cycle"></div>
                                </button>
                            </center>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% elif template == 3 %}
<section class="change_search_area">
    <div class="container" id="bus_search_params">
        <div class="row">
            <div class="col-lg-6 col-md-6" style="text-align:left;">
                <div class="row">
                    <div class="col-lg-12">
                        <div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                            <span style="text-transform: capitalize; font-size:12px;"> <span class="copy_span">{% if bus_request.direction == 'OW' %} {% trans 'One Way' %} {% elif bus_request.direction == 'RT' %} {% trans 'Round Trip' %} {% endif %}</span> - </span>
                            <span style="text-transform: capitalize; font-size:12px;" title="{{bus_request.origin}} > {{bus_request.destination}}"><span class="copy_span">{{bus_request.origin.0}}</span> {% if bus_request.direction == 'OW' %} <i class="fas fa-arrow-right"></i> {% elif bus_request.direction == 'RT' %} <i class="fas fa-arrows-alt-h"></i> {%endif%}<span class="copy_span">{{bus_request.destination.0}}</span></span>
                        </div>
                    </div>
                    <div class="col-lg-12" id="date_bus">
                        <span class="copy_span" style="text-transform: capitalize; font-size:13px;">{{bus_request.departure.0}} {% if bus_request.departure|length > 1%} - {{bus_request.departure.1}} {% endif%} </span>
                        <span style="text-transform: capitalize; font-size:12px; margin-left:5px;"><i class="fas fa-users"></i> <span class="copy_span">{% if bus_request.adult != 0 %} {{bus_request.adult}} Adult {% endif %} {% if bus_request.infant != 0 %}, {{bus_request.infant}} Infant {% endif %}</span></span>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 col-md-6" style="text-align:right;">
                <button class="primary-btn-custom" type="button" onclick="show_hide_change_search();">
                    <span id="change_search_text"><i class="fas fa-search" style="font-size:18px;"></i></span>
                </button>
            </div>
        </div>
    </div>
</section>
<section class="banner-area relative" id="change_search_box" style="padding-top:40px; padding-bottom:20px; background-color: black; z-index:98; position:relative; display:none;">
    <div class="overlay overlay-bg"></div>
    <div class="container" id="div-search-overlay">
        <div class="row">
            <div class="col-lg-12 header-right" style="background:unset; border:unset;">
                <form action="{% url 'tt_website:bus_search'%}" method="POST" class="form-wrap" id="bus_searchForm" onsubmit="return search_bus_validation()">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-lg-12" id="radio_bus_search" style="text-align:left;margin-bottom:10px;">
                            <label class="radio-button-custom" style="margin-bottom:0px;">
                                <span style="font-size:13px; color:{{text_color}};">{% trans 'One Way' %}</span>
                                <input type="radio" {% if bus_request.direction == 'OW' %}checked="checked" {% endif %} name="radio_bus_type" value="oneway">
                                <span class="checkmark-radio"></span>
                            </label>
                            <label class="radio-button-custom" style="margin-bottom:0px;">
                                <span style="font-size:13px; color:{{text_color}};">{% trans 'Round Trip' %}</span>
                                <input type="radio" {% if bus_request.direction == 'RT' %}checked="checked" {% endif %} name="radio_bus_type" value="roundtrip">
                                <span class="checkmark-radio"></span>
                            </label>
                        </div>
                        <div class="col-lg-6">
                            <div class="row">
                                <div class="col-lg-6 col-md-6 bus-from">
                                    <span class="span-search-ticket"><i class="fas fa-bus"></i> {% trans 'From' %}</span>
                                    <div class="input-container-search-ticket">
                                        <input id="bus_origin" name="bus_origin" class="form-control" type="text" placeholder="{% trans 'Origin' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_origin').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.origin}}">
                                    </div>
                                </div>
                                <div class="col-lg-6 col-md-6 bus-to" style="z-index:5;">
                                    <div class="image-change-route-vertical">
                                        <h4><a href="javascript:bus_switch();" style="z-index:5;" id="bus_switch"><i class="image-rounded-icon2"><i class="fas fa-exchange-alt"></i></i></a></h4>
                                    </div>
                                    <div class="image-change-route-horizontal">
                                        <h4><a class="horizontal-arrow" href="javascript:bus_switch();" style="z-index:5; color:{{text_color}} !important;" id="bus_switch"><i class="image-rounded-icon"><i class="fas fa-exchange-alt"></i></i></a></h4>
                                    </div>
                                    <span class="span-search-ticket"><i class="fas fa-map-marked-alt"></i> {% trans 'To' %}</span>
                                    <div class="input-container-search-ticket">
                                        <input id="bus_destination" name="bus_destination" class="form-control" type="text" placeholder="{% trans 'Destination' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_destination').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.destination}}">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6" id="bus_date_search">
                            <span class="span-search-ticket"><i class="fas fa-calendar-alt"></i> {% trans 'Departure' %}</span>
                            <div class="input-container-search-ticket">
                                <input type="text" style="background:white;" class="form-control" id="bus_departure" name="bus_departure" placeholder="{% trans 'Departure Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Departure Date '" autocomplete="off" readonly value=""/>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <span class="span-search-ticket"><i class="fas fa-users"></i> {% trans 'Passenger' %}</span>
                            <div class="input-container-search-ticket btn-group">
                                <button id="show_total_pax_bus" style="text-align:left;" type="button" class="form-control dropdown-toggle" data-toggle="dropdown"></button>
                                <ul class="dropdown-menu" role="menu" style="overflow-y:unset;">
                                    <div class="row" style="padding:10px;">
                                        <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5" style="float:left !important;">
                                            <div style="float:left;">
                                                <label>
                                                    <span style="color:black; font-size:13px;">{% trans 'Adult' %}<br/></span>
                                                    <span style="color:gray; font-size:11px;">({% trans 'Age' %} 3+)</span>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7" style="float:right !important;">
                                            <div style="float:right; display:flex; padding:5px 0px 5px 5px;">
                                                <button type="button" class="left-minus-adult-bus btn-custom-circle" id="left-minus-adult-bus" data-type="minus" data-field="" disabled>
                                                    <i class="fas fa-minus"></i>
                                                </button>
                                                <input type="text" style="font-size:13px; padding:5px !important; border:none; background:none; font-size:13px; text-align:center; width:25px;" id="bus_adult" name="bus_adult" min="1" value="{{bus_request.adult}}" readonly>
                                                <button type="button" class="right-plus-adult-bus btn-custom-circle" id="right-plus-adult-bus" data-type="plus" data-field="">
                                                    <i class="fas fa-plus"></i>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="col-lg-12" style="text-align:right;">
                                            <hr/>
                                            <button class="primary-btn" type="button" style="line-height:34px;" onclick="next_focus_element('bus','passenger');">Done</button>
                                        </div>
                                    </div>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <br/>

                    <input type="hidden" id="bus_response" name="response"/>
                    <center>
                        <button class="primary-btn ld-ext-right" id="btn-search-bus" type="button" onclick="bus_check_search_values();" value="Submit">
                            <i class="fas fa-search" style="color:{{text_color}}; font-weight:bold; font-size:18px;"></i>
                            {% trans 'Search' %}
                            <div class="ld ld-ring ld-cycle"></div>
                        </button>
                    </center>
                </form>
            </div>
        </div>
    </div>
</section>
{% elif template == 4 %}
<section class="destinations-area change_search_area">
    <div class="container" id="bus_search_params">
        <div class="row">
            <div class="col-lg-6 col-md-6" style="text-align:left;">
                <div class="row">
                    <div class="col-lg-12">
                        <div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                            <span style="text-transform: capitalize; font-size:12px;"> <span class="copy_span">{% if bus_request.direction == 'OW' %} {% trans 'One Way' %} {% elif bus_request.direction == 'RT' %} {% trans 'Round Trip' %} {% endif %}</span> - </span>
                            <span style="text-transform: capitalize; font-size:12px;" title="{{bus_request.origin}} > {{bus_request.destination}}"><span class="copy_span">{{bus_request.origin.0}}</span> {% if bus_request.direction == 'OW' %} <i class="fas fa-arrow-right"></i> {% elif bus_request.direction == 'RT' %} <i class="fas fa-arrows-alt-h"></i> {%endif%}<span class="copy_span">{{bus_request.destination.0}}</span></span>
                        </div>
                    </div>
                    <div class="col-lg-12" id="date_bus">
                        <span class="copy_span" style="text-transform: capitalize; font-size:13px;">{{bus_request.departure.0}} {% if bus_request.departure|length > 1%} - {{bus_request.departure.1}} {% endif%} </span>
                        <span style="text-transform: capitalize; font-size:12px; margin-left:5px;"><i class="fas fa-users"></i> <span class="copy_span">{% if bus_request.adult != 0 %} {{bus_request.adult}} Adult {% endif %} {% if bus_request.infant != 0 %}, {{bus_request.infant}} Infant {% endif %}</span></span>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 col-md-6" style="text-align:right;">
                <button class="primary-btn-custom" type="button" onclick="show_hide_change_search();">
                    <span id="change_search_text"><i class="fas fa-search" style="font-size:18px;"></i></span>
                </button>
            </div>
        </div>
    </div>
</section>
<section class="price-area" id="change_search_box" data-aos="fade-up" style="padding-top:35px; padding-bottom:35px; background-color: black; z-index:98; position:relative; display:none">
    <div class="overlay overlay-bg"></div>
    <div class="container" id="div-search-overlay">
        <div class="row">
            <div class="col-lg-12">
                <div class="banner-right">
                    <form action="{% url 'tt_website:bus_search'%}" method="POST" class="form-wrap" id="bus_searchForm" onsubmit="return search_bus_validation()">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-lg-12" id="radio_bus_search" style="text-align:left;margin-bottom:10px;">
                                <label class="radio-button-custom" style="margin-bottom:0px;">
                                    <span style="font-size:13px; color:{{text_color}};">{% trans 'One Way' %}</span>
                                    <input type="radio" {% if bus_request.direction == 'OW' %}checked="checked" {% endif %} name="radio_bus_type" value="oneway">
                                    <span class="checkmark-radio"></span>
                                </label>
                                <label class="radio-button-custom" style="margin-bottom:0px;">
                                    <span style="font-size:13px; color:{{text_color}};">{% trans 'Round Trip' %}</span>
                                    <input type="radio" {% if bus_request.direction == 'RT' %}checked="checked" {% endif %} name="radio_bus_type" value="roundtrip">
                                    <span class="checkmark-radio"></span>
                                </label>
                            </div>
                            <div class="col-lg-6">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 bus-from">
                                        <span class="span-search-ticket">{% trans 'From' %}</span>
                                        <div class="input-container-search-ticket">
                                            <i class="fas fa-bus" style="padding:14px; height: 43px; width: 45px; background:{{color}}; color:{{text_color}};"></i>
                                            <input id="bus_origin" name="bus_origin" class="form-control" type="text" placeholder="{% trans 'Origin' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_origin').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.origin}}">
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 bus-to" style="z-index:5;">
                                        <h4 class="image-change-route-vertical"><a href="javascript:bus_switch();" style="z-index:5; color:black;" id="bus_switch"><i class="fas fa-exchange-alt"></i></a></h4>
                                        <h4 class="image-change-route-horizontal"><a href="javascript:bus_switch();" style="z-index:5; color:black;" id="bus_switch2"><i class="fas fa-exchange-alt"></i></a></h4>
                                        <span class="span-search-ticket">{% trans 'To' %}</span>
                                        <div class="input-container-search-ticket">
                                            <i class="fas fa-map-marked-alt" style="padding:14px; height: 43px; width: 45px; background:{{color}}; color:{{text_color}};"></i>
                                            <input id="bus_destination" name="bus_destination" class="form-control" type="text" placeholder="{% trans 'Destination' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_destination').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.destination}}">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6" id="bus_date_search">
                                <span class="span-search-ticket">{% trans 'Departure' %}</span>
                                <div class="input-container-search-ticket">
                                    <i class="fas fa-calendar-alt" style="padding:14px; height: 43px; width: 45px; background:{{color}}; color:{{text_color}};"></i>
                                    <input type="text" style="background:white;" class="form-control" id="bus_departure" name="bus_departure" placeholder="{% trans 'Departure Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Departure Date '" autocomplete="off" readonly value=""/>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6">
                                <span class="span-search-ticket">{% trans 'Passenger' %}</span>
                                <div class="input-container-search-ticket">
                                    <i class="fas fa-users" style="padding:14px; height: 43px; width: 45px; background:{{color}}; color:{{text_color}};"></i>
                                    <button id="show_total_pax_bus" style="text-align:left;" type="button" class="form-control dropdown-toggle" data-toggle="dropdown"></button>
                                    <ul class="dropdown-menu" role="menu" style="overflow-y:unset;">
                                        <div class="row" style="padding:10px;">
                                            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5" style="float:left !important;">
                                                <div style="float:left;">
                                                    <label>
                                                        <span style="color:black; font-size:13px;">{% trans 'Adult' %}<br/></span>
                                                        <span style="color:gray; font-size:11px;">({% trans 'Age' %} 3+)</span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7" style="float:right !important;">
                                                <div style="float:right; display:flex; padding:5px 0px 5px 5px;">
                                                    <button type="button" class="left-minus-adult-bus btn-custom-circle" id="left-minus-adult-bus" data-type="minus" data-field="" disabled>
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <input type="text" style="font-size:13px; padding:5px !important; border:none; background:none; font-size:13px; text-align:center; width:25px;" id="bus_adult" name="bus_adult" min="1" value="{{bus_request.adult}}" readonly>
                                                    <button type="button" class="right-plus-adult-bus btn-custom-circle" id="right-plus-adult-bus" data-type="plus" data-field="">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-lg-12" style="text-align:right;">
                                                <hr/>
                                                <button class="primary-btn" type="button" style="line-height:34px;" onclick="next_focus_element('bus','passenger');">Done</button>
                                            </div>
                                        </div>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <br/>

                        <input type="hidden" id="bus_response" name="response"/>
                        <center>
                            <button class="primary-btn ld-ext-right" id="btn-search-bus" type="button" onclick="bus_check_search_values();" value="Submit">
                                <i class="fas fa-search" style="color:{{text_color}}; font-weight:bold; font-size:18px;"></i>
                                {% trans 'Search' %}
                                <div class="ld ld-ring ld-cycle"></div>
                            </button>
                        </center>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{% elif template == 5 %}
<section class="destinations-area change_search_area">
    <div class="container" id="bus_search_params">
        <div class="row">
            <div class="col-lg-6 col-md-6" style="text-align:left;">
                <div class="row">
                    <div class="col-lg-12">
                        <div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                            <span style="text-transform: capitalize; font-size:12px;"> <span class="copy_span">{% if bus_request.direction == 'OW' %} {% trans 'One Way' %} {% elif bus_request.direction == 'RT' %} {% trans 'Round Trip' %} {% endif %}</span> - </span>
                            <span style="text-transform: capitalize; font-size:12px;" title="{{bus_request.origin}} > {{bus_request.destination}}"><span class="copy_span">{{bus_request.origin.0}}</span> {% if bus_request.direction == 'OW' %} <i class="fas fa-arrow-right"></i> {% elif bus_request.direction == 'RT' %} <i class="fas fa-arrows-alt-h"></i> {%endif%}<span class="copy_span">{{bus_request.destination.0}}</span></span>
                        </div>
                    </div>
                    <div class="col-lg-12" id="date_bus">
                        <span class="copy_span" style="text-transform: capitalize; font-size:13px;">{{bus_request.departure.0}} {% if bus_request.departure|length > 1%} - {{bus_request.departure.1}} {% endif%} </span>
                        <span style="text-transform: capitalize; font-size:12px; margin-left:5px;"><i class="fas fa-users"></i> <span class="copy_span">{% if bus_request.adult != 0 %} {{bus_request.adult}} Adult {% endif %} {% if bus_request.infant != 0 %}, {{bus_request.infant}} Infant {% endif %}</span></span>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 col-md-6" style="text-align:right;">
                <button class="primary-btn-custom" type="button" onclick="show_hide_change_search();">
                    <span id="change_search_text"><i class="fas fa-search" style="font-size:18px;"></i></span>
                </button>
            </div>
        </div>
    </div>
</section>
<section class="price-area" id="change_search_box" data-aos="fade-up" style="padding-top:35px; padding-bottom:35px; background-color: black; z-index:98; position:relative; display:none">
    <div class="overlay overlay-bg"></div>
    <div class="container" id="div-search-overlay">
        <div class="row">
            <div class="col-lg-12">
                <div class="banner-right">
                    <form action="{% url 'tt_website:bus_search'%}" method="POST" class="form-wrap" id="bus_searchForm" onsubmit="return search_bus_validation()">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-lg-12" id="radio_bus_search" style="text-align:left;margin-bottom:10px;">
                                <label class="radio-button-custom" style="margin-bottom:0px;">
                                    <span style="font-size:13px; color:{{text_color}};">{% trans 'One Way' %}</span>
                                    <input type="radio" {% if bus_request.direction == 'OW' %}checked="checked" {% endif %} name="radio_bus_type" value="oneway">
                                    <span class="checkmark-radio"></span>
                                </label>
                                <label class="radio-button-custom" style="margin-bottom:0px;">
                                    <span style="font-size:13px; color:{{text_color}};">{% trans 'Round Trip' %}</span>
                                    <input type="radio" {% if bus_request.direction == 'RT' %}checked="checked" {% endif %} name="radio_bus_type" value="roundtrip">
                                    <span class="checkmark-radio"></span>
                                </label>
                            </div>
                            <div class="col-lg-6">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 bus-from">
                                        <span class="span-search-ticket"><i class="fas fa-bus"></i> {% trans 'From' %}</span>
                                        <div class="input-container-search-ticket">
                                            <input id="bus_origin" name="bus_origin" class="form-control" type="text" placeholder="{% trans 'Origin' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_origin').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.origin}}">
                                        </div>
                                    </div>

                                    <div class="col-lg-6 col-md-6 bus-to" style="z-index:5;">
                                        <div class="image-change-route-vertical">
                                            <h4><a href="javascript:bus_switch();" style="z-index:5;" id="bus_switch"><i class="image-rounded-icon2"><i class="fas fa-exchange-alt"></i></i></a></h4>
                                        </div>
                                        <div class="image-change-route-horizontal">
                                            <h4><a class="horizontal-arrow" href="javascript:bus_switch();" style="z-index:5; color:{{text_color}} !important;" id="bus_switch"><i class="image-rounded-icon"><i class="fas fa-exchange-alt"></i></i></a></h4>
                                        </div>

                                        <span class="span-search-ticket"><i class="fas fa-map-marked-alt"></i> {% trans 'To' %}</span>
                                        <div class="input-container-search-ticket">
                                            <input id="bus_destination" name="bus_destination" class="form-control" type="text" placeholder="{% trans 'Destination' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_destination').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.destination}}">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6" id="bus_date_search">
                                <span class="span-search-ticket"><i class="fas fa-calendar-alt"></i> {% trans 'Departure' %}</span>
                                <div class="input-container-search-ticket">
                                    <input type="text" style="background:white;" class="form-control" id="bus_departure" name="bus_departure" placeholder="{% trans 'Departure Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Departure Date '" autocomplete="off" readonly value=""/>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6">
                                <span class="span-search-ticket"><i class="fas fa-users"></i> {% trans 'Passenger' %}</span>
                                <div class="input-container-search-ticket btn-group">
                                    <button id="show_total_pax_bus" style="text-align:left;" type="button" class="form-control dropdown-toggle" data-toggle="dropdown"></button>
                                    <ul class="dropdown-menu" role="menu" style="overflow-y:unset;">
                                        <div class="row" style="padding:10px;">
                                            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5" style="float:left !important;">
                                                <div style="float:left;">
                                                    <label>
                                                        <span style="color:black; font-size:13px;">{% trans 'Adult' %}<br/></span>
                                                        <span style="color:gray; font-size:11px;">({% trans 'Age' %} 3+)</span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7" style="float:right !important;">
                                                <div style="float:right; display:flex; padding:5px 0px 5px 5px;">
                                                    <button type="button" class="left-minus-adult-bus btn-custom-circle" id="left-minus-adult-bus" data-type="minus" data-field="" disabled>
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <input type="text" style="font-size:13px; padding:5px !important; border:none; background:none; font-size:13px; text-align:center; width:25px;" id="bus_adult" name="bus_adult" min="1" value="{{bus_request.adult}}" readonly>
                                                    <button type="button" class="right-plus-adult-bus btn-custom-circle" id="right-plus-adult-bus" data-type="plus" data-field="">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-lg-12" style="text-align:right;">
                                                <hr/>
                                                <button class="primary-btn" type="button" style="line-height:34px;" onclick="next_focus_element('bus','passenger');">Done</button>
                                            </div>
                                        </div>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <br/>

                        <input type="hidden" id="bus_response" name="response"/>
                        <center>
                            <button class="primary-btn ld-ext-right" id="btn-search-bus" type="button" onclick="bus_check_search_values();" value="Submit">
                                <i class="fas fa-search" style="color:{{text_color}}; font-weight:bold; font-size:18px;"></i>
                                {% trans 'Search' %}
                                <div class="ld ld-ring ld-cycle"></div>
                            </button>
                        </center>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{% elif template == 6 %}
<section class="destinations-area change_search_area">
    <div class="container" id="bus_search_params">
        <div class="row">
            <div class="col-lg-6 col-md-6" style="text-align:left;">
                <div class="row">
                    <div class="col-lg-12">
                        <div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                            <span style="text-transform: capitalize; font-size:12px;"> <span class="copy_span">{% if bus_request.direction == 'OW' %} {% trans 'One Way' %} {% elif bus_request.direction == 'RT' %} {% trans 'Round Trip' %} {% endif %}</span> - </span>
                            <span style="text-transform: capitalize; font-size:12px;" title="{{bus_request.origin}} > {{bus_request.destination}}"><span class="copy_span">{{bus_request.origin.0}}</span> {% if bus_request.direction == 'OW' %} <i class="fas fa-arrow-right"></i> {% elif bus_request.direction == 'RT' %} <i class="fas fa-arrows-alt-h"></i> {%endif%}<span class="copy_span">{{bus_request.destination.0}}</span></span>
                        </div>
                    </div>
                    <div class="col-lg-12" id="date_bus">
                        <span class="copy_span" style="text-transform: capitalize; font-size:13px;">{{bus_request.departure.0}} {% if bus_request.departure|length > 1%} - {{bus_request.departure.1}} {% endif%} </span>
                        <span style="text-transform: capitalize; font-size:12px; margin-left:5px;"><i class="fas fa-users"></i> <span class="copy_span">{% if bus_request.adult != 0 %} {{bus_request.adult}} {% trans 'Adult' %} {% endif %} {% if bus_request.infant != 0 %}, {{bus_request.infant}} {% trans 'Infant' %} {% endif %}</span></span>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 col-md-6" style="text-align:right;">
                <button class="primary-btn-custom" type="button" onclick="show_hide_change_search();">
                    <span id="change_search_text"><i class="fas fa-search" style="font-size:18px;"></i></span>
                </button>
            </div>
        </div>
    </div>
</section>
<section class="price-area" id="change_search_box" style="min-height:150px;padding-top:15px; padding-bottom:15px; background-image: url('{{background}}'); z-index:98; position:relative; display:none;">
    <div class="container" id="div-search-overlay">
        <div class="row">
            <div class="col-lg-12" style="padding:0;">
                <div class="banner-right">
                    <form action="{% url 'tt_website:bus_search'%}" method="POST" class="form-wrap" id="bus_searchForm" onsubmit="return search_bus_validation()">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-lg-12" id="radio_bus_search" style="text-align:left;margin-bottom:10px;">
                                <label class="radio-button-custom" style="margin-bottom:0px;">
                                    <span style="font-size:13px; color:{{text_color}};">{% trans 'One Way' %}</span>
                                    <input type="radio" {% if bus_request.direction == 'OW' %}checked="checked" {% endif %} name="radio_bus_type" value="oneway">
                                    <span class="checkmark-radio"></span>
                                </label>
                                <label class="radio-button-custom" style="margin-bottom:0px;">
                                    <span style="font-size:13px; color:{{text_color}};">{% trans 'Round Trip' %}</span>
                                    <input type="radio" {% if bus_request.direction == 'RT' %}checked="checked" {% endif %} name="radio_bus_type" value="roundtrip">
                                    <span class="checkmark-radio"></span>
                                </label>
                            </div>
                            <div class="col-lg-6">
                                <div class="row">
                                    <div class="col-lg-6 col-md-6 bus-from">
                                        <span class="span-search-ticket"><i class="fas fa-bus"></i> {% trans 'From' %}</span>
                                        <div class="input-container-search-ticket">
                                            <input id="bus_origin" name="bus_origin" class="form-control" type="text" placeholder="{% trans 'Origin' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_origin').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.origin}}">
                                        </div>
                                    </div>
                                    <div class="col-lg-6 col-md-6 bus-to" style="z-index:5;">
                                        <div class="image-change-route-vertical">
                                            <h4><a href="javascript:bus_switch();" style="z-index:5;" id="bus_switch"><i class="image-rounded-icon2"><i class="fas fa-exchange-alt"></i></i></a></h4>
                                        </div>
                                        <div class="image-change-route-horizontal">
                                            <h4><a class="horizontal-arrow" href="javascript:bus_switch();" style="z-index:5; color:{{text_color}} !important;" id="bus_switch"><i class="image-rounded-icon"><i class="fas fa-exchange-alt"></i></i></a></h4>
                                        </div>

                                        <span class="span-search-ticket"><i class="fas fa-map-marked-alt"></i> {% trans 'To' %}</span>
                                        <div class="input-container-search-ticket">
                                            <input id="bus_destination" name="bus_destination" class="form-control" type="text" placeholder="{% trans 'Destination' %}" style="width:100%;outline:0" autocomplete="off" value="" onfocus="document.getElementById('bus_destination').select();" onclick="set_bus_search_value_to_false();" value="{{bus_request.destination}}">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6" id="bus_date_search">
                                <span class="span-search-ticket"><i class="fas fa-calendar-alt"></i> {% trans 'Departure' %}</span>
                                <div class="input-container-search-ticket">
                                    <input type="text" style="background:white;" class="form-control" id="bus_departure" name="bus_departure" placeholder="{% trans 'Departure Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Departure Date '" autocomplete="off" readonly value=""/>
                                </div>
                            </div>
                            <div class="col-lg-3 col-md-6">
                                <span class="span-search-ticket"><i class="fas fa-users"></i> {% trans 'Passenger' %}</span>
                                <div class="input-container-search-ticket btn-group">
                                    <button id="show_total_pax_bus" style="text-align:left;" type="button" class="form-control dropdown-toggle" data-toggle="dropdown"></button>
                                    <ul class="dropdown-menu" role="menu" style="overflow-y:unset;">
                                        <div class="row" style="padding:10px;">
                                            <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5" style="float:left !important;">
                                                <div style="float:left;">
                                                    <label>
                                                        <span style="color:black; font-size:13px;">{% trans 'Adult' %}<br/></span>
                                                        <span style="color:gray; font-size:11px;">({% trans 'Age' %} 3+)</span>
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7" style="float:right !important;">
                                                <div style="float:right; display:flex; padding:5px 0px 5px 5px;">
                                                    <button type="button" class="left-minus-adult-bus btn-custom-circle" id="left-minus-adult-bus" data-type="minus" data-field="" disabled>
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <input type="text" style="font-size:13px; padding:5px !important; border:none; background:none; font-size:13px; text-align:center; width:25px;" id="bus_adult" name="bus_adult" min="1" value="{{bus_request.adult}}" readonly>
                                                    <button type="button" class="right-plus-adult-bus btn-custom-circle" id="right-plus-adult-bus" data-type="plus" data-field="">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                            </div>
                                            <div class="col-lg-12" style="text-align:right;">
                                                <hr/>
                                                <button class="primary-btn" type="button" style="line-height:34px;" onclick="next_focus_element('bus','passenger');">Done</button>
                                            </div>
                                        </div>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <br/>

                        <input type="hidden" id="bus_response" name="response"/>
                        <center>
                            <button class="primary-btn ld-ext-right" id="btn-search-bus" type="button" onclick="bus_check_search_values();" value="Submit">
                                <i class="fas fa-search" style="color:{{text_color}}; font-weight:bold; font-size:18px;"></i>
                                {% trans 'Search' %}
                                <div class="ld ld-ring ld-cycle"></div>
                            </button>
                        </center>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
{%endif%}

<button class="primary-btn-ticket btn_icon_fixed my_sticky_button" style="left:51%; width:20vw; height:50px; bottom:55px; position:fixed; z-index:97;" data-toggle="modal" data-target="#myModalSort">
    <span style="color:{{text_color}}; font-size:12px;"> <i class="fas fa-sort" style="font-size:20px;"></i> <span class="span_icon_fixed">{% trans 'Sort' %}</span>  </span>
</button>
<button class="primary-btn-ticket btn_icon_fixed my_sticky_button" style="right:51%; width:20vw; height:50px; bottom:55px; position:fixed; z-index:97;" data-toggle="modal" data-target="#myModalFilter">
    <span style="color:{{text_color}}; font-size:12px;"> <i class="fas fa-filter"></i> <span class="span_icon_fixed">{% trans 'Filter' %}</span>  </span>
</button>

<section class="destinations-area" style="padding-top:30px; padding-bottom:40px; background:#f7f7f7;">
    <div class="container">
        <div class="row">
            <div class="col-lg-12" style="position:sticky; top:67px; margin-bottom:15px; z-index:97; display:none;" id="mybuttonsticky">
                <div class="row">
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="padding-right:10px; text-align:center;">
                        <button class="primary-btn-all-sticky" style="width:100%;" data-toggle="modal" data-target="#myModalCopyBus" onclick="get_checked_copy_result();">
                            <span style="color:{{text_color}}; font-size:12px;"> {% trans 'List Copy' %} </span>
                            <span class="badge-notif2 animated bounceIn" id="badge-copy-notif2">0</span>
                        </button>
                    </div>
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="padding-left:2px;">
                        <button class="primary-btn-all-sticky" style="width:100%;" data-toggle="modal" data-target="#myModalTicketBus">
                            <span style="color:{{text_color}}; font-size:12px;"> {% trans 'My Order' %} </span>
                            <span class="badge-notif2 animated bounceIn" id="badge-bus-notif2">0</span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="col-lg-12" id="breadcrumbs_create" style="margin-bottom:20px;">

            </div>

            <div class="col-lg-3">
                {% if username.co_user_login != default_user %}
                <div class="row" id="info_user_search">
                    <div class="col-lg-12">
                        <div style="padding:10px; background:white; border:1px solid #cdcdcd;">
                            <span class="mb-2 mt-2" title="{{username.co_user_login}}" style="font-size:14px;font-weight:600; cursor:text; color:black; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width:150px; display:inline-block; display:-webkit-inline-block;"><i class="fas fa-user" style="padding-right:5px; color:{{color}}; font-size:16px;"></i> {{username.co_user_login}}</span>
                            <br/><span id="balance_search" style="font-size:13px; font-weight:500;"></span>
                            <div style="margin-top:10px;">
                                <span id="credit_search" style="font-size:13px; font-weight:500; padding-right:10px;"></span>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}

                <div class="row" style="padding-bottom:10px; margin-top:15px;">
                    <div class="col-lg-12">
                        <div style="padding:10px; background:white; border:1px solid #cdcdcd;">
                            <span style="font-size:14px; font-weight:600;"><i class="fas fa-stopwatch"></i> {% trans 'Session Time' %}: <span class="count_time" id="session_time"> </span></span>
                            <hr/>
                            <span style="font-size:14px; font-weight:600;"><i class="fas fa-clock"></i> {% trans 'Elapsed Time' %}: <span class="count_time" id="elapse_time"> </span></span>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="myModalFilter" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title"> {% trans 'Filter' %}</i></h4>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body">
                                <div class="row" style="min-height=100px; max-height:400px; overflow-y: scroll;">
                                    <div class="col-lg-12">
                                        <div id="filter2">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade" id="myModalSort" role="dialog">
                    <div class="modal-dialog">
                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title"> {% trans 'Sort' %} </i></h4>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                            </div>
                            <div class="modal-body">
                                <div class="row" style="min-height=100px; max-height:400px; overflow-y: scroll;">
                                    <div class="col-lg-12">
                                        <div id="sorting-bus2">

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="background-color:white; margin-top:10px; padding:10px; border:1px solid #cdcdcd;" class="filter-search-bus" id="filter-search-bus">
                    <div class="row">
                        <div class="col-lg-12 col-md-6 col-sm-6 col-xs-6">
                            <div id="filter">

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-9" style="margin-top:15px; z-index:1;">
                <div class="row sorting-search-bus" id="sorting-search-bus">
                    <div class="col-lg-12">
                        <div id="sorting-bus">

                        </div>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-lg-12">
                        <center><h5 class="mb-2" id="bus_date"></h5></center>
                        <div class="owl-carousel owl-theme">
                            <div class="item" id="prev_date_2">

                            </div>
                            <div class="item" id="prev_date_1">

                            </div>
                            <div class="item" id="now_date">

                            </div>
                            <div class="item" id="next_date_1">

                            </div>
                            <div class="item" id="next_date_2">

                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-12" id="bus_result">

                    </div>
                </div>

                <div class="row" id="loading-search-bus">
                    <div class="col-lg-12">
                        <div class="sk-circle">
                            <div class="sk-circle1 sk-child"></div>
                            <div class="sk-circle2 sk-child"></div>
                            <div class="sk-circle3 sk-child"></div>
                            <div class="sk-circle4 sk-child"></div>
                            <div class="sk-circle5 sk-child"></div>
                            <div class="sk-circle6 sk-child"></div>
                            <div class="sk-circle7 sk-child"></div>
                            <div class="sk-circle8 sk-child"></div>
                            <div class="sk-circle9 sk-child"></div>
                            <div class="sk-circle10 sk-child"></div>
                            <div class="sk-circle11 sk-child"></div>
                            <div class="sk-circle12 sk-child"></div>
                        </div>
                        <div style="text-align:center"><h6>{% trans 'PLEASE WAIT' %}</h6></div>
                    </div>
                </div>

                <div class="row" id="show-search-bus">
                    <div class="col-lg-12" id="bus_pick_ticket">

                    </div>
                    <div class="col-lg-12" id="bus_ticket">

                    </div>
                </div>

                <div class="modal fade" id="myModalTicketBus" role="dialog">
                    <div class="overlay_modal_custom" data-dismiss="modal"></div>
                    <div class="modal-dialog modal_custom_fixed">
                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <div class="row">
                                    <div class="col-xs-6 pb-3">
                                        <h4 class="modal-title"><i class="fas fa-shopping-cart"></i></i> My Order</h4>
                                    </div>
                                    <div class="col-xs-6">
                                        <button type="button" class="close modal_custom_close" data-dismiss="modal">&times;</button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-body">
                                <div class="row" id="choose-ticket-bus">
                                    <div class="col-lg-12">
                                        <h6>{% trans 'Please choose your ticket first!' %}</h6>
                                    </div>
                                </div>
                                <div class="row" id="loading-search-bus-choose" style="display:none;">
                                    <div class="col-lg-12">
                                        <div class="center-div">
                                            <div>
                                                <img src="{{static_path}}images/gif/loading-screen-white.gif" alt="Loading Screen" style="height:25px; width:25px;"/>
                                            </div>
                                        </div>
                                        <div style="text-align:center">
                                            <span style="font-size:18px; font-weight:bold;">{% trans 'PLEASE WAIT' %} ... </span>
                                        </div>
                                    </div>
                                </div>

                                <form action="/bus/passenger" method="POST" id="bus_passenger">
                                    {% csrf_token %}
                                    <div id="bus_detail">

                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% include 'tt_website/footer.html' %}

<div class="modal fade" id="myModalCopyBus" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title"> {% trans 'List Copy Bus' %} <i class="fas fa-copy"></i></i></h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="row" id="choose-bus-copy">
                    <div class="col-lg-12">
                        <h6>{% trans 'Please choose your airlines want to copy!' %}</h6>
                    </div>
                </div>
                <div id="show-list-copy-bus">

                </div>
                <textarea id="data_copy" name="data_copy" rows="4" hidden></textarea>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="myModalCopyBus" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title"> {% trans 'List Copy Bus' %} <i class="fas fa-copy"></i></i></h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="row" id="choose-bus-copy">
                    <div class="col-lg-12">
                        <h6>{% trans 'Please choose your airlines want to copy!' %}</h6>
                    </div>
                </div>
                <div id="show-list-copy-bus">

                </div>
                <textarea id="data_copy" name="data_copy" rows="4" hidden></textarea>
            </div>
        </div>
    </div>
</div>

<button class="myticket" id="button_chart_bus" style="display:none;" data-toggle="modal" data-target="#myModalTicketBus">
    <span style="color:{{text_color}}; font-size:16px;"><i class="fas fa-shopping-cart"></i></span>
    <span class="badge-notif animated bounceIn" id="badge-bus-notif">0</span>
</button>

<button class="mystickycopybot" style="display:none;" id="button_copy_bus" data-toggle="modal" data-target="#myModalCopyBus" onclick="get_checked_copy_result();">
    <span style="color:{{text_color}}; font-size:18px;"><i class="fas fa-copy"></i></span>
    <span class="badge-notif animated bounceIn" id="badge-copy-notif">0</span>
</button>

<script>
    document.getElementById('button_copy_bus').style.bottom = JSON.parse(JSON.stringify(bottom.toString())) + 'px';
    bottom+=60;
</script>
<script>
    document.getElementById('bus_origin').value = '{{bus_request.origin.0}}';
    document.getElementById('bus_destination').value = '{{bus_request.destination.0}}';
    departure_date = '';
    {% for departure in bus_request.departure %}
        if(departure_date != '')
            departure_date += ' - '
        departure_date += '{{departure}}';
    {% endfor %}

    $(document).ready(function () {
        new jBox('Tooltip', {
            attach: '#button_copy_bus',
            theme: 'TooltipBorder',
            width: 200,
            position: {
              x: 'left',
              y: 'center'
            },
            outside: 'x',
            pointer: 'top:15',
            content: 'Fitur<br/><b>List Copy</b>',
            animation: 'move'
        });

        new jBox('Tooltip', {
            attach: '#button_chart_bus',
            theme: 'TooltipBorder',
            width: 200,
            position: {
              x: 'left',
              y: 'center'
            },
            outside: 'x',
            pointer: 'top:15',
            content: 'Bus<br/><b>Chart Bus</b>',
            animation: 'move'
        });

        if(document.getElementById("balance_search") && document.getElementById("balance"))
            document.getElementById("balance_search").innerHTML = document.getElementById("balance").innerHTML;

        if(document.getElementById("credit_search") && document.getElementById("customer_parent_balance"))
            document.getElementById("credit_search").innerHTML = document.getElementById("customer_parent_balance").innerHTML;
        else if(document.getElementById("credit_search") && document.getElementById("credit_limit"))
            document.getElementById("credit_search").innerHTML = document.getElementById("credit_limit").innerHTML;
        $(window).scroll(function() {
            if ($(this).scrollTop() >= 66) {
                if ($(window).width() >= 992){
                   {% if username.co_user_login != default_user %}
                    document.getElementById("info_user_search").style.display = "block";
                   {% endif %}
                   if(document.getElementById("balance_search") && document.getElementById("balance"))
                       document.getElementById("balance_search").innerHTML = document.getElementById("balance").innerHTML;

                   if(document.getElementById("credit_search") && document.getElementById("customer_parent_balance"))
                       document.getElementById("credit_search").innerHTML = document.getElementById("customer_parent_balance").innerHTML;
                   else if(document.getElementById("credit_search") && document.getElementById("credit_limit"))
                       document.getElementById("credit_search").innerHTML = document.getElementById("credit_limit").innerHTML;
                }else{
                   {% if username.co_user_login != default_user %}
                   document.getElementById("info_user_search").style.display = "none";
                   {% endif %}
                }
            }else{
                {% if username.co_user_login != default_user %}
                document.getElementById("info_user_search").style.display = "none";
                {% endif %}
            }
        });
    });

    $(function() {
      var quantity_adult_bus = parseInt($('#bus_adult').val());
      //var quantity_infant_bus = parseInt($('#bus_infant').val());
      /*if (quantity_adult_bus == 4){
        document.getElementById("left-minus-adult-bus").disabled = false;
        document.getElementById("right-plus-adult-bus").disabled = true;
      }else if (quantity_adult_bus == 1){
        document.getElementById("left-minus-adult-bus").disabled = true;
        document.getElementById("right-plus-adult-bus").disabled = false;
      }else{
        document.getElementById("left-minus-adult-bus").disabled = false;
        document.getElementById("right-plus-adult-bus").disabled = false;
      }*/

      /*if(quantity_infant_bus == quantity_adult_bus){
        document.getElementById("left-minus-infant-bus").disabled = false;
        document.getElementById("right-plus-infant-bus").disabled = true;
      }
      else if(quantity_infant_bus == 0){
        document.getElementById("left-minus-infant-bus").disabled = true;
        document.getElementById("right-plus-infant-bus").disabled = false;
      }
      else{
        document.getElementById("right-plus-infant-bus").disabled = false;
        document.getElementById("left-minus-infant-bus").disabled = false;
      }*/


        var radioValueBus = $("input[name='radio_bus_type']:checked").val();
        if(radioValueBus){
            $radio_value_string = radioValueBus;
        }

        breadcrumb_create("bus", 2, 0);
        if('{{bus_request.direction}}' == 'OW'){
            var picker_bus_departure = new Lightpick({
                field: document.getElementById('bus_departure'),
                singleDate: true,
                startDate: departure_date,
                minDate: moment(),
                maxDate: moment().subtract(-3, 'months'),
                nextFocus: '#show_total_pax_bus'
            });

            //$('input[name="bus_departure"]').daterangepicker({
            //  singleDatePicker: true,
            //  autoUpdateInput: true,
            //  startDate: departure_date,
            //  minDate: moment(),
            //  maxDate: moment().subtract(-90, 'days'),
            //  showDropdowns: true,
            //  opens: 'center',
            //  locale: {
            //      format: 'DD MMM YYYY',
            //  }
            //});

            //$('input[name="bus_departure"]').on('apply.daterangepicker', function(ev, picker) {
            //    setTimeout(function(){
            //        $("#show_total_pax_bus").click();
            //    }, 200);
            //});
        }else{

            var picker_bus_departure = new Lightpick({
                field: document.getElementById('bus_departure'),
                singleDate: false,
                hoveringTooltip: false,
                startDate: departure_date.split(' - ')[0],
                endDate: departure_date.split(' - ')[1],
                minDate: moment(),
                maxDate: moment().subtract(-3, 'months'),
                nextFocus: '#show_total_pax_bus',
            });

            //$('input[name="bus_departure"]').daterangepicker({
            //  singleDatePicker: false,
            //  autoUpdateInput: true,
            //  autoApply: true,
            //  startDate: departure_date.split(' - ')[0],
            //  endDate: departure_date.split(' - ')[1],
            //  minDate: moment(),
            //  maxDate: moment().subtract(-90, 'days'),
            //  showDropdowns: true,
            //  opens: 'center',
            //  locale: {
            //      format: 'DD MMM YYYY',
            //  }
            //});

            //$('input[name="bus_departure"]').on('apply.daterangepicker', function(ev, picker) {
            //    setTimeout(function(){
            //        $("#show_total_pax_bus").click();
            //    }, 200);
            //});
        }
    });

    var bus_origin = new autoComplete({
        selector: '#bus_origin',
        minChars: 1,
        cache: false,
        delay:0,
        source: function(term, suggest){
            if(term.split(' - ').length == 3)
                    term = ''
            if(term.length > 1)
                suggest(bus_search_autocomplete(term, 'origin'));
        },
        onSelect: function(e, term, item){
            bus_origin_value = document.getElementById('bus_origin').value;
            for(i in new_bus_destination){
                if(new_bus_destination[i].name_show == bus_origin_value){
                    for(j in new_bus_destination[i].destination){
                        bus_destination_list[new_bus_destination[i].destination[j]] = new_bus_destination[new_bus_destination[i].destination[j]];
                    }
                    break;
                }
            }
            setTimeout(function(){
                $("#bus_destination").focus();
            }, 200);
            set_bus_search_value_to_true();
        }
    });
    var bus_destination = new autoComplete({
        selector: '#bus_destination',
        minChars: 1,
        cache: false,
        delay:0,
        source: function(term, suggest){
            if(term.split(' - ').length == 4)
                term = ''
            if(term.length > 1)
                suggest(bus_search_autocomplete(term,'destination'));
        },
        onSelect: function(e, term, item){
            setTimeout(function(){
                $("#bus_departure").focus();
                $("#bus_departure_return").focus();
            }, 200);
            set_bus_search_value_to_true();
        }
    });

    bus_filter_render();
    bus_search_page();
    try{
        get_public_holiday(moment().format('YYYY-MM-DD'), moment().subtract(-1, 'years').format('YYYY-MM-DD'), 100 );
        new_get_public_holiday(moment().format('YYYY-MM-DD'), moment().subtract(-1, 'years').format('YYYY-MM-DD'), 100 );
    }catch(err){
        console.log(err);
    }
</script>

{% endblock %}
