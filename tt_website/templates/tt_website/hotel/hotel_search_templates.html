{% extends 'tt_website/template_website_booking.html' %}
{% load i18n %}
{% load static from staticfiles %}
{% block content %}
<script src="{{ static_path }}js/webservice_token.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/hotel_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_hotel.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_agent.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_content.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/agent_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/library/moment.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/library/daterangepicker.js?version={{javascript_version}}"></script>
<script>
    static_path_url_server = '{{static_path_url_server}}'
    signature = `{{signature}}`;
    sorting_value = '';
    //get_hotel_config();
    last_session = 'get_details';
    hotel_search_data_request = {
        'checkin': `{{hotel_search.checkin_date}}`,
        'checkout': `{{hotel_search.checkout_date}}`,
        'room': {{hotel_search.room}},
        'adult': {{hotel_search.adult}},
        'child': {{hotel_search.child}},
    }
    function guest_child_age2(){
        text= '';
        if(parseInt(document.getElementById("hotel_child").value) == 0){

        }else if(parseInt(document.getElementById("hotel_child").value) > 0){
           {% for age in hotel_search.child_age %}
               text+= `
               <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" style="margin-top:10px;">
                   <div class="input-container-search-ticket btn-group">
                       <div class="form-select">
                           <select class="form-control" id="hotel_child_age{{forloop.counter}}" name="hotel_child_age{{forloop.counter}}" style="height:42px;">
                               <option value="" disabled>Child Age</option>
                               <option value="0" {% if age == 0 %} selected {% endif %}>0</option>
                               <option value="1" {% if age == 1 %} selected {% endif %}>1</option>
                               <option value="2" {% if age == 2 %} selected {% endif %}>2</option>
                               <option value="3" {% if age == 3 %} selected {% endif %}>3</option>
                               <option value="4" {% if age == 4 %} selected {% endif %}>4</option>
                               <option value="5" {% if age == 5 %} selected {% endif %}>5</option>
                               <option value="6" {% if age == 6 %} selected {% endif %}>6</option>
                               <option value="7" {% if age == 7 %} selected {% endif %}>7</option>
                               <option value="8" {% if age == 8 %} selected {% endif %}>8</option>
                               <option value="9" {% if age == 9 %} selected {% endif %}>9</option>
                               <option value="10" {% if age == 10 %} selected {% endif %}>10</option>
                               <option value="11" {% if age == 11 %} selected {% endif %}>11</option>
                               <option value="12" {% if age == 12 %} selected {% endif %}>12</option>
                           </select>
                       </div>
                   </div>
               </div>`;
           {% endfor %}
       }
       document.getElementById("guest_child_age").innerHTML = text;
    }
    frontend_signature = `{{frontend_signature}}`;
    signature = `{{signature}}`;
    time_limit = {{time_limit}};
    session_time_limit();
</script>

<title id="title_search">{{name}} Hotel - {{hotel_search.destination}}</title>
<div id="overlay-search-box" onclick="off_overlay()"></div>

{% include 'tt_website/header.html' %}
{% include 'tt_website/html_include/header_product_list.html' %}
{% include 'tt_website/logout.html' %}
{% include 'tt_website/plugin_passenger.html' %}
{% include 'tt_website/notification_box.html' %}

<div class="modal fade" id="myModalFilter" role="dialog">
    <div class="overlay_modal_custom" data-dismiss="modal"></div>
    <div class="modal-dialog modal_custom_fixed">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <div class="row">
                    <div class="col-xs-6 pb-3">
                        <h4 class="modal-title" style="padding-bottom:5px;"><i class="fas fa-filter"></i> {% trans 'Filter' %}</h4>
                        <a style="cursor: pointer;" onclick="reset_filter();"><i style="color:`+color+`;" class="fa fa-refresh"></i> Reset</a>
                    </div>
                    <div class="col-xs-6">
                        <button type="button" class="close modal_custom_close" data-dismiss="modal">&times;</button>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-12" id="filter2" style="background:white; padding:15px;">
                        <div class="place_div_left_right">
                            <span style="font-weight:bold; font-size:14px;">
                                <div class="stripe_div_small70">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </span>
                            <label style="position:absolute; right:0px;">
                                <div class="stripe_checkbox">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <div class="place_div_grid">
                            <div class="stripe_2row_small">
                                <div class="div_stripe">
                                    <div class="loading_stripe"></div>
                                </div>
                            </div>
                        </div>
                        <hr/>
                        <div class="place_div_left_right">
                            <span style="font-weight:bold; font-size:14px;">
                                <div class="stripe_div_small70">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </span>
                            <label style="position:absolute; right:0px;">
                                <div class="stripe_checkbox">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <div class="place_div_grid">
                            <div class="stripe_row_big">
                                <div class="div_stripe">
                                    <div class="loading_stripe"></div>
                                </div>
                            </div>
                        </div>
                        <hr/>
                        <div class="place_div_left_right">
                            <span style="font-weight:bold; font-size:14px;">
                                <div class="stripe_div_small70">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </span>
                            <label style="position:absolute; right:0px;">
                                <div class="stripe_checkbox">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <div class="place_div_grid">
                            <label>
                                <div class="stripe_div_small85">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_medium115">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_medium130">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_medium145">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="myModalSort" role="dialog">
    <div class="overlay_modal_custom" data-dismiss="modal"></div>
    <div class="modal-dialog modal_custom_fixed">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <div class="row">
                    <div class="col-xs-6 pb-3">
                        <h4 class="modal-title"><i class="fas fa-sort"></i> {% trans 'Sort' %}</h4>
                    </div>
                    <div class="col-xs-6">
                        <button type="button" class="close modal_custom_close" data-dismiss="modal">&times;</button>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-12" id="sorting-hotel2" style="background:white; padding:15px;">
                        <div class="place_div_grid">
                            <label>
                                <div class="stripe_div_medium160 mb-3">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_medium160 mb-3">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_medium160 mb-3">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<button class="primary-btn-ticket btn_icon_fixed my_sticky_button" style="left:51%; width:20vw; height:50px; bottom:92px; position:fixed; z-index:99;" data-toggle="modal" data-target="#myModalSort">
    <span style="color:{{text_color}}; font-size:12px;"> <i class="fas fa-sort" style="font-size:20px;"></i> <span class="span_icon_fixed">{% trans 'Sort' %}</span>  </span>
</button>
<button class="primary-btn-ticket btn_icon_fixed my_sticky_button" style="right:51%; width:20vw; height:50px; bottom:92px; position:fixed; z-index:99;" data-toggle="modal" data-target="#myModalFilter">
    <span style="color:{{text_color}}; font-size:12px;"> <i class="fas fa-filter"></i> <span class="span_icon_fixed">{% trans 'Filter' %}</span>  </span>
</button>

<section class="destinations-area my_button_sticky mt-3" style="background:transparent;">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="drop_inline">
                    <div class="dropdown-toggle div-dropdown-txt btn-group" data-toggle="dropdown" style="margin-bottom:0px;">
                        <button type="button" class="primary-btn" style="line-height: 1.5; height:42px; width:200px;">
                            Quick Action
                        </button>
                        <ul class="dropdown-menu dropdown-menu-w" role="menu" style="padding:15px;">
                            <button type="button" class="primary-btn-white-short" style="margin-bottom:15px; width:100%; text-align:left;" data-toggle="modal" data-target="#myModalCopyHotel" onclick="get_checked_copy_result();">
                                <i class="fas fa-copy"></i> <span id="badge-copy-notif2">0</span> <span> copy selected</span>
                            </button>
                            <button type="button" class="primary-btn-white-short" style="margin-bottom:15px; width:100%; text-align:left;" onclick="go_to_change_search();">
                                <i class="fas fa-search"></i> Change Search
                            </button>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="section_change_search" class="change-search-area-pcw" style="display:none;">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div id="div-search-overlay">
                    <div style="background:{{color}}; padding: 5px 10px; box-shadow: rgb(3 18 26 / 15%) 4px -1px 10px -4px, rgb(3 18 26 / 15%) -4px -1px 10px -4px; border-top-left-radius: 5px; border-top-right-radius: 5px;">
                        <div class="row">
                            <div class="col-xs-9" style="margin:auto;">
                                <h5 style="color:{{text_color}};">{% trans 'Change Search' %}</h5>
                            </div>
                            <div class="col-xs-3" style="margin:auto; text-align:right;">
                                <i class="fas fa-times" onclick="go_to_change_search();" style="font-size:20px; color:{{text_color}}; cursor:pointer;"></i>
                            </div>
                        </div>
                    </div>
                    <div class="change_search_box_bg">
                        <form action="{% url 'tt_website:hotel_search'%}" method="POST" class="form-wrap" id="hotel_searchForm">
                        {% csrf_token %}
                        <div class="row">
                            <input type="hidden" id="response" name="response">
                            <div class="col-lg-6 col-md-6">
                                <span class="span-search-ticket"><i class="fas fa-map-marker-alt"></i> {% trans 'Destination' %} {% trans 'or' %} {% trans 'Hotel Name' %}</span>
                                <div class="input-container-search-ticket">
                                    <input onClick="this.setSelectionRange(0, this.value.length);" id="hotel_id_destination" name="hotel_id_destination" class="form-control" type="text" placeholder="{% trans 'Origin' %}" style="width:100%;outline:0" autocomplete="off" value="{{hotel_search.destination}}"/>
                                </div>
                            </div>

                            <div class="col-lg-6 col-md-6">
                                <span class="span-search-ticket"><i class="fas fa-calendar-alt"></i> {% trans 'Check-In - Check-Out' %}</span>
                                <div class="input-container-search-ticket">
                                    <input class="form-control" type="text" name="hotel_checkin_checkout" id="hotel_checkin_checkout" value="{{hotel_search.checkin_date}} - {{hotel_search.checkout_date}}" placeholder="{% trans 'Check-In - Check-Out Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Check-In - Check-out Date '" autocomplete="off" readonly/>
                                    <i class="fas fa-moon icon-search-ticket" id="total_night_search" style="padding-right:40px;">1</i>
                                </div>
                                <input type="hidden" class="form-control" id="hotel_checkout" name="hotel_checkout" placeholder="Check-out Date " placeholder="Check-out Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Check-out Date '" autocomplete="off" value="{{hotel_search.checkout_date}}" onchange="change_date_hotel('checkout');" />
                                <input type="hidden" class="form-control" id="hotel_checkin" name="hotel_checkin" placeholder="Check-In Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Check-in Date '" autocomplete="off" value="{{hotel_search.checkin_date}}" onchange="change_date_hotel('checkin');"/>
                            </div>

                            <div class="col-lg-6 col-md-6">
                                <span class="span-search-ticket"><i class="fas fa-users"></i> {% trans 'Guest' %}</span>
                                <div class="input-container-search-ticket btn-group">
                                    <button id="show_total_pax_hotel" style="text-align:left;" type="button" class="form-control dropdown-toggle" data-toggle="dropdown" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"></button>
                                    <ul class="dropdown-menu" role="menu" style="z-index:5;">
                                        <div class="container">
                                            <div class="row">
                                                <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                    <div style="float:left;">
                                                        <label>
                                                            <span style="color:black; font-size:13px;">{% trans 'Room' %}<br/></span>
                                                            <span style="color:gray; font-size:11px;">(Qty >= 1)</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                    <div style="float:right; display:flex; padding:5px 0px 5px 5px;">
                                                        <button type="button" class="left-minus-room-hotel btn-custom-circle" id="left-minus-room-hotel" data-type="minus" data-field="" disabled>
                                                            <i class="fas fa-minus"></i>
                                                        </button>
                                                        <input type="text" style="font-size:13px; padding:5px !important; border:none; background:none; text-align:center; width:25px;" id="hotel_room" name="hotel_room" value="{{hotel_search.room}}" min="1" readonly>
                                                        <button type="button" class="right-plus-room-hotel btn-custom-circle" id="right-plus-room-hotel" data-type="plus" data-field="">
                                                            <i class="fas fa-plus"></i>
                                                        </button>
                                                    </div>
                                                </div>

                                                <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                    <div style="float:left;">
                                                        <label>
                                                            <span style="color:black; font-size:13px;">{% trans 'Adult' %}<br/></span>
                                                            <span style="color:gray; font-size:11px;">({% trans 'Age' %} 12+)</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                    <div style="float:right; display:flex; padding:5px 0px 5px 5px;">
                                                        <button type="button" class="left-minus-adult-hotel btn-custom-circle" id="left-minus-adult-hotel" data-type="minus" data-field="">
                                                            <i class="fas fa-minus"></i>
                                                        </button>
                                                        <input type="text" style="font-size:13px; padding:5px !important; border:none; background:none; text-align:center; width:25px;" id="hotel_adult" name="hotel_adult" value="{{hotel_search.adult}}" min="1" readonly>
                                                        <button type="button" class="right-plus-adult-hotel btn-custom-circle" id="right-plus-adult-hotel" data-type="plus" data-field="">
                                                            <i class="fas fa-plus"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
                                                    <div style="float:left;">
                                                        <label>
                                                            <span style="color:black; font-size:13px;">{% trans 'Child' %}<br/></span>
                                                            <span style="color:gray; font-size:11px;">({% trans 'Age' %} <12)</span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
                                                    <div style="float:right; display:flex; padding:5px 0px 5px 5px;">
                                                        <button type="button" class="left-minus-child-hotel btn-custom-circle" id="left-minus-child-hotel" data-type="minus" data-field="" disabled>
                                                            <i class="fas fa-minus"></i>
                                                        </button>
                                                        <input type="text" style="font-size:13px; padding:5px !important; border:none; background:none; text-align:center; width:25px;" id="hotel_child" name="hotel_child" value="{{hotel_search.child}}" readonly>
                                                        <button type="button" class="right-plus-child-hotel btn-custom-circle" id="right-plus-child-hotel" data-type="plus" data-field="">
                                                            <i class="fas fa-plus"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12">
                                                    <div class="row" id="guest_child_age">
                                                        {%if hotel_search.child != 0 %}
                                                        <div class="col-lg-12">
                                                            <span style="color:black; font-size:13px;">Child Age</span>
                                                        </div>
                                                            {% for child_age in hotel_search.child_ages %}
                                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" style="margin-top:10px;">
                                                            <select class="form-select nice-select-default" id="hotel_child_age{{forloop.counter}}" name="hotel_child_age{{forloop.counter}}">
                                                                <option value="" disabled="">Child Age</option>
                                                                <option value="0" {% if child_age == 0%} selected {% endif %}>0</option>
                                                                <option value="1" {% if child_age == 1%} selected {% endif %}>1</option>
                                                                <option value="2" {% if child_age == 2%} selected {% endif %}>2</option>
                                                                <option value="3" {% if child_age == 3%} selected {% endif %}>3</option>
                                                                <option value="4" {% if child_age == 4%} selected {% endif %}>4</option>
                                                                <option value="5" {% if child_age == 5%} selected {% endif %}>5</option>
                                                                <option value="6" {% if child_age == 6%} selected {% endif %}>6</option>
                                                                <option value="7" {% if child_age == 7%} selected {% endif %}>7</option>
                                                                <option value="8" {% if child_age == 8%} selected {% endif %}>8</option>
                                                                <option value="9" {% if child_age == 9%} selected {% endif %}>9</option>
                                                                <option value="10" {% if child_age == 10%} selected {% endif %}>10</option>
                                                                <option value="11" {% if child_age == 11%} selected {% endif %}>11</option>
                                                                <option value="12" {% if child_age == 12%} selected {% endif %}>12</option>
                                                            </select>
                                                        </div>
                                                            {% endfor %}
                                                        {% endif %}
                                                    </div>
                                                </div>
                                                <div class="col-lg-12" style="text-align:right;">
                                                    <hr/>
                                                    <button class="primary-btn" type="button" style="line-height:34px;" onclick="next_focus_element('hotel','passenger');">Done</button>
                                                </div>
                                            </div>
                                        </div>
                                    </ul>
                                </div>
                            </div>

                            <div class="col-lg-6 col-md-6">
                                <span class="span-search-ticket"><i class="fas fa-globe-asia"></i> {% trans 'Guest Nationality' %}</span>
                                <select class="js-example-basic-single" name="hotel_id_nationality_id" style="width:100%;" id="hotel_id_nationality_id" placeholder="{% trans 'Guest Nationality' %}" onchange="auto_complete('hotel_id_nationality');">
                                {% for country in countries %}
                                    {% if country.code == hotel_search.nationality %}
                                    <option value="{{country.code}} - {{country.name}}" selected>{{country.code}} - {{country.name}}</option>
                                    {% else %}
                                    <option value="{{country.code}} - {{country.name}}">{{country.code}} - {{country.name}}</option>
                                    {% endif %}
                                {% endfor %}
                                </select>
                                <input type="hidden" value="{{hotel_search.guest_nationality}}" id="hotel_id_nationality" class="form-control" name="hotel_id_nationality" />
                            </div>

                            <div class="col-lg-12" style="float:left;display:inline-flex;">
                                <label class="check_box_custom" style="margin-top:15px;">
                                    <span class="span-search-ticket" id="business_trip_help_show" style="font-size:13px;">{% trans 'Business Trip' %}</span>
                                    <input type="checkbox" name="business_trip" id="business_trip" {% if hotel_search.business_trip == 'true' %} value="true" checked {% else %} value="false" {% endif %}/>
                                    <span class="check_box_span_custom"></span>
                                </label>
                                <span id="business_trip_help" style="margin-top:15px; color:{{text_color}}; cursor:pointer;"><i class="fas fa-question-circle" style="padding:0px 5px;font-size:16px;"></i></span>
                            </div>
                        </div>

                        <button class="primary-btn" onclick="hotel_search_validation();" type="button" value="Submit">
                            <i class="fas fa-search" style="color:{{text_color}}; font-weight:bold; font-size:18px;"></i>
                            {% trans 'Search' %}
                        </button>
                    </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="destinations-area search-area-pcw" style="z-index:1; background:#f7f7f7">
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="sticky_time_fs" id="sticky_time_fs_div">
                    <div class="time_user_box mb-3">
                        <span style="font-weight:600;"><i class="fas fa-stopwatch" style="font-size:17px;"></i> {% trans 'Session Time' %}
                        <span class="count_time" id="session_time" style="float:right;"> </span></span>
                        <div style="padding-top:10px;"></div>
                        <span style="font-weight:600;"><i class="fas fa-clock" style="font-size:16px;"></i> {% trans 'Elapsed Time' %}
                            <span class="count_time" id="elapse_time" style="float:right;"> </span>
                        </span>
                        {% if username.co_user_login != default_user %}
                        <div style="display:flex;">
                            <div class="row" style="padding-top:10px;">
                                <div class="col-lg-12">
                                    <span title="{{username.co_user_login}}" style="font-weight:600; cursor:pointer; color:black; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width:150px; display:inline-block; display:-webkit-inline-block;">
                                        <i class="fas fa-user" style="font-size:16px;"></i> {{username.co_user_login}}
                                    </span><br/>
                                    <div class="drop_inline">
                                        <div class="dropdown-toggle div-dropdown-txt btn-group" data-toggle="dropdown">
                                            <button type="button" class="btn-dropdown-txt" style="color:black">
                                                Balance & Credit
                                            </button>
                                            <ul class="dropdown-menu dropdown-menu-txt" role="menu" style="padding:15px;">
                                                <span style="float:right; font-size:20px; cursor:pointer;"><i class="fas fa-times" onclick='$(".dropdown-menu").removeClass("show");'></i></span><br/>
                                                <div id="balance_search"></div>
                                                <div id="credit_search"></div>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                        <button class="primary-btn-white-short" id="sort_pc_vr" style="width:100%; height:38px; display:none; text-align:left;" data-toggle="modal" data-target="#myModalSort">
                            <i class="fas fa-sort"></i>
                            {% trans 'Sort' %}
                        </button>
                        <button class="primary-btn-white-short" id="filter_pc_vr" style="width:100%; height:38px; display:none; text-align:left;" data-toggle="modal" data-target="#myModalFilter">
                            <i class="fas fa-filter"></i>
                            {% trans 'Filter' %}
                        </button>
                    </div>
                </div>

                <div class="sorting-search-hotel" id="sorting-search-hotel">
                    <div id="sorting-hotel" style="margin-bottom:15px;">
                        <div style="margin-bottom:15px;">
                            <div class="sorting-box">
                                <span style="font-weight: bold; margin-right:10px;">Sort by: </span>
                                <div class="stripe_sorting">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                                <div class="stripe_sorting">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                                <div class="stripe_sorting">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="filter-search-flight" id="filter-search-flight" style="z-index:1;">
                    <div class="filter_box" id="filter">
                        <div class="place_div_left_right">
                            <span style="font-weight:bold; font-size:14px;">
                                <div class="stripe_div_small70">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </span>
                            <label style="position:absolute; right:0px;">
                                <div class="stripe_div_small70">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <hr/>
                        <div class="place_div_left_right">
                            <span style="font-weight:bold; font-size:14px;">
                                <div class="stripe_div_small70">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </span>
                            <label style="position:absolute; right:0px;">
                                <div class="stripe_checkbox">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <div class="place_div_grid">
                            <label>
                                <div class="stripe_div_medium160">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_medium130">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_medium160">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <hr/>
                        <div class="place_div_left_right">
                            <span style="font-weight:bold; font-size:14px;">
                                <div class="stripe_div_small70">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </span>
                            <label style="position:absolute; right:0px;">
                                <div class="stripe_checkbox">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <div class="place_div_grid">
                            <label>
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small40">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small40">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <hr/>
                        <div class="place_div_left_right">
                            <span style="font-weight:bold; font-size:14px;">
                                <div class="stripe_div_medium130">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </span>
                            <label style="position:absolute; right:0px;">
                                <div class="stripe_checkbox">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <div class="place_div_grid">
                            <label>
                                <div class="stripe_div_small70">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small70">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small70">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small40">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <hr/>
                        <div class="place_div_left_right">
                            <span style="font-weight:bold; font-size:14px;">
                                <div class="stripe_div_medium130">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </span>
                            <label style="position:absolute; right:0px;">
                                <div class="stripe_checkbox">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <div class="place_div_grid">
                            <label>
                                <div class="stripe_div_small40">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <hr/>
                        <div class="place_div_left_right">
                            <span style="font-weight:bold; font-size:14px;">
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </span>
                            <label style="position:absolute; right:0px;">
                                <div class="stripe_checkbox">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <div class="place_div_grid">
                            <label>
                                <div class="stripe_div_small40">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                            <label>
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-9">
                <div class="change_search_div" id="hotel_search_params">
                    <div class="destinations-area change_search_n">
                        <div class="row">
                            <div class="col-lg-8 col-md-7 mb-1">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                                            <span class="copy_span" style="text-transform: capitalize; font-size:13px;"><i class="fas fa-map-marker-alt"></i> {{hotel_search.destination}}</span><br/>
                                        </div>
                                    </div>
                                    <div class="col-lg-12" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width:100%; display:inline-block; display:-webkit-inline-block;">
                                        <span class="copy_span" style="text-transform: capitalize; font-size:13px;"> {{hotel_search.checkin_date}} - {{hotel_search.checkout_date}} | {{hotel_search.room}} {% trans 'Room' %}, {{hotel_search.adult}} {% trans 'Adult' %}, {{hotel_search.child}} {% trans 'Child' %}</span><br/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-5 txt-right-left">
                                <button class="primary-btn-custom" type="button" onclick="go_to_change_search();">
                                    <span id="change_search_text"><i class="fas fa-search" style="font-size:18px;"></i></span>
                                </button>
                                <button class="primary-btn-custom" id="button_copy_hotel" style="text-align:left; margin-bottom:0px;" data-toggle="modal" data-target="#myModalCopyHotel" onclick="get_checked_copy_result();">
                                    <i class="fas fa-copy" style="font-size:18px;"></i>
                                    <span id="badge-copy-notif">0</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="change_search_box" style="display:none; z-index:98; position:relative; box-shadow: rgb(3 18 26 / 15%) 4px -1px 10px -4px, rgb(3 18 26 / 15%) -4px -1px 10px -4px;">
                    <div class="overlay overlay-bg"></div>
                </div>

                <div class="row" id="loading-search-hotel">
                    <div class="col-lg-12">
                        <div class="sk-circle">
                            <div class="sk-circle1 sk-child"></div>
                            <div class="sk-circle2 sk-child"></div>
                            <div class="sk-circle3 sk-child"></div>
                            <div class="sk-circle4 sk-child"></div>
                            <div class="sk-circle5 sk-child"></div>
                            <div class="sk-circle6 sk-child"></div>
                            <div class="sk-circle7 sk-child"></div>
                            <div class="sk-circle8 sk-child"></div>
                            <div class="sk-circle9 sk-child"></div>
                            <div class="sk-circle10 sk-child"></div>
                            <div class="sk-circle11 sk-child"></div>
                            <div class="sk-circle12 sk-child"></div>
                        </div>
                        <div style="text-align:center"><h6 class="mb-3">{% trans 'PLEASE WAIT' %}</h6></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-12" id="hotel_result">
                        <div class="place_div_white" style="margin-bottom:15px;">
                            <span style="font-weight:bold; font-size:14px;">
                                <div class="stripe_div_medium130">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </span>
                            <label style="position:absolute; right:10px;">
                                <div class="stripe_div_small100">
                                    <div class="div_stripe">
                                        <div class="loading_stripe"></div>
                                    </div>
                                </div>
                            </label>
                        </div>
                        <div class="stripe_div_pagination" style="margin-bottom:15px;">
                            <div class="div_stripe">
                                <div class="loading_stripe"></div>
                            </div>
                        </div>
                        <div class="sorting-box-b">
                            <div class="row">
                                <div class="col-lg-3 mb-2 mt-2">
                                    <div class="stripe_img_big_hotel">
                                        <div class="div_stripe">
                                            <div class="loading_stripe"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-9 mt-2 mb-2">
                                    <div class="row">
                                        <div class="col-lg-7 col-md-7 mb-1">
                                            <div class="stripe_div_100">
                                                <div class="div_stripe">
                                                    <div class="loading_stripe"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-10 col-xs-10">
                                            <div class="stripe_div_small100">
                                                <div class="div_stripe">
                                                    <div class="loading_stripe"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                            <div class="stripe_checkbox" style="float:right;">
                                                <div class="div_stripe">
                                                    <div class="loading_stripe"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-7 col-md-7" style="padding-top:5px;">
                                            <div style="padding-bottom:5px; height:135px;">
                                                <div class="stripe_2row_small">
                                                    <div class="div_stripe">
                                                        <div class="loading_stripe"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="padding-top:10px; height:60px;">
                                                <div class="place_div_trans">
                                                    <div class="stripe_icon_img" style="margin-right:10px;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                    <div class="stripe_icon_img" style="margin-right:10px;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                    <div class="stripe_icon_img" style="margin-right:10px;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                    <div class="stripe_icon_img">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-5 col-md-5" style="padding-top:5px;">
                                            <div class="row">
                                                <div class="col-lg-12 hotel_stripe_price">
                                                    <div class="stripe_price" style="float:right;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 hotel_stripe_button">
                                                    <div class="stripe_long_button" style="float:right;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="sorting-box-b">
                            <div class="row">
                                <div class="col-lg-3 mb-2 mt-2">
                                    <div class="stripe_img_big_hotel">
                                        <div class="div_stripe">
                                            <div class="loading_stripe"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-9 mt-2 mb-2">
                                    <div class="row">
                                        <div class="col-lg-7 col-md-7 mb-1">
                                            <div class="stripe_div_100">
                                                <div class="div_stripe">
                                                    <div class="loading_stripe"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-10 col-xs-10">
                                            <div class="stripe_div_small100">
                                                <div class="div_stripe">
                                                    <div class="loading_stripe"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                            <div class="stripe_checkbox" style="float:right;">
                                                <div class="div_stripe">
                                                    <div class="loading_stripe"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-7 col-md-7" style="padding-top:5px;">
                                            <div style="padding-bottom:5px; height:135px;">
                                                <div class="stripe_2row_small">
                                                    <div class="div_stripe">
                                                        <div class="loading_stripe"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="padding-top:10px; height:60px;">
                                                <div class="place_div_trans">
                                                    <div class="stripe_icon_img" style="margin-right:10px;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                    <div class="stripe_icon_img" style="margin-right:10px;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                    <div class="stripe_icon_img" style="margin-right:10px;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                    <div class="stripe_icon_img">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-5 col-md-5" style="padding-top:5px;">
                                            <div class="row">
                                                <div class="col-lg-12 hotel_stripe_price">
                                                    <div class="stripe_price" style="float:right;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 hotel_stripe_button">
                                                    <div class="stripe_long_button" style="float:right;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="sorting-box-b" style="margin-bottom:15px;">
                            <div class="row">
                                <div class="col-lg-3 mb-2 mt-2">
                                    <div class="stripe_img_big_hotel">
                                        <div class="div_stripe">
                                            <div class="loading_stripe"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-9 mt-2 mb-2">
                                    <div class="row">
                                        <div class="col-lg-7 col-md-7 mb-1">
                                            <div class="stripe_div_100">
                                                <div class="div_stripe">
                                                    <div class="loading_stripe"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-10 col-xs-10">
                                            <div class="stripe_div_small100">
                                                <div class="div_stripe">
                                                    <div class="loading_stripe"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
                                            <div class="stripe_checkbox" style="float:right;">
                                                <div class="div_stripe">
                                                    <div class="loading_stripe"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-7 col-md-7" style="padding-top:5px;">
                                            <div style="padding-bottom:5px; height:135px;">
                                                <div class="stripe_2row_small">
                                                    <div class="div_stripe">
                                                        <div class="loading_stripe"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="padding-top:10px; height:60px;">
                                                <div class="place_div_trans">
                                                    <div class="stripe_icon_img" style="margin-right:10px;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                    <div class="stripe_icon_img" style="margin-right:10px;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                    <div class="stripe_icon_img" style="margin-right:10px;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                    <div class="stripe_icon_img">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-5 col-md-5" style="padding-top:5px;">
                                            <div class="row">
                                                <div class="col-lg-12 hotel_stripe_price">
                                                    <div class="stripe_price" style="float:right;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 hotel_stripe_button">
                                                    <div class="stripe_long_button" style="float:right;">
                                                        <div class="div_stripe">
                                                            <div class="loading_stripe"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="stripe_div_pagination">
                            <div class="div_stripe">
                                <div class="loading_stripe"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div id="pagination-container"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12" id="hotel_ticket"></div>
                </div>
                <div id="hotel_error">

                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div id="pagination-container2"></div>
                    </div>
                </div>

<!--                <div class="row" style="padding-top:10px;">-->
<!--                    <div class="col-lg-12" id="hotel_result_city"></div>-->
<!--                </div>-->
<!--                <div class="row style-scrollbar" id="hotel_city" style="margin-bottom:10px; max-height:202px; overflow-y:auto; display:none; justify-content:center;">-->

<!--                </div>-->
<!--                <div class="row">-->
<!--                    <div class="col-lg-12" id="hotel_result_landmark"></div>-->
<!--                </div>-->
<!--                <div class="row style-scrollbar" id="hotel_landmark" style="margin-bottom:10px; max-height:215px; overflow-y:auto; display:none; justify-content:center;">-->

<!--                </div>-->

                <input type="hidden" id="time_limit_input" name="time_limit_input" />
            </div>
        </div>
    </div>
</section>

<div class="modal fade" id="openImage" role="dialog" style="background:unset !important; top:50px;">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content" style="background-color:transparent; border:unset;">
            <div class="modal-header" style="background-color:transparent; border-bottom:unset;">
                <button type="button" class="close" data-dismiss="modal" style="color:{{text_color}};">&times;</button>
            </div>
            <div class="modal-body">
                <div class="col-lg-12" id="viewImageHotelBottom">
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="myModalCopyHotel" role="dialog">
    <div class="overlay_modal_custom" data-dismiss="modal"></div>
    <div class="modal-dialog modal_custom_fixed">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <div class="row">
                    <div class="col-xs-6 pb-3">
                        <h4 class="modal-title"><i class="fas fa-copy"></i> {% trans 'List Copy Hotel' %}</h4>
                    </div>
                    <div class="col-xs-6">
                        <button type="button" class="close modal_custom_close" data-dismiss="modal">&times;</button>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="row" id="choose-hotel-copy">
                    <div class="col-lg-12">
                        <h6>Please choose your hotel want to copy!</h6>
                    </div>
                </div>
                <div id="show-list-copy-hotel">

                </div>
                <textarea id="data_copy" name="data_copy" rows="4" hidden></textarea>
            </div>
            <div class="modal-footer" style="display:unset;">
                <div class="row" id="footer_list_copy">

                </div>
            </div>
        </div>
    </div>
</div>

<!--<button class="mystickycopybot" style="display:none;" id="button_copy_hotel" data-toggle="modal" data-target="#myModalCopyHotel" onclick="get_checked_copy_result();">-->
<!--    <span style="color:{{text_color}}; font-size:18px;"><i class="fas fa-copy"></i></span>-->
<!--    <span class="badge-notif animated bounceIn" id="badge-copy-notif">0</span>-->
<!--</button>-->


{% include 'tt_website/footer.html' %}
<!--<script>-->
<!--    document.getElementById('button_copy_hotel').style.bottom = JSON.parse(JSON.stringify(bottom.toString())) + 'px';-->
<!--    bottom+=60;-->
<!--</script>-->
<script>
    //guest_child_age2();
    hotel_signin('');
    hotel_filter_render();

    $(document).ready(function () {
        {% for child_age in hotel_search.child_ages %}
        $('#hotel_child_age{{forloop.counter}}').niceSelect('destroy');
        {% endfor %}
        if(document.getElementById("balance_search") && document.getElementById("balance"))
            document.getElementById("balance_search").innerHTML = document.getElementById("balance").innerHTML;
        if(document.getElementById("credit_search") && document.getElementById("customer_parent_balance"))
            document.getElementById("credit_search").innerHTML = document.getElementById("customer_parent_balance").innerHTML;
        else if(document.getElementById("credit_search") && document.getElementById("credit_limit"))
            document.getElementById("credit_search").innerHTML = document.getElementById("credit_limit").innerHTML;
        $(window).scroll(function() {
            if ($(this).scrollTop() >= 66) {
                if ($(window).width() >= 992){
                   if(document.getElementById("balance_search") && document.getElementById("balance"))
                       document.getElementById("balance_search").innerHTML = document.getElementById("balance").innerHTML;

                   if(document.getElementById("credit_search") && document.getElementById("customer_parent_balance"))
                       document.getElementById("credit_search").innerHTML = document.getElementById("customer_parent_balance").innerHTML;
                   else if(document.getElementById("credit_search") && document.getElementById("credit_limit"))
                       document.getElementById("credit_search").innerHTML = document.getElementById("credit_limit").innerHTML;
                }
            }
        });
    });

    $(function() {
      $('.js-example-basic-single').select2();
      //breadcrumb_create("hotel", 2, 0);
      var quantity_room_hotel = parseInt($('#hotel_room').val());
      var quantity_adult_hotel = parseInt($('#hotel_adult').val());
      var quantity_child_hotel = parseInt($('#hotel_child').val());
      if (quantity_room_hotel == 9){
          document.getElementById("right-plus-room-hotel").disabled = true;
          document.getElementById("left-minus-room-hotel").disabled = false;
      }
      else if(quantity_room_hotel == 1){
          document.getElementById("left-minus-room-hotel").disabled = true;
          document.getElementById("right-plus-room-hotel").disabled = false;
      }
      else{
          document.getElementById("right-plus-room-hotel").disabled = false;
          document.getElementById("left-minus-room-hotel").disabled = false;
      }

      if (quantity_room_hotel == quantity_adult_hotel){
          document.getElementById("left-minus-adult-hotel").disabled = true;
      }
      else if (quantity_room_hotel < quantity_adult_hotel){
          document.getElementById("left-minus-adult-hotel").disabled = false;
      }

      if (quantity_room_hotel > quantity_child_hotel){
          document.getElementById("right-plus-child-hotel").disabled = false;
      }
      else{
          document.getElementById("right-plus-child-hotel").disabled = true;
      }

      if(quantity_adult_hotel > quantity_room_hotel && quantity_adult_hotel < 18){
          document.getElementById("left-minus-adult-hotel").disabled = false;
          document.getElementById("right-plus-adult-hotel").disabled = false;
      }
      else if(quantity_adult_hotel == 18){
          document.getElementById("left-minus-adult-hotel").disabled = false;
          document.getElementById("right-plus-adult-hotel").disabled = true;
      }

      if(quantity_adult_hotel == quantity_room_hotel){
          document.getElementById("left-minus-adult-hotel").disabled = true;
      }
      else{
          document.getElementById("right-plus-adult-hotel").disabled = false;
      }

      if(quantity_child_hotel == quantity_room_hotel){
          document.getElementById("right-plus-child-hotel").disabled = true;
          document.getElementById("left-minus-child-hotel").disabled = false;
      }
      else if (quantity_child_hotel == 0){
          document.getElementById("left-minus-child-hotel").disabled = true;
          document.getElementById("right-plus-child-hotel").disabled = false;
      }

      /*if(quantity_child_hotel < quantity_room_hotel){
          document.getElementById("right-plus-child-hotel").disabled = false;
          document.getElementById("left-minus-child-hotel").disabled = false;
      }*/

      var oneDay = 24*60*60*1000;
      var firstDate = new Date($("#hotel_checkin").val());
      var secondDate = new Date($("#hotel_checkout").val());

      var diffDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime())/(oneDay)));
      $("#total_night_search").text(diffDays);

      var picker_hotel_checkin_checkout = new Lightpick({
          field: document.getElementById('hotel_checkin_checkout'),
          singleDate: false,
          hoveringTooltip: false,
          minDays: 2,
          maxDays: 31,
          startDate: $("#hotel_checkin").val(),
          endDate: $("#hotel_checkout").val(),
          minDate: moment(),
          maxDate: moment().subtract(-366, 'days'),
          nextFocus: '#show_total_pax_hotel',
          onSelect: function(start, end){
              moment_checkIn = moment($("#hotel_checkin").val()).format('DD MMM YYYY');
              moment_checkOut = moment($("#hotel_checkout").val()).format('DD MMM YYYY');
              moment_start = moment(start).format('DD MMM YYYY');
              moment_end = moment(end).format('DD MMM YYYY');
              if(moment_checkIn != moment_start && moment_checkOut != moment_end){
                  $("#hotel_checkin").val(start.format('DD MMM YYYY'));
                  $("#hotel_checkout").val(end.format('DD MMM YYYY'));
              }else{
                  if(moment_checkIn == moment_start){
                      $("#hotel_checkin").val(moment_checkIn);
                  }
                  if(moment_checkOut != moment_end){
                      $("#hotel_checkin").val(start.format('DD MMM YYYY'));
                      $("#hotel_checkout").val(end.format('DD MMM YYYY'));
                  }
              }
          },
          onClose: function(){
              oneDay = 24*60*60*1000;
              firstDate = new Date($("#hotel_checkin").val());
              secondDate = new Date($("#hotel_checkout").val());

              diffDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime())/(oneDay)));
              $("#total_night_search").text(diffDays);
          }
      });


      //$('input[name="hotel_checkin_checkout"]').daterangepicker({
      //    singleDatePicker: false,
      //    autoUpdateInput: true,
      //    opens: 'center',
      //    autoApply: true,
      //    startDate: $("#hotel_checkin").val(),
      //    endDate: $("#hotel_checkout").val(),
      //    minDate: moment(),
      //    maxDate: moment().subtract(-366, 'days'),
      //    showDropdowns: true,
      //    locale: {
      //       format: 'DD MMM YYYY',
      //    }
      //});

      //$('input[name="hotel_checkin_checkout"]').on('apply.daterangepicker', function(ev, picker) {
      //   $(this).val(picker.startDate.format('DD MMM YYYY') + ' - ' + picker.endDate.format('DD MMM YYYY'));
      //      $("#hotel_checkin").val(picker.startDate.format('DD MMM YYYY'));
      //      $("#hotel_checkout").val(picker.endDate.format('DD MMM YYYY'));
      //
      //      var oneDay = 24*60*60*1000;
      //      var firstDate = new Date($("#hotel_checkin").val());
      //      var secondDate = new Date($("#hotel_checkout").val());
      //
      //      var diffDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime())/(oneDay)));
      //      $("#total_night_search").text(diffDays);
      //
      //      setTimeout(function(){
      //          $("#show_total_pax_hotel").click();
      //      }, 200);
      //});

        $('#hotel_id_nationality_id').on('select2:close', function (e) {
            setTimeout(function(){
                $("#business_trip_help").click();
            }, 200);
        });

        new jBox('Tooltip', {
            attach: '#business_trip_help',
            target: '#business_trip_help_show',
            theme: 'TooltipBorder',
            trigger: 'click',
            adjustTracker: true,
            closeOnClick: 'body',
            closeButton: 'box',
            animation: 'move',
            position: {
              x: 'left',
              y: 'bottom'
            },
            outside: 'y',
            pointer: 'left:20',
            offset: {
              x: 25
            },
            content: "Check this section if you are doing a hotel search for business purposes",
        });


    });

    var hotel_autocomplete = new autoComplete({
        selector: '#hotel_id_destination',
        minChars: 1,
        cache: false,
        delay:0,
        source: function(term, suggest){
            get_auto_complete(term,suggest);
        },
        onSelect: function(e, term, item){
            setTimeout(function(){
                $('#hotel_checkin_checkout').focus();
            }, 200);
        }
    });

    function goto_detail(type, counter){
       //$('.loader-rodextrip').fadeIn();
       document.getElementById('hotel'+counter).innerHTML += `{% csrf_token %}`;
       document.getElementById('hotel'+counter).innerHTML += `<input type='hidden' value='`+time_limit+`' name='time_limit_input'/>`;
       try{
            document.getElementById('hotel'+counter).action += '/' + document.getElementById('hotel_id'+counter).value;
       }catch(err){
            document.getElementById('hotel'+counter).action += '/' + hotel_data.hotel_ids[counter].id;
       }
       if(!document.getElementById('hotel'+counter).action.includes(signature))
            document.getElementById('hotel'+counter).action += '/' + signature;
       document.getElementById('hotel'+counter).submit();
    }
    try{
        get_public_holiday(moment().format('YYYY-MM-DD'), moment().subtract(-1, 'years').format('YYYY-MM-DD'));
        new_get_public_holiday(moment().format('YYYY-MM-DD'), moment().subtract(-1, 'years').format('YYYY-MM-DD'));
    }catch(err){
        console.log(err);
    }
</script>

{% endblock %}
