{% extends 'tt_website/template_website_booking.html' %}
{% load i18n %}
{% load static from staticfiles %}
{% block content %}
<script src="{{ static_path }}js/library/daterangepicker.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/library/moment.min.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_token.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_agent.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_content.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/webservice_hotel.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/hotel_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/agent_javascript.js?version={{javascript_version}}"></script>
<script src="{{ static_path }}js/library/moment.js?version={{javascript_version}}"></script>

<script>
    global_provider_type = 'hotel';
    static_path_url_server = '{{static_path_url_server}}'
    signature = `{{signature}}`;
    function check_years_old(sequence, type){
        var birth_date = '';
        birth_date = moment(document.getElementById(type+'_birth_date'+sequence).value, 'DD MMM YYYY');
        document.getElementById(type+'_years_old'+sequence).value = parseInt(Math.abs(moment(new Date()) - birth_date)/31536000000);
    }
    adult = {{adult_count}};
    child = {{child_count}};
    infant = 0;
    time_limit = {{time_limit}};
    last_session = 'sell_journeys';
    session_time_limit();
    is_identity_required = 'false';
</script>
<title id="title_search">{{name}} Hotel - {% trans 'Passenger' %}</title>

{% include 'tt_website/logout.html' %}
{% include 'tt_website/loading_screen.html' %}

{% include 'tt_website/modal_balance_vendor.html' %}

{% if 'co_customer_parent_type_name' in username and 'corp_limitation' not in username.co_agent_frontend_security %}
{% include 'tt_website/html_include/header_corporate.html' %}
{% endif %}
{% include 'tt_website/html_include/header_breadcrumb.html' %}

<section class="destinations-area" style="padding-top:15px; padding-bottom:40px;">
    <div class="container">
        <div class="banner-right">
            <form id="hotel_review" class="form-wrap" action="/hotel/review/{{signature}}" method="POST" style="padding:0; text-align:unset;">
                {% csrf_token %}
                <input type="hidden" id="image_list_data" name="image_list_data" />
                <div class="row">
                    <div class="col-lg-8" style="margin-top:10px;">
                        <div class="row">
                            <div class="col-lg-12">
                                <div id="booker" class="form_booker">
                                    <div class="row">
                                        <div class="col-lg-12 mb-3" style="border-bottom:1px solid #cdcdcd;">
                                            <h4 class="mb-3"><i class="fas fa-user"></i> {% trans 'Booker Information' %}</h4>
                                            <button type="button" class="tooltip-inner" style="display:none" id="corporate_booker"><i class="fas fa-money-bill-wave-alt"></i> {% trans 'Corporate Booker' %}</button>
                                        </div>
                                        <div class="col-lg-12 col-md-12 col-sm-12" id="booker_div_avatar" hidden>
                                        </div>
                                        <div class="col-lg-6" style="text-align:left;">
                                            <!--                                            <label>Booker Type :</label><br/>-->
                                            <!--                                            <label class="radio-button-custom">-->
                                            <!--                                                Corporate-->
                                            <!--                                                <input type="radio" checked="checked" name="radio-booker-type">-->
                                            <!--                                                <span class="checkmark-radio"></span>-->
                                            <!--                                            </label>-->
                                            <!--                                            <label class="radio-button-custom">-->
                                            <!--                                                Individual-->
                                            <!--                                                <input type="radio" name="radio-booker-type">-->
                                            <!--                                                <span class="checkmark-radio"></span>-->
                                            <!--                                            </label>-->
                                        </div>
                                        <div class="col-lg-6 mb-3" style="text-align:right;">
                                            {% if 'b2c_limitation' not in username.co_agent_frontend_security and "corp_limitation" not in username.co_agent_frontend_security and 'co_customer_parent_type_name' not in username %}
                                            <button type="button" class="primary-btn-white-cancel" id="booker_clear" onclick="clear_passenger('Booker', 0);" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_booker" data-backdrop="static" onclick="loadingPaxHide();"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                            {% endif %}
                                        </div>

                                        <div class="modal fade" id="myModal_booker" role="dialog">
                                            <div class="overlay_modal_custom" onclick="close_modal_check('booker', '');"></div>
                                            <div class="modal-dialog modal_custom_fixed">
                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <div class="row">
                                                            <div class="col-xs-6 pb-3">
                                                                <h4 class="modal-title">Booker</h4>
                                                            </div>
                                                            <div class="col-xs-6">
                                                                <button type="button" class="close modal_custom_close" data-dismiss="modal" onclick="close_modal_check('booker', '');">&times;</button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-xs-6" id="button_tl_booker">

                                                            </div>
                                                            <div class="col-xs-6" id="button_tr_booker">

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="row">
                                                            <div class="col-lg-12" id="date_booker"></div>
                                                            <div class="col-lg-9 col-md-9">
                                                                <div class="row">
                                                                    {% if 'co_customer_parent_type_name' not in username and 'corp_limitation' not in username.co_agent_frontend_security %}
                                                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                                                        <div class="form-select-2">
                                                                            <select class="nice-select-default" id="train_booker_search_type" name="train_booker_search_type" onchange="search_type_on_change('booker','','train_booker_search_type','train_booker_search');">
                                                                                <option value="cust_name">By Customer Name</option>
                                                                                <option value="seq_id">By Customer Sequence ID</option>
                                                                                <option value="cor_name">By Corporate Name</option>
                                                                                <option value="mobile">By Customer Mobile</option>
                                                                                <option value="email">By Customer Mail</option>
                                                                                <option value="identity_type">By Customer Identity Number</option>
                                                                                <option value="birth_date">By Birth Date</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                                                        <input class="form-control" type="text" id="train_booker_search" placeholder="{% trans 'Search' %}"/>
                                                                    </div>
                                                                    {% endif %}
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-3 col-md-3">
                                                                <button type="button" id="booker_search" class="primary-btn" onclick="get_customer_list('booker','0','hotel'); search_modal_pe_none();">{% trans 'Search' %}</button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-booker-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">{% trans 'PLEASE WAIT' %} </span><img src="{{static_path}}images/gif/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result">

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-8">
                                            <label style="color:red">*</label>
                                            <label>{% trans 'Title' %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select-2" id="default-select">
                                                    <select id="booker_title" name="booker_title" class="nice-select-default" onchange="change_booker_value('hotel');">
                                                        {% for title in adult_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-4" style="margin-top:30px;">
                                            <div class="modal fade" id="myModalHelp" role="dialog">
                                                <div class="row" style="margin:0">
                                                    <button type="button" class="btn btn-secondary" style="width:42px;height:42px;margin-right:5px;" data-toggle="modal" data-target="#myModalHelp"><i class="fas fa-info-circle"></i></button>
                                                    <div class="modal-dialog">

                                                        <!-- Modal content-->
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h4 class="modal-title">{% trans 'Help' %} <i class="fas fa-address-card"></i></h4>
                                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                            </div>
                                                            <div class="modal-body">
                                                                <div class="col-sm-12">
                                                                    <center><img src="/static/tt_website/images/guide/help/help_passenger.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                                </div>
                                                                <div>
                                                                    <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                                    <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                                    <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                                </div>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-default" data-dismiss="modal">{% trans 'Close' %}</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red">*</label>
                                            <label>{% trans 'First name and middle name (if any)' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="margin-bottom:0px;" onchange="capitalizeInput('booker_first_name'); change_booker_value('hotel');" class="form-control" name="booker_first_name" id="booker_first_name" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="booker_birth_date" id="booker_birth_date" />
                                                <input type="hidden" class="form-control" name="booker_id_type" id="booker_id_type" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_id_number" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_exp_date" />
                                                <input type="hidden" class="form-control" name="booker_id_number" id="booker_country_of_issued" />
                                            </div>
                                            <span style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</span>
                                        </div>

                                        <div class="col-lg-6 mb-3">
                                            <br/>
                                            <label>{% trans 'Last name' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="margin-bottom:0px;" onchange="capitalizeInput('booker_last_name'); change_booker_value('hotel');" class="form-control" name="booker_last_name" id="booker_last_name" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <span style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</span>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label>{% trans 'Nationality' %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="form-control js-example-basic-single" name="booker_nationality_id" style="width:100%;" id="booker_nationality_id" placeholder="{% trans 'Nationality' %}" onchange="change_booker_value('hotel');" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.code}}" {% if country.code == guest_nationality %} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="col-lg-6 mb-3">
                                            <label style="color:red">*</label>
                                            <label>{% trans 'Contact Email Address' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="margin-bottom:0px;" class="form-control" name="booker_email" id="booker_email" placeholder="{% trans 'Email Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '" onchange="change_booker_value('hotel');">
                                            </div>
                                            <span style="font-size:12px; padding:0;">{% trans 'Example' %}: email@example.com</span>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="color:red">*</label>
                                            <label style="margin:0;">{% trans 'Contact Person for Urgent Situation' %}</label>
                                            <label style="font-size:10px; color:red;">({% trans "Must be filled with booker's mobile on first registration" %})</label>
                                            <div class="row">
                                                <div class="col-lg-4 col-md-4 col-sm-4 col-xs-5">
                                                    <div class="form-select" style="margin-bottom:0px;">
                                                        <select class="form-control js-example-basic-single" name="booker_phone_code_id" style="width:100%;" id="booker_phone_code_id" onchange="change_booker_value('hotel');" class="nice-select-default">
                                                            {% for phone in phone_code %}
                                                            <option value="{{phone}}" {% if phone == 62%} selected {%endif%}>{{phone}}</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-lg-8 col-md-8 col-sm-8 col-xs-7">
                                                    <input type="text" style="margin-bottom:0px;" class="form-control" name="booker_phone" id="booker_phone" placeholder="Phone Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '" onchange="change_booker_value('hotel');">
                                                    <input type="hidden" class="form-control" name="booker_id" id="booker_id">
                                                </div>
                                            </div>
                                            <span style="font-size:12px; padding:0;">{% trans 'Example' %}: 812345678</span>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="margin-bottom:20px;">
                            <div class="col-lg-12">
                                <div class="form_booker">
                                    <label>{% trans 'Do you book this trip for you?' %}</label><br/>
                                    <label class="radio-button-custom">
                                        {% trans 'Yes' %}
                                        <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('copy','hotel');" value="yes"/>
                                        <span class="checkmark-radio"></span>
                                    </label>

                                    <label class="radio-button-custom">
                                        {% trans 'No' %}
                                        <input type="radio" name="myRadios" onchange="copy_booker_to_passenger('change','hotel');" value="no" checked="checked"/>
                                        <span class="checkmark-radio"></span>
                                    </label>

                                    <br/>
                                    <label>{% trans 'Passenger Data' %}</label><br/>
                                    <ul>
                                        <li>{% trans '1. Caution: the name of the passenger must be right and appropriate with international passsport, and domestic route can match with KTP/Passport/SIM' %}</li>
                                        <li>{% trans "2. Passenger data can't be changed after the passing of this page" %}</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        {% for adult in adults%}
                        <div class="row" id="adult{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div class="form_customer">
                                    <div class="row">
                                        <div class="col-lg-12 div_customer" onclick="show_paxs_airline('adult', '{{forloop.counter}}');">
                                            <div class="row">
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left;">
                                                    <h4>
                                                        <i class="fas fa-user"></i> {% trans 'Adult' %} - {{forloop.counter}}
                                                        <span style="color:{{text_color}}; text-align:center; font-size:15px;">
                                                {% if forloop.counter <= 1 %} <span style="color:red; font-size:12px; background:white; padding:2px 5px; ">required*</span><br/>{%endif%}
                                                </span>
                                                    </h4>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right;">
                                                    <span style="color:black; text-align:right; margin-right:5px; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                                    <span style="color:black; text-align:right; margin-right:5px; {% if forloop.counter == 1 %} display:none; {% endif %}" id="adult_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-12" style="padding:15px; border-top:1px solid #cdcdcd; {% if forloop.counter != 1 %} display:none; {% endif %}" id="adult_paxs{{forloop.counter}}">
                                            <div class="row">
                                                <div class="col-lg-6" style="text-align:left;">
                                                    <div class="input-container-search-ticket">
                                                        <label class="check_box_custom">
                                                            <span class="span-search-ticket" style="color:black;">{% trans 'Make this to Contact Person' %}</span>
                                                            <input type="checkbox" id="adult_cp{{forloop.counter}}" name="adult_cp{{forloop.counter}}" onclick="update_contact_cp({{forloop.counter}})" />
                                                            <span class="check_box_span_custom"></span>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 mb-3" style="text-align:right;">
                                                    {% if 'b2c_limitation' not in username.co_agent_frontend_security %}
                                                    <button type="button" class="primary-btn-white-cancel" id="adult_clear{{forloop.counter}}" onclick="clear_passenger('Adult', {{forloop.counter}});" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                                    <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_adult{{forloop.counter}}" data-backdrop="static" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                                    {% endif %}
                                                    <div class="modal fade" id="myModal_adult{{forloop.counter}}" role="dialog">
                                                        <div class="overlay_modal_custom" onclick="close_modal_check('adult', '{{forloop.counter}}');"></div>
                                                        <div class="modal-dialog modal_custom_fixed">
                                                            <!-- Modal content-->
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <div class="row">
                                                                        <div class="col-xs-6 pb-3">
                                                                            <h4 class="modal-title">{% trans 'Adult' %} - {{forloop.counter}}</h4>
                                                                        </div>
                                                                        <div class="col-xs-6">
                                                                            <button type="button" class="close modal_custom_close" data-dismiss="modal" onclick="close_modal_check('adult', '{{forloop.counter}}');">&times;</button>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-xs-6" id="button_tl_adult{{forloop.counter}}">

                                                                        </div>
                                                                        <div class="col-xs-6" id="button_tr_adult{{forloop.counter}}">

                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="modal-body" style="text-align:left;">
                                                                    <div class="row">
                                                                        <div class="col-lg-12" id="date_adult{{forloop.counter}}"></div>
                                                                        <div class="col-lg-9 col-md-9">
                                                                            <div class="row">
                                                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                                                    <div class="form-select-2">
                                                                                        <select class="nice-select-default" id="train_adult{{forloop.counter}}_search_type" name="train_adult{{forloop.counter}}_search_type" onchange="search_type_on_change('adult','{{forloop.counter}}','train_adult{{forloop.counter}}_search_type','train_adult{{forloop.counter}}_search');">
                                                                                            <option value="cust_name">By Customer Name</option>
                                                                                            <option value="seq_id">By Customer Sequence ID</option>
                                                                                            <option value="mobile">By Customer Mobile</option>
                                                                                            <option value="email">By Customer Mail</option>
                                                                                            <option value="identity_type">By Customer Identity Number</option>
                                                                                            <option value="birth_date">By Birth Date</option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                                                    <input class="form-control" type="text" id="train_adult{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-lg-3 col-md-3">
                                                                            <button type="button" id="search_adult_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('adult',{{forloop.counter}}, 'hotel'); search_modal_pe_none();">{% trans 'Search' %}</button>
                                                                        </div>
                                                                    </div>
                                                                    <!--<div class="row">-->
                                                                    <!--<div class="col-lg-7 col-md-7 col-sm-7">-->
                                                                    <!--<input class="form-control" type="text" id="train_adult{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>-->
                                                                    <!--</div>-->
                                                                    <!--<div class="col-lg-5 col-md-5 col-sm-5">-->
                                                                    <!--<button type="button" id="search_adult_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('adult',{{forloop.counter}}, 'hotel')">{% trans 'Search' %}</button>-->
                                                                    <!--</div>-->
                                                                    <!--</div>-->
                                                                    <div class="row">
                                                                        <div class="col-lg-12">
                                                                            <br/>
                                                                            <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row loading-pax-train" style="display:none;">
                                                                        <div class="col-lg-12">
                                                                            <br/>
                                                                            <div style="text-align:center">
                                                                                <span style="font-size:18px; font-weight:bold;">{% trans 'PLEASE WAIT' %} </span><img src="{{static_path}}images/gif/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div id="search_result_adult{{forloop.counter}}">

                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-md-12 col-sm-12" id="adult_div_avatar{{forloop.counter}}" hidden>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-8">
                                                    <label>{% trans 'Title' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <div class="form-select-2">
                                                            <select id="adult_title{{forloop.counter}}" name="adult_title{{forloop.counter}}" class="nice-select-default">
                                                                {% for title in adult_title%}
                                                                <option>{{title}}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-4" style="margin-top:30px;">
                                                    <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_adult{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                                    <div class="modal fade" id="myModalHelp_adult{{forloop.counter}}" role="dialog">
                                                        <div class="modal-dialog">

                                                            <!-- Modal content-->
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">{% trans 'Help' %} <i class="fas fa-address-card"></i></h4>
                                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <div class="col-sm-12">
                                                                        <center><img src="/static/tt_website/images/guide/help/help_passenger.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                                    </div>
                                                                    <div>
                                                                        <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                                        <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                                        <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button" class="btn btn-default" data-dismiss="modal">{% trans 'Close' %}</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6">
                                                    <br/>
                                                    {% if forloop.counter <= 1 %} <label style="color:red">*</label>{%endif%}
                                                    <label>{% trans 'First name and middle name (if any)' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" style="margin-bottom:0px;" onchange="capitalizeInput('adult_first_name{{forloop.counter}}');" class="form-control" name="adult_first_name{{forloop.counter}}" id="adult_first_name{{forloop.counter}}" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                        <input type="hidden" class="form-control" name="adult_id{{forloop.counter}}" id="adult_id{{forloop.counter}}">
                                                    </div>
                                                    <span style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</span>
                                                </div>
                                                <div class="col-lg-6 mb-3">
                                                    <br/>
                                                    <label>{% trans 'Last name' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" style="margin-bottom:0px;" onchange="capitalizeInput('adult_last_name{{forloop.counter}}');" class="form-control" name="adult_last_name{{forloop.counter}}" id="adult_last_name{{forloop.counter}}" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                                    </div>
                                                    <span style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</span>
                                                </div>
                                                <div class="col-lg-6 mb-3">
                                                    {% if forloop.counter <= 1 %} <label style="color:red">*</label>{%endif%}
                                                    <label>{% trans 'Nationality' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <div class="form-select">
                                                            <select class="form-control js-example-basic-single" name="adult_nationality{{forloop.counter}}_id" style="width:100%;" id="adult_nationality{{forloop.counter}}_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('adult_nationality{{forloop.counter}}')" class="nice-select-default">
                                                                {% for country in countries %}
                                                                <option value="{{country.code}}" {% if country.code == guest_nationality %} selected {%endif%}>{{country.name}}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6">
                                                    {% if forloop.counter <= 1 %} <!--<label style="color:red">*</label>-->{%endif%}
                                                    <label>{% trans 'Birth Date' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" class="form-control date-picker-birth" style="background:white;" name="adult_birth_date{{forloop.counter}}" id="adult_birth_date{{forloop.counter}}" onchange="check_years_old({{forloop.counter}},'adult')" placeholder="{% trans 'Birth Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                                        <input type="hidden" class="form-control" name="adult_years_old{{forloop.counter}}" id="adult_years_old{{forloop.counter}}">
                                                        <button type="button" class="primary-delete-date" onclick="delete_birth_date('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                                    </div>
                                                </div>

                                                <div class="col-lg-12" id="adult_identity_div{{forloop.counter}}" style="display:block;">
                                                    <div class="row">
                                                        <div class="col-lg-12" id="adult_div_avatar_identity{{forloop.counter}}" hidden>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                            <label>Identity Photo</label><br/>
                                                            <button type="button" class="primary-btn-white" data-toggle="modal" data-target="#myModal_attachment_identity_adult{{forloop.counter}}">Upload Image <i class="fas fa-images"></i></button>
                                                            <!-- Modal -->
                                                            <div class="modal fade" id="myModal_attachment_identity_adult{{forloop.counter}}" data-keyboard="false">
                                                                <div class="modal-dialog">

                                                                    <!-- Modal content-->
                                                                    <div class="modal-content">
                                                                        <div class="modal-header">
                                                                            <h4 class="modal-title">Identity Photo</h4>
                                                                            <button type="button" class="close" onclick="$('#myModal_attachment_identity_adult{{forloop.counter}}').modal('hide');">×</button>
                                                                        </div>
                                                                        <div class="modal-body">

                                                                            Files: <input type="file" id="adult_files_attachment_identity{{forloop.counter}}" name="adult_files_attachment_identity{{forloop.counter}}" accept="image/*"><br>

                                                                            <div id="selectedFiles_adult_files_identity{{forloop.counter}}"></div>
                                                                            <div class="input-container-search-ticket">
                                                                                <input type="text" class="form-control o_website_form_input" id="adult_description_attachment_identity{{forloop.counter}}" name="adult_description_attachment_identity{{forloop.counter}}" placeholder="Description">
                                                                            </div>
                                                                            <div id="adult_attachment_identity{{forloop.counter}}">

                                                                            </div>
                                                                        </div>
                                                                        <div class="modal-footer">
                                                                            <button type="button" class="btn btn-default" onclick="$('#myModal_attachment_identity_adult{{forloop.counter}}').modal('hide');">Close</button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label style="color:white">*</label>
                                                            <label>{% trans 'ID Type' %}</label>
                                                            <label id="adult_identity_msg_error{{forloop.counter}}" style="color:red"></label>
                                                            <div class="input-container-search-ticket">
                                                                <div class="form-select-2" id="default-select">
                                                                    <select class="nice-select-default" id='adult_id_type{{forloop.counter}}' name='adult_id_type{{forloop.counter}}' onchange="change_identity_type(`adult_id_type{{forloop.counter}}`)">
                                                                        <option value="">Choose Identity Type</option>
                                                                        <option value="ktp">NIK</option>
                                                                        <option value="passport">Passport</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label id="adult_identity_number_required{{forloop.counter}}" style="color:{% if is_identity_required == True or is_need_valid_identity == True %}red{% else %}white{%endif%}">*</label>
                                                            <label>{% trans 'Identity Number' %}</label>
                                                            <div class="input-container-search-ticket">
                                                                <input type="text" class="form-control" name="adult_passport_number{{forloop.counter}}" id="adult_passport_number{{forloop.counter}}" placeholder="{% trans 'Identity Number' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Identity Number '">
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label id="adult_identity_expired_date_required{{forloop.counter}}" style="color:{% if is_identity_required == True or is_need_valid_identity == True %}red{% else %}white{%endif%}">*</label>
                                                            <label>{% trans 'Identity Expired Date' %}</label>
                                                            <div class="input-container-search-ticket">
                                                                <input type="text" class="form-control date-picker-passport" style="background:white;" name="adult_passport_expired_date{{forloop.counter}}" id="adult_passport_expired_date{{forloop.counter}}" placeholder="{% trans 'Lifetime' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Lifetime '" autocomplete="off" readonly >
                                                                <button type="button" class="primary-delete-date" onclick="delete_expired_date('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <label id="adult_country_of_issued_required{{forloop.counter}}" style="color:{% if is_identity_required == True or is_need_valid_identity == True %}red{% else %}white{%endif%}">*</label>
                                                            <label>{% trans 'Country of Issued' %}</label>
                                                            <div class="input-container-search-ticket">
                                                                <div class="form-select">
                                                                    <select class="form-control js-example-basic-single" name="adult_country_of_issued{{forloop.counter}}_id" style="width:100%;" id="adult_country_of_issued{{forloop.counter}}_id" placeholder="{% trans 'Country of Issued' %}" class="nice-select-default">
                                                                        <option value="">{% trans 'Country of Issued' %}</option>
                                                                        {% for country in countries %}
                                                                        <option value="{{country.code}}">{{country.name}}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                                <button type="button" class="primary-delete-date" onclick="delete_country_of_issued('adult', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-12 div_customer" style="color:{{color}};" onclick="show_hide_id_name_div('adult', '{{forloop.counter}}');">
                                                            <div class="row">
                                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                                    <span id="fill_adult_id_first_last_name{{forloop.counter}}" style="margin-left:5px;"><strong>For different name between identities</strong></span>
                                                                    <span style="margin-right:5px; display:none;" id="adult_down_id_name{{forloop.counter}}"><i class="fas fa-chevron-up" style="font-size:14px;"></i></span>
                                                                    <span style="margin-right:5px;" id="adult_up_id_name{{forloop.counter}}"><i class="fas fa-chevron-down" style="font-size:14px;"></i></span>
                                                                    <span id="adult_fill_id_name_help{{forloop.counter}}" style="color:{{text_color}}; cursor:pointer;"><i class="fas fa-question-circle" style="padding:0px 5px;font-size:16px;color:black;"></i></span>
                                                                </div>
                                                            </div>
                                                            <label class="adult_id_name{{forloop.counter}}" style="font-size:10px; color:red; display:none;">({% trans "This name will be used for booking" %})</label>
                                                        </div>
                                                        <div class="col-lg-6 adult_id_name{{forloop.counter}}" style="display:none;">
                                                            <label id="adult_identity_first_name_required{{forloop.counter}}" style="color:white">*</label>
                                                            <label>{% trans 'Identity First Name' %}</label>
                                                            <div class="input-container-search-ticket">
                                                                <input type="text" class="form-control" name="adult_identity_first_name{{forloop.counter}}" id="adult_identity_first_name{{forloop.counter}}" onchange="capitalizeInput('adult_identity_first_name{{forloop.counter}}');" placeholder="{% trans 'Identity First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Identity First Name '">
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6 adult_id_name{{forloop.counter}}" style="display:none;">
                                                            <label id="adult_identity_last_name_required{{forloop.counter}}" style="color:white">*</label>
                                                            <label>{% trans 'Identity Last Name' %}</label>
                                                            <div class="input-container-search-ticket">
                                                                <input type="text" class="form-control" name="adult_identity_last_name{{forloop.counter}}" id="adult_identity_last_name{{forloop.counter}}" onchange="capitalizeInput('adult_identity_last_name{{forloop.counter}}');" placeholder="{% trans 'Identity Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Identity Last Name '">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-lg-6" id="adult_cp_hidden1_{{forloop.counter}}" hidden>
                                                    <label style="color:red">*</label>
                                                    <label>{% trans 'Contact Email Address' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" class="form-control" name="adult_email{{forloop.counter}}" id="adult_email{{forloop.counter}}" placeholder="{% trans 'Email Address' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '">
                                                    </div>
                                                    <label style="font-size:12px; padding:0;">{% trans 'Example' %}: email@example.com</label>
                                                </div>
                                                <div class="col-lg-6" id="adult_cp_hidden2_{{forloop.counter}}" hidden>
                                                    <label style="color:red">*</label>
                                                    <label style="margin:0;">{% trans 'Contact Person for Urgent Situation' %}</label>
                                                    <label style="font-size:10px; color:red;">({% trans "Must be filled with contact person's mobile on first registration" %})</label>
                                                    <div class="row">
                                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-5">
                                                            <div class="input-container-search-ticket">
                                                                <div class="form-select">
                                                                    <select class="form-control js-example-basic-single" name="adult_phone_code{{forloop.counter}}_id" style="width:100%;" id="adult_phone_code{{forloop.counter}}_id" onchange="auto_complete('adult_phone_code{{forloop.counter}}')" class="nice-select-default">
                                                                        {% for phone in phone_code %}
                                                                        <option value="{{phone}}" {% if phone == 62%} selected {%endif%}>{{phone}}</option>
                                                                        {% endfor %}
                                                                    </select>
                                                                </div>
                                                                <input type="hidden" name="adult_phone_code{{forloop.counter}}" id="adult_phone_code{{forloop.counter}}" />
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-8 col-md-8 col-sm-8 col-xs-7">
                                                            <div class="input-container-search-ticket">
                                                                <input type="text" class="form-control" name="adult_phone{{forloop.counter}}" id="adult_phone{{forloop.counter}}" placeholder="Phone Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <label style="font-size:12px; padding:0;">{% trans 'Example' %}: 812345678</label>
                                                </div>

                                                <div class="col-lg-12">
                                                    <label style="color:white">*</label>
                                                    <label>{% trans 'Behaviors' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <textarea class="form-control" style="resize: none; height:150px;" id="adult_behaviors_{{forloop.counter}}" name="adult_behaviors_{{forloop.counter}}" placeholder="Solo Traveller:&#10;&#10;Group Traveller:&#10;" rows="6" cols="45"></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12" >
                                                    <label style="color:white">*</label>
                                                    <label>{% trans 'Description' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <textarea class="form-control" style="resize: none; height:100px;" id="adult_description_{{forloop.counter}}" name="adult_description_{{forloop.counter}}" placeholder="Description" rows="6" cols="45"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        {% endfor %}

                        {% for child in childs%}
                        <div class="row" id="child{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div class="form_customer">
                                <div class="row">
                                <div class="col-lg-12 div_customer" onclick="show_paxs_airline('child', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:left;">
                                            <h4><i class="fas fa-user"></i> {% trans 'Child' %} - {{forloop.counter}}</h4>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:right;">
                                            <span style="color:black; text-align:right; margin-right:5px; display:none;" id="child_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:black; text-align:right; margin-right:5px;" id="child_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="padding:15px; border-top:1px solid #cdcdcd; display:none;" id="child_paxs{{forloop.counter}}">
                                    <div class="row">
                                        <div class="col-lg-6" style="text-align:left;"></div>
                                        <div class="col-lg-6 mb-3" style="text-align:right;">
                                            {% if 'b2c_limitation' not in username.co_agent_frontend_security %}
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_child{{forloop.counter}}" data-backdrop="static" onclick="loadingPaxHide();set_passenger_number({{forloop.counter}});"> {% trans 'Search' %} <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="child_clear{{forloop.counter}}" onclick="clear_passenger('Child', {{forloop.counter}});" value="clear"> {% trans 'Clear' %} <i class="fas fa-times"></i></button>
                                            {% endif %}
                                        </div>
                                        <div class="modal fade" id="myModal_child{{forloop.counter}}" role="dialog">
                                            <div class="overlay_modal_custom" onclick="close_modal_check('child', '{{forloop.counter}}');"></div>
                                            <div class="modal-dialog modal_custom_fixed">
                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <div class="row">
                                                            <div class="col-xs-6 pb-3">
                                                                <h4 class="modal-title">{% trans 'Child' %} - {{forloop.counter}}</h4>
                                                            </div>
                                                            <div class="col-xs-6">
                                                                <button type="button" class="close modal_custom_close" data-dismiss="modal" onclick="close_modal_check('child', '{{forloop.counter}}');">&times;</button>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-xs-6" id="button_tl_child{{forloop.counter}}">

                                                            </div>
                                                            <div class="col-xs-6" id="button_tr_child{{forloop.counter}}">

                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="modal-body" style="text-align:left;">
                                                        <div class="row">
                                                            <div class="col-lg-12" id="date_child{{forloop.counter}}"></div>
                                                            <div class="col-lg-9 col-md-9">
                                                                <div class="row">
                                                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                                                        <div class="form-select-2">
                                                                            <select class="nice-select-default" id="train_child{{forloop.counter}}_search_type" name="train_child{{forloop.counter}}_search_type" onchange="search_type_on_change('child','{{forloop.counter}}','train_child{{forloop.counter}}_search_type','train_child{{forloop.counter}}_search');">
                                                                                <option value="cust_name">By Customer Name</option>
                                                                                <option value="seq_id">By Customer Sequence ID</option>
                                                                                <option value="mobile">By Customer Mobile</option>
                                                                                <option value="email">By Customer Mail</option>
                                                                                <option value="identity_type">By Customer Identity Number</option>
                                                                                <option value="birth_date">By Birth Date</option>
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                                                        <input class="form-control" type="text" id="train_child{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-3 col-md-3">
                                                                <button type="button" id="search_child_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('child',{{forloop.counter}}, 'hotel'); search_modal_pe_none();">{% trans 'Search' %}</button>
                                                            </div>
                                                        </div>
                                                        <!--<div class="row">-->
                                                            <!--<div class="col-lg-7 col-md-7 col-sm-7">-->
                                                                <!--<input class="form-control" type="text" id="train_child{{forloop.counter}}_search" placeholder="{% trans 'Search' %}"/>-->
                                                            <!--</div>-->
                                                            <!--<div class="col-lg-5 col-md-5 col-sm-5">-->
                                                                <!--<button type="button" id="search_child_{{forloop.counter}}" class="primary-btn" onclick="get_customer_list('child',{{forloop.counter}}, 'hotel')">{% trans 'Search' %}</button>-->
                                                            <!--</div>-->
                                                        <!--</div>-->
                                                        <div class="row">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <span><i class="fas fa-exclamation-triangle" style="font-size:18px; color:#ffcc00;"></i> {% trans "Using this means you can't change title, first name, and last name" %}</span><br/>
                                                            </div>
                                                        </div>
                                                        <div class="row loading-pax-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <br/>
                                                                <div style="text-align:center">
                                                                    <span style="font-size:18px; font-weight:bold;">{% trans 'PLEASE WAIT' %} </span><img src="{{static_path}}images/gif/search.gif" alt="Search" style="height:50px; width:50px;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result_child{{forloop.counter}}">

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-8">
                                            <label style="color:red">*</label>
                                            <label>{% trans 'Title' %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select-2">
                                                    <select id="child_title{{forloop.counter}}" name="child_title{{forloop.counter}}" class="nice-select-default">
                                                        {% for title in infant_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-4" style="margin-top:30px;">
                                            <button type="button" class="btn btn-secondary" style="width:42px;height:42px;" data-toggle="modal" data-target="#myModalHelp_child{{forloop.counter}}"><i class="fas fa-info-circle"></i></button>
                                            <div class="modal fade" id="myModalHelp_child{{forloop.counter}}" role="dialog">
                                                <div class="modal-dialog">

                                                    <!-- Modal content-->
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h4 class="modal-title">{% trans 'Help' %} <i class="fas fa-address-card"></i></h4>
                                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <div class="col-sm-12">
                                                                <center><img src="/static/tt_website/images/guide/help/help_passenger.png" alt="ID Card" style="width:100%; height:100%;"></center>
                                                            </div>
                                                            <div>
                                                                <p>{% trans '1. Please fill passenger name as written in your ID card, including characters such as "," or "." or foreign characters (i.e: Chinese/Japanese characters).' %}</p>
                                                                <p>{% trans '2. Maximum total characters for title, first name, and last name is 30. If your title, first name, and last name exceeds 30 characters, you can put only the first 30 characters.' %}</p>
                                                                <p>{% trans '3. Passenger last name cannot be more than 1 word and must contain at least 2 characters.' %}</p>
                                                            </div>
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-default" data-dismiss="modal">{% trans 'Close' %}</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label style="color:red">*</label>
                                            <label>{% trans 'First name and middle name (if any)' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="margin-bottom:0px;" onchange="capitalizeInput('child_first_name{{forloop.counter}}');" class="form-control" name="child_first_name{{forloop.counter}}" id="child_first_name{{forloop.counter}}" placeholder="{% trans 'First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="child_id{{forloop.counter}}" id="child_id{{forloop.counter}}">
                                            </div>
                                            <span style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</span>
                                        </div>
                                        <div class="col-lg-6 mb-3">
                                            <br/>
                                            <label>{% trans 'Last name' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" style="margin-bottom:0px;" onchange="capitalizeInput('child_last_name{{forloop.counter}}');" class="form-control" name="child_last_name{{forloop.counter}}" id="child_last_name{{forloop.counter}}" placeholder="{% trans 'Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <span style="font-size:12px; padding:0;">{% trans 'As on Identity Card or Passport without title and punctuation' %}</span>
                                        </div>
                                        <div class="col-lg-6 mb-3">
                                            <label style="color:red">*</label>
                                            <label>{% trans 'Nationality' %}</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select class="form-control js-example-basic-single" name="child_nationality{{forloop.counter}}_id" style="width:100%;" id="child_nationality{{forloop.counter}}_id" placeholder="{% trans 'Nationality' %}" onchange="auto_complete('child_nationality{{forloop.counter}}')" class="nice-select-default">
                                                        {% for country in countries %}
                                                        <option value="{{country.code}}" {% if country.code == guest_nationality %} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 mb-3">
                                            <label style="color:red">*</label>
                                            <label>{% trans 'Birth Date' %}</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control date-picker-birth" style="background:white;" name="child_birth_date{{forloop.counter}}" id="child_birth_date{{forloop.counter}}" onchange="check_years_old({{forloop.counter}},'child')" placeholder="{% trans 'Birth Date' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off" readonly>
                                                <input type="hidden" class="form-control" name="child_years_old{{forloop.counter}}" id="child_years_old{{forloop.counter}}">
                                            </div>
                                        </div>

                                        <div class="col-lg-12" id="child_identity_div{{forloop.counter}}" style="display:block;">
                                            <div class="row">
                                                <div class="col-lg-12" id="child_div_avatar_identity{{forloop.counter}}" hidden>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                    <label>Identity Photo</label><br/>
                                                    <button type="button" class="primary-btn-white" data-toggle="modal" data-target="#myModal_attachment_identity_child{{forloop.counter}}">Upload Image <i class="fas fa-images"></i></button>
                                                    <!-- Modal -->
                                                    <div class="modal fade" id="myModal_attachment_identity_child{{forloop.counter}}" data-keyboard="false">
                                                        <div class="modal-dialog">

                                                            <!-- Modal content-->
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h4 class="modal-title">Identity Photo</h4>
                                                                    <button type="button" class="close" onclick="$('#myModal_attachment_identity_child{{forloop.counter}}').modal('hide');">×</button>
                                                                </div>
                                                                <div class="modal-body">

                                                                    Files: <input type="file" id="child_files_attachment_identity{{forloop.counter}}" name="child_files_attachment_identity{{forloop.counter}}" accept="image/*"><br>

                                                                    <div id="selectedFiles_child_files_identity{{forloop.counter}}"></div>
                                                                    <div class="input-container-search-ticket">
                                                                        <input type="text" class="form-control o_website_form_input" id="child_description_attachment_identity{{forloop.counter}}" name="child_description_attachment_identity{{forloop.counter}}" placeholder="Description">
                                                                    </div>
                                                                    <div id="child_attachment_identity{{forloop.counter}}">

                                                                    </div>
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button" class="btn btn-default" onclick="$('#myModal_attachment_identity_child{{forloop.counter}}').modal('hide');">Close</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                </div>
                                                <div class="col-lg-6">
                                                    <label style="color:white">*</label>
                                                    <label>{% trans 'ID Type' %}</label>
                                                    <label id="child_identity_msg_error{{forloop.counter}}" style="color:red"></label>
                                                    <div class="input-container-search-ticket">
                                                        <div class="form-select-2" id="default-select">
                                                            <select class="nice-select-default" id='child_id_type{{forloop.counter}}' name='child_id_type{{forloop.counter}}' onchange="change_identity_type(`child_id_type{{forloop.counter}}`)">
                                                                <option value="">Choose Identity Type</option>
                                                                <option value="ktp">NIK</option>
                                                                <option value="passport">Passport</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6">
                                                    <label id="child_identity_number_required{{forloop.counter}}" style="color:{% if is_identity_required == True or is_need_valid_identity == True %}red{% else %}white{%endif%}">*</label>
                                                    <label>{% trans 'Identity Number' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" class="form-control" name="child_passport_number{{forloop.counter}}" id="child_passport_number{{forloop.counter}}" placeholder="{% trans 'Identity Number' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Identity Number '">
                                                    </div>
                                                </div>
                                                <div class="col-lg-6">
                                                    <label id="child_identity_expired_date_required{{forloop.counter}}" style="color:{% if is_identity_required == True or is_need_valid_identity == True %}red{% else %}white{%endif%}">*</label>
                                                    <label>{% trans 'Identity Expired Date' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" class="form-control date-picker-passport" style="background:white;" name="child_passport_expired_date{{forloop.counter}}" id="child_passport_expired_date{{forloop.counter}}" placeholder="{% trans 'Lifetime' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Lifetime '" autocomplete="off" readonly >
                                                        <button type="button" class="primary-delete-date" onclick="delete_expired_date('child', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6">
                                                    <label id="child_country_of_issued_required{{forloop.counter}}" style="color:{% if is_identity_required == True or is_need_valid_identity == True %}red{% else %}white{%endif%}">*</label>
                                                    <label>{% trans 'Country of Issued' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <div class="form-select">
                                                            <select class="form-control js-example-basic-single" name="child_country_of_issued{{forloop.counter}}_id" style="width:100%;" id="child_country_of_issued{{forloop.counter}}_id" placeholder="{% trans 'Country of Issued' %}" class="nice-select-default">
                                                                <option value="">{% trans 'Country of Issued' %}</option>
                                                                {% for country in countries %}
                                                                <option value="{{country.code}}">{{country.name}}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </div>
                                                        <button type="button" class="primary-delete-date" onclick="delete_country_of_issued('child', {{forloop.counter}})"><i class="fa fa-trash-alt" style="color:#E92B2B;font-size:20px;"></i></button>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 div_customer" style="color:{{color}};" onclick="show_hide_id_name_div('child', '{{forloop.counter}}');">
                                                    <div class="row">
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                            <span id="fill_child_id_first_last_name{{forloop.counter}}" style="margin-left:5px;"><strong>For different name between identities</strong></span>
                                                            <span style="margin-right:5px; display:none;" id="child_down_id_name{{forloop.counter}}"><i class="fas fa-chevron-up" style="font-size:14px;"></i></span>
                                                            <span style="margin-right:5px;" id="child_up_id_name{{forloop.counter}}"><i class="fas fa-chevron-down" style="font-size:14px;"></i></span>
                                                            <span id="child_fill_id_name_help{{forloop.counter}}" style="color:{{text_color}}; cursor:pointer;"><i class="fas fa-question-circle" style="padding:0px 5px;font-size:16px;color:black;"></i></span>
                                                        </div>
                                                    </div>
                                                    <label class="child_id_name{{forloop.counter}}" style="font-size:10px; color:red; display:none;">({% trans "This name will be used for booking" %})</label>
                                                </div>
                                                <div class="col-lg-6 child_id_name{{forloop.counter}}" style="display:none;">
                                                    <label id="child_identity_first_name_required{{forloop.counter}}" style="color:white">*</label>
                                                    <label>{% trans 'Identity First Name' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" class="form-control" name="child_identity_first_name{{forloop.counter}}" id="child_identity_first_name{{forloop.counter}}" onchange="capitalizeInput('child_identity_first_name{{forloop.counter}}');" placeholder="{% trans 'Identity First Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Identity First Name '">
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 child_id_name{{forloop.counter}}" style="display:none;">
                                                    <label id="child_identity_last_name_required{{forloop.counter}}" style="color:white">*</label>
                                                    <label>{% trans 'Identity Last Name' %}</label>
                                                    <div class="input-container-search-ticket">
                                                        <input type="text" class="form-control" name="child_identity_last_name{{forloop.counter}}" id="child_identity_last_name{{forloop.counter}}" onchange="capitalizeInput('child_identity_last_name{{forloop.counter}}');" placeholder="{% trans 'Identity Last Name' %} " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Identity Last Name '">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-lg-12" >
                                            <label style="color:white">*</label>
                                            <label>{% trans 'Behaviors' %}</label>
                                            <div class="input-container-search-ticket">
                                                <textarea class="form-control" style="resize: none; height:150px;" id="child_behaviors_{{forloop.counter}}" name="child_behaviors_{{forloop.counter}}" placeholder="Solo Traveller:&#10;&#10;Group Traveller:&#10;" rows="6" cols="45"></textarea>
                                            </div>
                                        </div>
                                        <div class="col-lg-12" >
                                            <label style="color:white">*</label>
                                            <label>{% trans 'Description' %}</label>
                                            <div class="input-container-search-ticket">
                                                <textarea class="form-control" style="resize: none; height:100px;" id="child_description_{{forloop.counter}}" name="child_description_{{forloop.counter}}" placeholder="Description" rows="6" cols="45"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            </div>
                            </div>
                        </div>
                        <br/>
                        {% endfor %}
                    </div>
                    <div class="col-lg-4" style="margin-top:10px;">
                        <div class="div_box_default mb-3">
                            <input type="hidden" value="{{response.name}}" id="get_name_hotel"/>
                            <h4>{{response.name}}</h4>
                            <span class="rating_hotel" id="rating_hotel" hidden>{{response.rating}}</span>
                            <span id="rating_span_hotel">

                            </span><br/>
                            <i class="fas fa-map-marker-alt" style="color:{{color}};"></i>
                            <span class="address_hotel" id="address_hotel"></span><br/>
                            <span id="date_hotel"><i class="fas fa-calendar-alt"></i> {{hotel_search.checkin_date}} - {{hotel_search.checkout_date}}</span>
                            <h6><i class="fas fa-exclamation-circle"></i> Cancellation Policy</h6>
                            <div id="cancellation_policy">

                            </div>
                        </div>
                        <div class="div_box_default">
                            <div class="row">
                                <div class="col-lg-12 mb-3" style="border-bottom:1px solid #cdcdcd;">
                                    <h4 class="mb-3">{% trans 'Special Request' %}</h4>
                                </div>
                            </div>
                            {% for room in rooms %}
                            {% if not forloop.first %}
                            <hr/>
                            {% endif %}
                            <h5 class="mb-1"><i class="fas fa-bed" style="font-size:14px"></i> {% trans 'Room' %} #{{room}}</h5>
                            <div class="row">
                                <div class="col-lg-12">
                                    <label class="check_box_custom">
                                        <span style="font-size:13px;">Non-Smoking</span>
                                        <input type="checkbox" onclick="auto_update_special_request('special_request_{{room}}', 'Non-Smoking');" />
                                        <span class="check_box_span_custom"></span>
                                    </label>
                                </div>
                                <div class="col-lg-12" {% if hotel_search.room == 1%} hidden {% endif %}>
                                    <label class="check_box_custom">
                                        <span style="font-size:13px;">Connecting Rooms</span>
                                        <input type="checkbox" onclick="auto_update_special_request('special_request_{{room}}', 'Connecting Room');" />
                                        <span class="check_box_span_custom"></span>
                                    </label>
                                </div>
                                <div class="col-lg-12">
                                    <label class="check_box_custom">
                                        <span style="font-size:13px;">High Floor</span>
                                        <input type="checkbox" onclick="auto_update_special_request('special_request_{{room}}', 'High Floor');" />
                                        <span class="check_box_span_custom"></span>
                                    </label>
                                </div>
                                <div class="col-lg-12">
                                    <label class="check_box_custom">
                                        <span style="font-size:13px;">Bed Type</span>
                                        <input type="checkbox" id="bed_type_{{room}}" onclick="update_special_request_show_text('bed_type_{{room}}');" />
                                        <span class="check_box_span_custom"></span>
                                    </label>
                                    <div class="row" id="bed_type_request_{{room}}" hidden>
                                        <div class="col-lg-6">
                                            <label class="radio-button-custom">
                                                <span style="font-size:14px; font-weight:500;">TWIN BED<br></span>
                                                <input type="radio" name="radio_bed_type_{{room}}" value="TWIN BED" onclick="">
                                                <span class="checkmark-radio"></span>
                                            </label>
                                        </div>
                                        <div class="col-lg-6">
                                            <label class="radio-button-custom">
                                                <span style="font-size:14px; font-weight:500;">DOUBLE / KING BED<br></span>
                                                <input type="radio" name="radio_bed_type_{{room}}" value="DOUBLE / KING BED" onclick="">
                                                <span class="checkmark-radio"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12">
                                    <label class="check_box_custom">
                                        <span style="font-size:13px;">Other</span>
                                        <input type="checkbox" id="other_{{room}}" onclick="update_special_request_show_text('other_{{room}}');" />
                                        <span class="check_box_span_custom"></span>
                                    </label>
                                    <textarea hidden rows="3" cols="50" class="form-control" style="font-size:13px; border-radius:unset; resize: none;" type="text" id="other_request_{{room}}"></textarea>
                                </div>
                            </div>
                            <textarea hidden rows="2" cols="50" class="form-control" style="font-size:13px; border-radius:unset; resize: none;" type="text" id="special_request_{{room}}" name="special_request_{{room}}"></textarea>
                            {% endfor %}
                            <hr/>
                            <h6>{% trans 'Early' %}/{% trans 'Late' %} {% trans 'Check-In' %}:</h6>
                            <textarea rows="1" cols="50" class="form-control" style="height:70px; font-size:13px; border-radius:unset; resize: none;" type="text" id="late_ci" name="late_ci"></textarea>
                            <h6>{% trans 'Late' %} {% trans 'Check-Out' %}:</h6>
                            <textarea rows="1" cols="50" class="form-control" style="height:70px; font-size:13px; border-radius:unset; resize: none;" type="text" id="late_co" name="late_co"></textarea>
                            <span style="color:red;">* </span><b><span>This request is subject to AVAILIBILITY and may not be guaranteed</span></b>
                        </div>

                        <br/>
                        <div id="div_name_room">

                        </div>
                        <div class="div_box_default" id="hotel_detail">

                        </div>
                        <textarea id="data_copy2" name="data_copy2" rows="4" hidden></textarea>
                    </div>

                    <div class="col-lg-8" style="margin-top:15px;">
                        <div class="row">
                            <div class="modal fade" id="myModalErrorPassenger" role="dialog">
                                <div class="modal-dialog">
                                    <!-- Modal content-->
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h4 class="modal-title"><i class="fas fa-search-minus"></i> {% trans 'Oops! Please check your details' %} </i></h4>
                                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <div class="col-lg-12">
                                                    <div style="max-height:300px; overflow-y:auto;">
                                                        <h5><i class="fas fa-times-circle" style="color:red; font-size:24px;"></i> {% trans 'We found a mistake in your data.' %}</h5>
                                                        <br/>
                                                        <span id="show_error_log" style="font-size:15px;">

                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="primary-btn" data-dismiss="modal">OK</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4"></div>
                            <div class="col-lg-4"></div>
                            <div class="col-lg-4">
                                <button class="btn-next primary-btn next-passenger-hotel ld-ext-right" style="width:100%;" type="button" value="Next" onclick="next_disabled();check_passenger({{adult_count}}, {{child_count}}, {{room_qty}});">
                                    {% trans 'Next' %}
                                    <div class="ld ld-ring ld-cycle"></div>
                                </button>
                                <textarea id="data_copy" name="data_copy" rows="4" hidden></textarea>
                            </div>
                        </div>
                    </div>
                    <input type="hidden" id="time_limit_input" value="{{time_limit}}" name="time_limit_input" />
                </div>
            </form>
        </div>
    </div>
</section>

{% include 'tt_website/footer.html' %}

<script>
    address = '';
    address_detail = '';
    {% if response.location.address != False %}
    address += `{{response.location.address}}`;
    {% endif %}

    {% if response.location.city and response.location.city != False and response.location.city != '' %}
    if(address_detail != '')
        address_detail += ', ';
    address_detail += `{{response.location.city}}`;
    {% endif %}

    {% if response.location.state and response.location.state != False and response.location.state != '' %}
    if(address_detail != '')
        address_detail += ', ';
    address_detail += `{{response.location.state}}`;
    {% endif %}

    {% if response.location.district and response.location.district != False and response.location.district != '' %}
    if(address_detail != '')
        address_detail += ', ';
    address_detail += `{{response.location.district}}`;
    {% endif %}

    {% if response.location.zipcode and response.location.zipcode != False and response.location.zipcode != '' %}
    if(address_detail != '')
        address_detail += ', ';
    address_detail += `{{response.location.zipcode}}`;
    {% endif %}

    document.getElementById('address_hotel').innerHTML = address + '<br/>' + address_detail;
    get_agent_currency_rate();
    $( document ).ready(function() {
        hotel_passenger_page();
        hotel_get_cancellation_policy('{{hotel_room_detail_pick.price_code}}', '{{hotel_room_detail_pick.provider}}', '1')

        rating_htl = {{response.rating}};
        for (let iho = 0; iho < rating_htl; iho++) {
            document.getElementById('rating_span_hotel').innerHTML += `<i class="fas fa-star" style="color:#FFC44D;"></i>`;
        }

        breadcrumb_create("hotel", 4, 0);
        $('.js-example-basic-single').niceSelect('destroy');
        $('.js-example-basic-single').select2();
        //auto_complete('booker_nationality');
        //auto_complete('booker_phone_code');
        {% for adult in adults%}

            //auto_complete('adult_country_of_issued{{forloop.counter}}');
            auto_complete('adult_phone_code{{forloop.counter}}');
        {% endfor %}
        {% for child in childs%}

            //auto_complete('child_country_of_issued{{forloop.counter}}');
        {% endfor %}
    });

    $(function() {
        for (var i = 1; i <= adult; i++){
            document.addEventListener("DOMContentLoaded", init_upload('adult',i), false);
            document.getElementById("train_adult"+i+"_search").addEventListener("keyup", function(event) {
                if (event.keyCode === 13) {
                    event.preventDefault();
                    var adult_enter = "search_adult_"+event.target.id.toString().replace(/[^\d.]/g, '');
                    document.getElementById(adult_enter).click();
                }
            });

            $('input[name="adult_birth_date'+i+'"]').daterangepicker({
                singleDatePicker: true,
                autoUpdateInput: true,
                startDate: moment().subtract(18, 'years'),
                minDate: moment().subtract(100, 'years'),
                maxDate: moment().subtract(13, 'years'),
                showDropdowns: true,
                opens: 'center',
                locale: {
                    format: 'DD MMM YYYY',
                }
            });
            $('input[name="adult_birth_date'+i+'"]').val("");

            $('input[name="adult_passport_expired_date'+i+'"]').daterangepicker({
                singleDatePicker: true,
                autoUpdateInput: true,
                startDate: moment().subtract(-1,'years'),
                minDate: moment().subtract(-1, 'days'),
                showDropdowns: true,
                opens: 'center',
                locale: {
                    format: 'DD MMM YYYY',
                }
            });
            $('input[name="adult_passport_expired_date'+i+'"]').val("");

        }

        for (var i = 1; i <= child; i++){
            document.addEventListener("DOMContentLoaded", init_upload('child','{{forloop.counter}}'), false);
            document.getElementById("train_child"+i+"_search").addEventListener("keyup", function(event) {
                if (event.keyCode === 13) {
                    event.preventDefault();
                    var child_enter = "search_child_"+event.target.id.toString().replace(/[^\d.]/g, '');
                    document.getElementById(child_enter).click();
                }
            });

            $('input[name="child_birth_date'+i+'"]').daterangepicker({
                singleDatePicker: true,
                autoUpdateInput: true,
                startDate: moment().subtract(5, 'years'),
                minDate: moment().subtract(12, 'years').subtract(365, 'days'),
                maxDate: moment(),
                showDropdowns: true,
                opens: 'center',
                locale: {
                    format: 'DD MMM YYYY',
                }
            });
            $('input[name="child_birth_date'+i+'"]').val("");
        }
    });
    {% if username.co_customer_seq_id %}
        setTimeout(() => {
            get_automatic_booker('{{username.co_customer_seq_id}}');
        }, 500);
    {% endif %}
    {% if username.co_passenger_seq_id %}
        setTimeout(() => {
        {% for key, value in username.co_passenger_seq_id.items %}
            {% for pax in value %}
                setTimeout(() => {
                    get_automatic_passenger('{{username.co_customer_seq_id}}', '{{key}}', '{{forloop.counter}}', 'activity');
                }, 1000);
            {% endfor %}
        {% endfor %}
        }, 1000);
    {% endif %}
</script>
{% include 'tt_website/plugin_passenger.html' %}
{% endblock %}
