{% extends 'tt_website_skytors/template_website_booking.html' %}
{% load i18n %}
{% load static from staticfiles %}
{% block content %}
<!--<script src="{{ static_path }}js/webservice_token.js"></script>-->
<script src="{{ static_path }}vendor/jquery/jquery-3.2.1.min.js"></script>
<script src="{{ static_path }}js/webservice_token.js"></script>
<script src="{{ static_path }}js/webservice_agent.js"></script>
<script src="{{ static_path }}js/tour_javascript.js"></script>
<script src="{{ static_path }}js/webservice_tour.js"></script>
<script src="{{ static_path }}js/moment.js"></script>
<script>
    function check_years_old(room_seq, sequence, type){
        var birth_date = '';
        console.log(document.getElementById('room'+room_seq+'_adult_birth_date'+sequence).value);
        if(type =='adult')
            birth_date = moment(document.getElementById('room'+room_seq+'_adult_birth_date'+sequence).value, 'DD MMM YYYY');
        if(type =='infant')
            birth_date = moment(document.getElementById('room'+room_seq+'_infant_birth_date'+sequence).value, 'DD MMM YYYY');
        if(type =='senior')
            birth_date = moment(document.getElementById('room'+room_seq+'_senior_birth_date'+sequence).value, 'DD MMM YYYY');
        if(type =='child')
            birth_date = moment(document.getElementById('room'+room_seq+'_child_birth_date'+sequence).value, 'DD MMM YYYY');

        document.getElementById('room'+room_seq+'_adult_years_old'+sequence).value = parseInt(Math.abs(moment(new Date()) - birth_date)/31536000000);

    }

    adult = {{price_itinerary.adult_total_pax}};
    child = {{price_itinerary.child_total_pax}};
    infant = {{price_itinerary.infant_amount}};

    document.getElementById('username').innerHTML = '{{username}}';
    document.getElementById("balance").innerHTML = 'Balance: Rp '+getrupiah({{balance}});
</script>

<div class="destinations-area" style="padding-top:30px; padding-bottom:40px;">
    <div class="container">
        <div class="row">
            <div class="col-lg-12" style="margin-top:10px;">
                <div class="breadcrumb-ticket" style="text-align:center;">
                    <a href="#" class="active"> Home <i class="fas fa-home"></i></a>
                    <a href="#" class="active"> Search <i class="fas fa-search"></i></a>
                    <a href="#" class="active"> Booker & Passenger <i class="fas fa-users"></i></a>
                    <a href="#" style="pointer-events: none;"> Review <i class="fas fa-info-circle"></i></a>
                    <a href="#" style="pointer-events: none;"> Booking <i class="fas fa-book-open"></i></a>
                    <a href="#" style="pointer-events: none;"> Issued <i class="fas fa-check-circle"></i></a>
                </div>
            </div>
        </div>
        <div class="banner-right">
            <form id="tour_review" class="form-wrap" action="{% url 'tt_website_skytors:tour_review'%}" method="POST" style="padding:0; text-align:unset;" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" id="additional_price" name="additional_price">
                <div class="row">
                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12" style="margin-top:10px;">
                        <div class="row">
                            <div class="col-lg-12">
                                <div style="background-color:#f15a22; padding:5px;">
                                    <center>
                                        <span style="color:white; font-size:16px;">Booker Information <i class="fas fa-info-circle"></i></span>
                                    </center>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div id="booker" style="background-color:white; padding:10px; border:1px solid #f15a22;">
                                    <div class="row">
                                        <div class="col-lg-6" style="text-align:left;">
                                            <label>Booker Type :</label>
                                            <label class="radio-button-custom">
                                                Corporate
                                                <input type="radio" checked="checked" name="radio-booker-type">
                                                <span class="checkmark-radio"></span>
                                            </label>
                                            <label class="radio-button-custom">
                                                Individual
                                                <input type="radio" name="radio-booker-type">
                                                <span class="checkmark-radio"></span>
                                            </label>
                                        </div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal" onclick="loadingPaxHide();"> Search <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="booker_clear" onclick="clear_passenger('Booker', 0);" value="clear"> Clear <i class="fas fa-times"></i></button>
                                        </div>

                                        <div class="modal fade" id="myModal" role="dialog">
                                            <div class="modal-dialog">

                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:white;">Booker List <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <input type="text" id="train_booker_search" placeholder="Search" style="padding:5px;" />
                                                        <button type="button" class="primary-btn" style="line-height:34px;" class="btn btn-default" onclick="search_passenger('Booker','1','tour')">Search <i class="fas fa-search"></i></button>
                                                        <div class="row" id="loading-booker-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <div class="sk-circle">
                                                                    <div class="sk-circle1 sk-child"></div>
                                                                    <div class="sk-circle2 sk-child"></div>
                                                                    <div class="sk-circle3 sk-child"></div>
                                                                    <div class="sk-circle4 sk-child"></div>
                                                                    <div class="sk-circle5 sk-child"></div>
                                                                    <div class="sk-circle6 sk-child"></div>
                                                                    <div class="sk-circle7 sk-child"></div>
                                                                    <div class="sk-circle8 sk-child"></div>
                                                                    <div class="sk-circle9 sk-child"></div>
                                                                    <div class="sk-circle10 sk-child"></div>
                                                                    <div class="sk-circle11 sk-child"></div>
                                                                    <div class="sk-circle12 sk-child"></div>
                                                                </div>
                                                                <div style="text-align:center"><h6>PLEASE WAIT</h6></div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result" style="overflow:auto;height:300px;margin-top:20px;">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-lg-6 col-xs-6">
                                            <label>Title</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select-2" id="default-select">
                                                    <select id="booker_title" name="booker_title">
                                                        {% for title in adult_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6"></div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>First name and middle name (if any)</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="booker_first_name" id="booker_first_name" placeholder="First Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Last name</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="booker_last_name" id="booker_last_name" placeholder="Last Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <label>Nationality</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id="booker_nationality" name="booker_nationality">
                                                        {% for country in countries%}
                                                        <option value="{{country.code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="col-lg-6">
                                            <label>Contact Email Address</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="booker_email" id="booker_email" placeholder="Email Address " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">Example: email@example.com</label>
                                        </div>

                                        <div class="col-lg-6">
                                            <label style="margin:0;">Contact Person for Urgent Situation</label>
                                            <label style="font-size:10px; color:red;">(Must be filled with booker's mobile on first registration)</label>
                                            <div class="input-container-search-ticket">
                                                <div class="row">
                                                    <div class="col-lg-3">
                                                        <div class="form-select">
                                                            <select id="booker_phone_code" name="booker_phone_code">
                                                                {% for country in countries%}
                                                                <option value="{{country.phone_code}}">{{country.phone_code}}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-9">
                                                        <input type="text" class="form-control" name="booker_phone" id="booker_phone" placeholder="Phone Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '">
                                                        <input type="hidden" class="form-control" name="booker_id" id="booker_id">
                                                    </div>
                                                </div>
                                            </div>
                                            <label style="font-size:12px; padding:0;">Example: +62812345678</label>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        <div class="row" style="margin-bottom:20px;">
                            <div class="col-lg-12">
                                <div style="background:white; padding:10px; border:1px solid #f15a22;">
                                    <label>Do you book this trip for you?</label>
                                    <label class="radio-button-custom">
                                        Yes
                                        <input type="radio" name="myRadios" onclick="copy_booker_to_passenger_tour('copy');" value="yes"/>
                                        <span class="checkmark-radio"></span>
                                    </label>

                                    <label class="radio-button-custom">
                                        No
                                        <input type="radio" name="myRadios" onclick="copy_booker_to_passenger_tour('change');" value="no" checked="checked"/>
                                        <span class="checkmark-radio"></span>
                                    </label>

                                    <br/>
                                    <label>Passenger Data</label><br/>
                                    <ul>
                                        <li>1. Caution: the name of the passenger must be right and appropriate with international passsport, and domestic route can match with KTP/Passport/SIM</li>
                                        <li>2. Passenger data can't be changed after the passing of this page</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        {% for room in room_list%}
                        <input type="hidden" id="adult_amount_room_{{forloop.counter}}" value="{{room.adult}}"/>
                        <input type="hidden" id="child_amount_room_{{forloop.counter}}" value="{{room.child}}"/>
                        <input type="hidden" id="infant_amount_room_{{forloop.counter}}" value="{{room.infant}}"/>
                        {% for adult in room.adult_obj %}
                        <div class="row" id="room{{forloop.parentloop.counter}}_adult{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div style="background-color:#f15a22; padding:5px; cursor: pointer;" onclick="show_paxs_tour('{{room_amount}}','adult', '{{forloop.parentloop.counter}}', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"></div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:center;">
                                            <span style="color:white; text-align:center; font-size:16px;">Room {{forloop.parentloop.counter}} {{room.name}} {{room.bed_type}} - Adult {{forloop.counter}} <i class="fas fa-info-circle"></i></span>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3" style="text-align:right;">
                                            <span style="color:white; text-align:right; margin-right:5px; {% if forloop.counter != 1 or forloop.parentloop.counter != 1%} display:none; {% endif %}" id="room{{forloop.parentloop.counter}}_adult_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:white; text-align:right; margin-right:5px; {% if forloop.counter == 1 and forloop.parentloop.counter == 1%} display:none; {% endif %}" id="room{{forloop.parentloop.counter}}_adult_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid #f15a22; {% if forloop.counter != 1 or forloop.parentloop.counter != 1%} display:none; {% endif %}" id="room{{forloop.parentloop.counter}}_adult_paxs{{forloop.counter}}">
                                    <div class="row">
                                        <div class="col-lg-6" style="text-align:left;"></div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_room{{forloop.parentloop.counter}}_adult{{forloop.counter}}" onclick="loadingPaxHide();"> Search <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="room{{forloop.parentloop.counter}}_adult_clear{{forloop.counter}}" onclick="clear_passenger_tour('Adult', {{forloop.parentloop.counter}}, {{forloop.counter}});" value="clear"> Clear <i class="fas fa-times"></i></button>
                                        </div>
                                        <div class="modal fade" id="myModal_room{{forloop.parentloop.counter}}_adult{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">
                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:white;">Room {{forloop.parentloop.counter}} {{room.name}} {{room.bed_type}} - Adult {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <input type="text" id="train_room{{forloop.parentloop.counter}}_adult{{forloop.counter}}_search" placeholder="Search" style="padding:5px;"/>
                                                        <button type="button" class="primary-btn" style="line-height:34px;" onclick="search_passenger_tour('Adult', {{forloop.parentloop.counter}},{{forloop.counter}}, 'tour')">Search</button>
                                                        <div class="row" id="loading-pax-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <div class="sk-circle">
                                                                    <div class="sk-circle1 sk-child"></div>
                                                                    <div class="sk-circle2 sk-child"></div>
                                                                    <div class="sk-circle3 sk-child"></div>
                                                                    <div class="sk-circle4 sk-child"></div>
                                                                    <div class="sk-circle5 sk-child"></div>
                                                                    <div class="sk-circle6 sk-child"></div>
                                                                    <div class="sk-circle7 sk-child"></div>
                                                                    <div class="sk-circle8 sk-child"></div>
                                                                    <div class="sk-circle9 sk-child"></div>
                                                                    <div class="sk-circle10 sk-child"></div>
                                                                    <div class="sk-circle11 sk-child"></div>
                                                                    <div class="sk-circle12 sk-child"></div>
                                                                </div>
                                                                <div style="text-align:center"><h6>PLEASE WAIT</h6></div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result_room{{forloop.parentloop.counter}}_adult{{forloop.counter}}" style="overflow:auto;height:300px;">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6">
                                            <label>Title</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select-2">
                                                    <select id="room{{forloop.parentloop.counter}}_adult_title{{forloop.counter}}" name="room{{forloop.parentloop.counter}}_adult_title{{forloop.counter}}">
                                                        {% for title in adult_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <input type="checkbox" id="room{{forloop.parentloop.counter}}_adult_cp{{forloop.counter}}" name="room{{forloop.parentloop.counter}}_adult_cp{{forloop.counter}}" onclick="update_contact({{forloop.parentloop.counter}}, {{forloop.counter}})" /><span>Make this to Contact Person</span>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>First name and middle name (if any)</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="room{{forloop.parentloop.counter}}_adult_first_name{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_adult_first_name{{forloop.counter}}" placeholder="First Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="room{{forloop.parentloop.counter}}_adult_id{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_adult_id{{forloop.counter}}">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Last name</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="room{{forloop.parentloop.counter}}_adult_last_name{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_adult_last_name{{forloop.counter}}" placeholder="Last Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Nationality</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id="room{{forloop.parentloop.counter}}_adult_nationality{{forloop.counter}}" name="room{{forloop.parentloop.counter}}_adult_nationality{{forloop.counter}}">
                                                        {% for country in countries%}
                                                        <option value="{{country.code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Birth Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control date-picker-birth" name="room{{forloop.parentloop.counter}}_adult_birth_date{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_adult_birth_date{{forloop.counter}}" onchange="check_years_old({{forloop.parentloop.counter}},{{forloop.counter}})" placeholder="Birth Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off">
                                                <input type="hidden" class="form-control" name="room{{forloop.parentloop.counter}}_adult_years_old{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_adult_years_old{{forloop.counter}}">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Number</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="room{{forloop.parentloop.counter}}_adult_passport_number{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_adult_passport_number{{forloop.counter}}" placeholder="Passport Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Number '">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Expired Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control date-picker-passport" name="room{{forloop.parentloop.counter}}_adult_passport_expired_date{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_adult_passport_expired_date{{forloop.counter}}" placeholder="Passport Expired Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Expired Date '" autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Country of Issued</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id="room{{forloop.parentloop.counter}}_adult_country_of_issued{{forloop.counter}}" name="room{{forloop.parentloop.counter}}_adult_country_of_issued{{forloop.counter}}">
                                                        <option value="">Select Country</option>
                                                        {% for country in countries%}
                                                        <option value="{{country.code}}">{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6" id="room{{forloop.parentloop.counter}}_adult_cp_hidden1_{{forloop.counter}}" hidden>
                                            <label>Contact Email Address</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="room{{forloop.parentloop.counter}}_adult_email{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_adult_email{{forloop.counter}}" placeholder="Email Address " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">Example: email@example.com</label>
                                        </div>
                                        <div class="col-lg-6" id="room{{forloop.parentloop.counter}}_adult_cp_hidden2_{{forloop.counter}}" hidden>
                                            <label style="margin:0;">Contact Person for Urgent Situation</label>
                                            <label style="font-size:10px; color:red;">(Must be filled with booker's mobile on first registration)</label>
                                            <div class="input-container-search-ticket">
                                                <div class="row">
                                                    <div class="col-lg-3">
                                                        <div class="form-select">
                                                            <select id="room{{forloop.parentloop.counter}}_adult_phone_code{{forloop.counter}}" name="room{{forloop.parentloop.counter}}_adult_phone_code{{forloop.counter}}">
                                                                {% for country in countries%}
                                                                <option value="{{country.phone_code}}">{{country.phone_code}}</option>
                                                                {% endfor %}
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-9">
                                                        <input type="text" class="form-control" name="room{{forloop.parentloop.counter}}_adult_phone{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_adult_phone{{forloop.counter}}" placeholder="Phone Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number '">
                                                    </div>
                                                </div>
                                            </div>
                                            <label style="font-size:12px; padding:0;">Example: +62812345678</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        {% endfor %}

                        {% for child in room.child_obj %}
                        <div class="row" id="room{{forloop.parentloop.counter}}_child{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div style="background-color:#f15a22; padding:5px; cursor: pointer;" onclick="show_paxs_tour('{{room_amount}}','child', '{{forloop.parentloop.counter}}', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"></div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:center;">
                                            <span style="color:white; text-align:center; font-size:16px;">Room {{forloop.parentloop.counter}} {{room.name}} {{room.bed_type}} - Child {{forloop.counter}} <i class="fas fa-info-circle"></i></span>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3" style="text-align:right;">
                                            <span style="color:white; text-align:right; margin-right:5px; display:none;" id="room{{forloop.parentloop.counter}}_child_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:white; text-align:right; margin-right:5px;" id="room{{forloop.parentloop.counter}}_child_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid #f15a22; display:none;" id="room{{forloop.parentloop.counter}}_child_paxs{{forloop.counter}}">
                                    <div class="row">
                                        <div class="col-lg-6" style="text-align:left;"></div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_room{{forloop.parentloop.counter}}_child{{forloop.counter}}" onclick="loadingPaxHide();"> Search <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="room{{forloop.parentloop.counter}}_child_clear{{forloop.counter}}" onclick="clear_passenger_tour('Child', {{forloop.parentloop.counter}}, {{forloop.counter}});" value="clear"> Clear <i class="fas fa-times"></i></button>
                                        </div>
                                        <div class="modal fade" id="myModal_room{{forloop.parentloop.counter}}_child{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">
                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:white;">Room {{forloop.parentloop.counter}} {{room.name}} {{room.bed_type}} - Child {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <input type="text" id="train_room{{forloop.parentloop.counter}}_child{{forloop.counter}}_search" placeholder="Search" style="padding:5px;"/>
                                                        <button type="button" class="primary-btn" style="line-height:34px;" onclick="search_passenger_tour('Child', {{forloop.parentloop.counter}},{{forloop.counter}}, 'tour')">Search</button>
                                                        <div class="row" id="loading-paxc-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <div class="sk-circle">
                                                                    <div class="sk-circle1 sk-child"></div>
                                                                    <div class="sk-circle2 sk-child"></div>
                                                                    <div class="sk-circle3 sk-child"></div>
                                                                    <div class="sk-circle4 sk-child"></div>
                                                                    <div class="sk-circle5 sk-child"></div>
                                                                    <div class="sk-circle6 sk-child"></div>
                                                                    <div class="sk-circle7 sk-child"></div>
                                                                    <div class="sk-circle8 sk-child"></div>
                                                                    <div class="sk-circle9 sk-child"></div>
                                                                    <div class="sk-circle10 sk-child"></div>
                                                                    <div class="sk-circle11 sk-child"></div>
                                                                    <div class="sk-circle12 sk-child"></div>
                                                                </div>
                                                                <div style="text-align:center"><h6>PLEASE WAIT</h6></div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result_room{{forloop.parentloop.counter}}_child{{forloop.counter}}" style="overflow:auto;height:300px;">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6">
                                            <label>Title</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select-2">
                                                    <select id="room{{forloop.parentloop.counter}}_child_title{{forloop.counter}}" name="room{{forloop.parentloop.counter}}_child_title{{forloop.counter}}">
                                                        {% for title in infant_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6"></div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>First name and middle name (if any)</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="room{{forloop.parentloop.counter}}_child_first_name{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_child_first_name{{forloop.counter}}" placeholder="First Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="room{{forloop.parentloop.counter}}_child_id{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_child_id{{forloop.counter}}">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Last name</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="room{{forloop.parentloop.counter}}_child_last_name{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_child_last_name{{forloop.counter}}" placeholder="Last Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Nationality</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id="room{{forloop.parentloop.counter}}_child_nationality{{forloop.counter}}" name="room{{forloop.parentloop.counter}}_child_nationality{{forloop.counter}}">
                                                        {% for country in countries%}
                                                        <option value="{{country.code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Birth Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control date-picker-birth" name="room{{forloop.parentloop.counter}}_child_birth_date{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_child_birth_date{{forloop.counter}}" onchange="check_years_old({{forloop.parentloop.counter}},{{forloop.counter}})" placeholder="Birth Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off">
                                                <input type="hidden" class="form-control" name="room{{forloop.parentloop.counter}}_child_years_old{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_child_years_old{{forloop.counter}}">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Number</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="room{{forloop.parentloop.counter}}_child_passport_number{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_child_passport_number{{forloop.counter}}" placeholder="Passport Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Number '">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Expired Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control date-picker-passport" name="room{{forloop.parentloop.counter}}_child_passport_expired_date{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_child_passport_expired_date{{forloop.counter}}" placeholder="Passport Expired Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Expired Date '">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Country of Issued</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id="room{{forloop.parentloop.counter}}_child_country_of_issued{{forloop.counter}}" name="room{{forloop.parentloop.counter}}_child_country_of_issued{{forloop.counter}}">
                                                        <option value="">Select Country</option>
                                                        {% for country in countries%}
                                                        <option value="{{country.code}}">{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        {% endfor %}


                        {% for infant in room.infant_obj %}
                        <div class="row" id="room{{forloop.parentloop.counter}}_infant{{forloop.counter}}">
                            <div class="col-lg-12">
                                <div style="background-color:#f15a22; padding:5px; cursor: pointer;" onclick="show_paxs_tour('{{room_amount}}','infant', '{{forloop.parentloop.counter}}', '{{forloop.counter}}');">
                                    <div class="row">
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"></div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="text-align:center;">
                                            <span style="color:white; text-align:center; font-size:16px;">Room {{forloop.parentloop.counter}} {{room.name}} {{room.bed_type}} - Infant {{forloop.counter}} <i class="fas fa-info-circle"></i></span>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3" style="text-align:right;">
                                            <span style="color:white; text-align:right; margin-right:5px; display:none;" id="room{{forloop.parentloop.counter}}_infant_down_paxs{{forloop.counter}}"><i class="fas fa-minus" style="font-size:14px;"></i></span>
                                            <span style="color:white; text-align:right; margin-right:5px;" id="room{{forloop.parentloop.counter}}_infant_up_paxs{{forloop.counter}}"><i class="fas fa-plus" style="font-size:14px;"></i></span>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-12" style="background-color:white; padding:10px; border:1px solid #f15a22; display:none;" id="room{{forloop.parentloop.counter}}_infant_paxs{{forloop.counter}}">
                                    <div class="row">
                                        <div class="col-lg-6" style="text-align:left;"></div>
                                        <div class="col-lg-6" style="text-align:right;">
                                            <button type="button" class="primary-btn" data-toggle="modal" data-target="#myModal_room{{forloop.parentloop.counter}}_infant{{forloop.counter}}" onclick="loadingPaxHide();"> Search <i class="fas fa-search"></i></button>
                                            <button type="button" class="primary-btn" id="room{{forloop.parentloop.counter}}_infant_clear{{forloop.counter}}" onclick="clear_passenger_tour('Infant', {{forloop.parentloop.counter}}, {{forloop.counter}});" value="clear"> Clear <i class="fas fa-times"></i></button>
                                        </div>
                                        <div class="modal fade" id="myModal_room{{forloop.parentloop.counter}}_infant{{forloop.counter}}" role="dialog">
                                            <div class="modal-dialog">

                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title" style="color:white;">Room {{forloop.parentloop.counter}} {{room.name}} {{room.bed_type}} - Infant {{forloop.counter}} <i class="fas fa-address-card"></i></h4>
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <input type="text" id="train_room{{forloop.parentloop.counter}}_infant{{forloop.counter}}_search" placeholder="Search" style="padding:5px;"/>
                                                        <button type="button" class="primary-btn" style="line-height:34px;" onclick="search_passenger_tour('Infant', {{forloop.parentloop.counter}}, {{forloop.counter}}, 'tour')">Search</button>
                                                        <div class="row" id="loading-paxi-train" style="display:none;">
                                                            <div class="col-lg-12">
                                                                <div class="sk-circle">
                                                                    <div class="sk-circle1 sk-child"></div>
                                                                    <div class="sk-circle2 sk-child"></div>
                                                                    <div class="sk-circle3 sk-child"></div>
                                                                    <div class="sk-circle4 sk-child"></div>
                                                                    <div class="sk-circle5 sk-child"></div>
                                                                    <div class="sk-circle6 sk-child"></div>
                                                                    <div class="sk-circle7 sk-child"></div>
                                                                    <div class="sk-circle8 sk-child"></div>
                                                                    <div class="sk-circle9 sk-child"></div>
                                                                    <div class="sk-circle10 sk-child"></div>
                                                                    <div class="sk-circle11 sk-child"></div>
                                                                    <div class="sk-circle12 sk-child"></div>
                                                                </div>
                                                                <div style="text-align:center"><h6>PLEASE WAIT</h6></div>
                                                            </div>
                                                        </div>
                                                        <div id="search_result_room{{forloop.parentloop.counter}}_infant{{forloop.counter}}" style="overflow:auto;height:300px;">

                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-xs-6">
                                            <label>Title</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select-2">
                                                    <select id="room{{forloop.parentloop.counter}}_infant_title{{forloop.counter}}" name="room{{forloop.parentloop.counter}}_infant_title{{forloop.counter}}">
                                                        {% for title in infant_title%}
                                                        <option>{{title}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6"></div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>First name and middle name (if any)</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="room{{forloop.parentloop.counter}}_infant_first_name{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_infant_first_name{{forloop.counter}}" placeholder="First Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'First Name '">
                                                <input type="hidden" class="form-control" name="room{{forloop.parentloop.counter}}_infant_id{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_infant_id{{forloop.counter}}">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Last name</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="room{{forloop.parentloop.counter}}_infant_last_name{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_infant_last_name{{forloop.counter}}" placeholder="Last Name " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Last Name '">
                                            </div>
                                            <label style="font-size:12px; padding:0;">As on Identity Card or Passport without title and punctuation</label>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Nationality</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id="room{{forloop.parentloop.counter}}_infant_nationality{{forloop.counter}}" name="room{{forloop.parentloop.counter}}_infant_nationality{{forloop.counter}}">
                                                        {% for country in countries%}
                                                        <option value="{{country.code}}" {% if country.code == 'ID'%} selected {%endif%}>{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Birth Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control date-picker-birth" name="room{{forloop.parentloop.counter}}_infant_birth_date{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_infant_birth_date{{forloop.counter}}" placeholder="Birth Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Birth Date '" autocomplete="off">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Number</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control" name="room{{forloop.parentloop.counter}}_infant_passport_number{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_infant_passport_number{{forloop.counter}}" placeholder="Passport Number " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Number '">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <br/>
                                            <label>Passport Expired Date</label>
                                            <div class="input-container-search-ticket">
                                                <input type="text" class="form-control date-picker-passport" name="room{{forloop.parentloop.counter}}_infant_passport_expired_date{{forloop.counter}}" id="room{{forloop.parentloop.counter}}_infant_passport_expired_date{{forloop.counter}}" placeholder="Passport Expired Date " onfocus="this.placeholder = ''" onblur="this.placeholder = 'Passport Expired Date '">
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <label>Country of Issued</label>
                                            <div class="input-container-search-ticket">
                                                <div class="form-select">
                                                    <select id="room{{forloop.parentloop.counter}}_infant_country_of_issued{{forloop.counter}}" name="room{{forloop.parentloop.counter}}_infant_country_of_issued{{forloop.counter}}">
                                                        <option value="">Select Country</option>
                                                        {% for country in countries%}
                                                        <option value="{{country.code}}">{{country.name}}</option>
                                                        {% endfor %}
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="padding-top:15px;"></div>
                        </div>
                        <br/>
                        {% endfor %}
                        {% endfor %}
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="margin-top:10px;">
                        <div style="background-color:#f15a22; padding:5px;">
                            <center><span style="color:white; font-size:16px;"> Price Detail <i class="fas fa-money-bill-wave"></i></span></center>
                        </div>
                        <div style="background-color:white; padding:10px; border:1px solid #f15a22;" id="tour_detail">
                            <div id="tour_detail_table" style="padding: 0; font-size: 12px !important;">
                                <table style="width:100%;">
                                    <tr>
                                        <td style="width: 40%;">Adult Price</td>
                                        <input type="hidden" id="adult_total_pax" name="adult_total_pax" value="{{price_itinerary.adult_total_pax}}"/>
                                        <td style="width: 10%;">X</td>
                                        <td style="width: 10%;">
                                            <input id="adult_amount" name="adult_amount" value="{{price_itinerary.adult_amount}}" style="background-color: transparent; border: none; width:100%; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;" data-price="0">
                                            <input id="adult_price" name="adult_price" style="text-align:right; background-color: transparent; border: none; width:100%; color: #777777;" data-price="{{price_itinerary.adult_price}}" readonly="readonly"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 40%;">Adult Extra Bed</td>
                                        <td style="width: 10%;">X</td>
                                        <td style="width: 10%;">
                                            <input id="adult_surcharge_amount" name="adult_surcharge_amount" value="{{price_itinerary.adult_surcharge_amount}}" style="background-color: transparent; border: none; width:100%; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;" data-price="0">
                                            <input id="adult_surcharge_price" name="adult_surcharge_price" style="text-align:right; background-color: transparent; border: none; width:100%; color: #777777;" data-price="{{price_itinerary.adult_surcharge_price}}" readonly="readonly"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 40%;">Child Price</td>
                                        <input type="hidden" id="child_total_pax" name="child_total_pax" value="{{price_itinerary.child_total_pax}}"/>
                                        <td style="width: 10%;">X</td>
                                        <td style="width: 10%;">
                                            <input id="child_amount" name="child_amount" value="{{price_itinerary.child_amount}}" style="background-color: transparent; border: none; width:100%; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;" data-price="0">
                                            <input id="child_price" name="child_price" style="text-align:right; background-color: transparent; border: none; width:100%; color: #777777;" data-price="{{price_itinerary.child_price}}" readonly="readonly"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 40%;">Child Extra Bed</td>
                                        <td style="width: 10%;">X</td>
                                        <td style="width: 10%;">
                                            <input id="child_surcharge_amount" name="child_surcharge_amount" value="{{price_itinerary.child_surcharge_amount}}" style="background-color: transparent; border: none; width:100%; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;" data-price="0">
                                            <input id="child_surcharge_price" name="child_surcharge_price" style="text-align:right; background-color: transparent; border: none; width:100%; color: #777777;" data-price="{{price_itinerary.child_surcharge_price}}" readonly="readonly"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 40%;">Infant Price</td>
                                        <td style="width: 10%;">X</td>
                                        <td style="width: 10%;">
                                            <input id="infant_amount" name="infant_amount" value="{{price_itinerary.infant_amount}}" style="background-color: transparent; border: none; width:100%; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;" data-price="0">
                                            <input id="infant_price" name="infant_price" style="text-align:right; background-color: transparent; border: none; width:100%; color: #777777;" data-price="{{price_itinerary.infant_price}}" readonly="readonly"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 40%;">Single Supplement</td>
                                        <td style="width: 10%;">X</td>
                                        <td style="width: 10%;">
                                            <input id="single_supplement_amount" name="single_supplement_amount" value="{{price_itinerary.single_supplement_amount}}" style="background-color: transparent; border: none; width:100%; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;" data-price="0">
                                            <input id="single_supplement_price" name="single_supplement_price" style="text-align:right; background-color: transparent; border: none; width:100%; color: #777777;" data-price="{{price_itinerary.single_supplement_price}}" readonly="readonly"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 40%;">Airport Tax</td>
                                        <td style="width: 10%;">X</td>
                                        <td style="width: 10%;">
                                            <input id="airport_tax_amount" name="airport_tax_amount" value="{{price_itinerary.airport_tax_amount}}" style="background-color: transparent; border: none; width:100%; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;" data-price="0">
                                            <input id="airport_tax_total" name="airport_tax_total" style="text-align:right; background-color: transparent; border: none; width:100%; color: #777777;" data-price="{{price_itinerary.airport_tax_total}}" readonly="readonly"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 40%;">Tipping Local Guide</td>
                                        <td style="width: 10%;">X</td>
                                        <td style="width: 10%;">
                                            <input id="tipping_guide_amount" name="tipping_guide_amount" value="{{price_itinerary.tipping_guide_amount}}" style="background-color: transparent; border: none; width:100%; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;" data-price="0">
                                            <input id="tipping_guide_total" name="tipping_guide_total" style="text-align:right; background-color: transparent; border: none; width:100%; color: #777777;" data-price="{{price_itinerary.tipping_guide_total}}" readonly="readonly"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 40%;">Tipping Tour Leader</td>
                                        <td style="width: 10%;">X</td>
                                        <td style="width: 10%;">
                                            <input id="tipping_tour_leader_amount" name="tipping_tour_leader_amount" value="{{price_itinerary.tipping_tour_leader_amount}}" style="background-color: transparent; border: none; width:100%; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;" data-price="0">
                                            <input id="tipping_tour_leader_total" name="tipping_tour_leader_total" style="text-align:right; background-color: transparent; border: none; width:100%; color: #777777;" data-price="{{price_itinerary.tipping_tour_leader_total}}" readonly="readonly"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 40%;">Additional Charge</td>
                                        <td style="width: 10%;">X</td>
                                        <td style="width: 10%;">
                                            <input id="additional_charge_amount" name="additional_charge_amount" value="{{price_itinerary.additional_charge_amount}}" style="background-color: transparent; border: none; width:100%; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;" data-price="0">
                                            <input id="additional_charge_total" name="additional_charge_total" style="text-align:right; background-color: transparent; border: none; width:100%; color: #777777;" data-price="{{price_itinerary.additional_charge_total}}" readonly="readonly"/>
                                        </td>
                                    </tr>
                                </table>
                                <br/>
                                <table>
                                    <tr>
                                        <td style="width: 40%;">Total</td>
                                        <td style="width: 10%;"></td>
                                        <td style="width: 10%;"></td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;">
                                            <input id="sub_total" name="sub_total" style="text-align:right; background-color: transparent; border: none; width:100%; font-size:12px !important; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <input type="hidden" id="sub_total_hidden" name="sub_total_hidden" value="{{price_itinerary.sub_total_itinerary_price}}"/>
                                    </tr>
                                    <tr>
                                        <td style="width: 40%;">Discount</td>
                                        <td style="width: 10%;"></td>
                                        <td style="width: 10%;"></td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; width: 30%;">
                                            <input id="discount_total" name="discount_total" style="text-align:right; background-color: transparent; border: none; width:100%; font-size:12px !important; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <input type="hidden" id="discount_total_hidden" name="discount_total_hidden" value="{{price_itinerary.discount_total_itinerary_price}}"/>
                                    </tr>
                                </table>
                                <hr/>
                                <table style="width:100%;">
                                    <tr>
                                        <td style="width: 40%;"><span style="font-weight: bold; font-size: 14px !important;">Grand Total</span></td>
                                        <td style="width: 10%;"></td>
                                        <td style="width: 10%;"></td>
                                        <td style="width: 10%;"></td>
                                        <td style="text-align: right; font-weight: bold; font-size: 14px !important; width: 30%;">
                                            <input id="grand_total" name="grand_total" style="text-align:right; background-color: transparent; border: none; width:100%; font-size:16px; font-weight: bold; color: #777777;" readonly="readonly"/>
                                        </td>
                                        <input type="hidden" id="grand_total_hidden" name="grand_total_hidden" value="{{total_itinerary_price}}"/>
                                        <input id="commission_total" name="commission_total" type="hidden" value="{{price_itinerary.commission_total}}"/>
                                    </tr>
                                </table>
                                <div class="row" id="show_commission" style="display:none;">
                                    <br/>
                                    <div class="col-lg-12 col-xs-12" style="text-align:center;">
                                        <div class="alert alert-success">
                                            <span style="font-size:13px;">Your Commission: IDR </span><span id="commission_total_content"></span><br>
                                        </div>
                                    </div>
                                </div>
                                <div class="row" style="margin:20px 0px 0px 0px; text-align:center;">
                                    <div class="col-xs-12">
                                        <input type="button" class="primary-btn-ticket" data-toggle="modal" data-target="#copiedModal" onclick="copy_data();" value="Copy" style="width:100%;"/>
                                    </div>
                                </div>
                                <div class="row" style="margin:10px 0px 10px 0px; text-align:center;">
                                    <div class="col-xs-12">
                                        <input type="button" id="show_commission_button" class="primary-btn-ticket" value="Show Commission" style="width:100%;" onclick="show_commission();"/>
                                    </div>

                                    <div id="copiedModal" class="modal fade" role="dialog">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h4>Copy</h4>
                                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                </div>
                                                <div class="modal-body">
                                                    <span style="font-weight:bold">Copied!</span>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br/>
                        <center>
                            <button type="button" class="primary-btn-ticket" value="Next" onclick="check_passenger({{room_amount}});" style="width:90%;">
                                Next
                                <i class="fas fa-angle-right"></i>
                            </button>
                        </center>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<footer class="footer-area section-gap">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-footer-widget">
                    <h6>About RODEX TRIP</h6>
                    <p>
                        PT. Roda Express Sukses Mandiri adalah perusahaan yang bergerak di bidang Tour & Travel dan dikenal dengan nama RODEX TOUR & TRAVEL. Rodex Tour & Travel didirikan pertama kali pada tanggal 09 September 2009 bertempat di sebuah pusat perbelanjaan terkemuka di Surabaya yaitu Mall Pakuwon Trade Center (PTC). Di bawah kepemimpinan Bapak Galuh Suryono Cipto Adi, Rodex Tour & Travel mengalami perkembangan yang signifikan dari tahun ke tahun.
                    </p>
                    <p>
                        Hingga saat ini kami telah memiliki  lebih kurang 1.000 orang reseller yang teregister dan puluhan Cabang Mitra (Citra) yang tersebar di seluruh indonesia.
                    </p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-footer-widget">
                    <h6>Navigation Links</h6>
                    <div class="row">
                        <div class="col">
                            <ul>
                                <li><a href="#">Home</a></li>
                                <li><a href="#">Feature</a></li>
                                <li><a href="#">Services</a></li>
                                <li><a href="#">Portfolio</a></li>
                            </ul>
                        </div>
                        <div class="col">
                            <ul>
                                <li><a href="#">Team</a></li>
                                <li><a href="#">Pricing</a></li>
                                <li><a href="#">Blog</a></li>
                                <li><a href="#">Contact</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-6">
                <div class="single-footer-widget">
                    <h6>Newsletter</h6>
                    <p>
                        For business professionals caught between high OEM price and mediocre print and graphic output.
                    </p>
                    <div id="mc_embed_signup">
                        <form target="_blank" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01" method="get" class="subscription relative">
                            <div class="input-group d-flex flex-row">
                                <input name="EMAIL" placeholder="Email Address" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address '" required="" type="email">
                                <button class="btn bb-btn"><span class="lnr lnr-location"></span></button>
                            </div>
                            <div class="mt-10 info"></div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="row footer-bottom d-flex justify-content-between align-items-center">
            <p class="col-lg-8 col-sm-12 footer-text m-0"><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved by RODEX TRIP
                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
            <div class="col-lg-4 col-sm-12 footer-social">
                <a href="#"><i class="fa fa-facebook"></i></a>
                <a href="#"><i class="fa fa-twitter"></i></a>
                <a href="#"><i class="fa fa-dribbble"></i></a>
                <a href="#"><i class="fa fa-behance"></i></a>
            </div>
        </div>
    </div>
</footer>

<script>
    document.getElementById("commission_total_content").innerHTML = getrupiah('{{price_itinerary.commission_total}}');
    document.getElementById("adult_price").value = getrupiah('{{price_itinerary.adult_price}}');
    document.getElementById("adult_surcharge_price").value = getrupiah('{{price_itinerary.adult_surcharge_price}}');
    document.getElementById("child_price").value = getrupiah('{{price_itinerary.child_price}}');
    document.getElementById("child_surcharge_price").value = getrupiah('{{price_itinerary.child_surcharge_price}}');
    document.getElementById("infant_price").value = getrupiah('{{price_itinerary.infant_price}}');
    document.getElementById("single_supplement_price").value = getrupiah('{{price_itinerary.single_supplement_price}}');
    document.getElementById("airport_tax_total").value = getrupiah('{{price_itinerary.airport_tax_total}}');
    document.getElementById("tipping_guide_total").value = getrupiah('{{price_itinerary.tipping_guide_total}}');
    document.getElementById("tipping_tour_leader_total").value = getrupiah('{{price_itinerary.tipping_tour_leader_total}}');
    document.getElementById("additional_charge_total").value = getrupiah('{{price_itinerary.additional_charge_total}}');
    document.getElementById("sub_total").value = getrupiah('{{price_itinerary.sub_total_itinerary_price}}');
    document.getElementById("discount_total").value = getrupiah('{{price_itinerary.discount_total_itinerary_price}}');
    document.getElementById("grand_total").value = getrupiah('{{total_itinerary_price}}');

    $(function() {
      for (var j = 1; j <= {{room_amount}}; j++)
      {
          for (var i = 1; i <= adult; i++){
              $('input[name="room'+j+'_adult_birth_date'+i+'"]').daterangepicker({
                  singleDatePicker: true,
                  autoUpdateInput: true,
                  startDate: moment().subtract(17, 'years'),
                  minDate: moment().subtract(100, 'years'),
                  maxDate: moment().subtract(12, 'years'),
                  showDropdowns: true,
                  opens: 'center',
                  locale: {
                      format: 'DD MMM YYYY',
                  }
              });
              $('input[name="room'+j+'_adult_birth_date'+i+'"]').val("");

              $('input[name="room'+j+'_adult_passport_expired_date'+i+'"]').daterangepicker({
                  singleDatePicker: true,
                  autoUpdateInput: true,
                  startDate: moment(),
                  minDate: moment(),
                  showDropdowns: true,
                  opens: 'center',
                  locale: {
                      format: 'DD MMM YYYY',
                  }
              });
              $('input[name="room'+j+'_adult_passport_expired_date'+i+'"]').val("");
          }

          for (var i = 1; i <= child; i++){
              $('input[name="room'+j+'_child_birth_date'+i+'"]').daterangepicker({
                  singleDatePicker: true,
                  autoUpdateInput: true,
                  startDate: moment().subtract(5, 'years'),
                  minDate: moment().subtract(11, 'years').subtract(365, 'days'),
                  maxDate: moment().subtract(2, 'years'),
                  showDropdowns: true,
                  opens: 'center',
                  locale: {
                      format: 'DD MMM YYYY',
                  }
              });
              $('input[name="room'+j+'_child_birth_date'+i+'"]').val("");

              $('input[name="room'+j+'_child_passport_expired_date'+i+'"]').daterangepicker({
                  singleDatePicker: true,
                  autoUpdateInput: true,
                  startDate: moment(),
                  minDate: moment(),
                  showDropdowns: true,
                  opens: 'center',
                  locale: {
                      format: 'DD MMM YYYY',
                  }
              });
              $('input[name="room'+j+'_child_passport_expired_date'+i+'"]').val("");
          }

          for (var i = 1; i <= infant; i++){
              $('input[name="room'+j+'_infant_birth_date'+i+'"]').daterangepicker({
                  singleDatePicker: true,
                  autoUpdateInput: true,
                  startDate: moment().subtract(1, 'years'),
                  minDate: moment().subtract(1, 'years').subtract(364, 'days'),
                  maxDate: moment(),
                  showDropdowns: true,
                  opens: 'center',
                  locale: {
                      format: 'DD MMM YYYY',
                  }
              });
              $('input[name="room'+j+'_infant_birth_date'+i+'"]').val("");

              $('input[name="room'+j+'_infant_passport_expired_date'+i+'"]').daterangepicker({
                  singleDatePicker: true,
                  autoUpdateInput: true,
                  startDate: moment(),
                  minDate: moment(),
                  showDropdowns: true,
                  opens: 'center',
                  locale: {
                      format: 'DD MMM YYYY',
                  }
              });
              $('input[name="room'+j+'_infant_passport_expired_date'+i+'"]').val("");
          }
      }
    });
</script>
{% endblock %}
